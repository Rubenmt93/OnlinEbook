(self.webpackChunkonlin_ebook=self.webpackChunkonlin_ebook||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},5772:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,s,o,a,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(s=this._events[e]))return!1;if(n(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(r(s))for(a=Array.prototype.slice.call(arguments,1),o=(l=s.slice()).length,c=0;c<o;c++)l[c].apply(this,a);return!0},t.prototype.on=t.prototype.addListener=function(e,s){var o;if(!n(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(s.listener)?s.listener:s),this._events[e]?r(this._events[e])?this._events[e].push(s):this._events[e]=[this._events[e],s]:this._events[e]=s,r(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,s,o,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,s=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(a=o;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){s=a;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},7238:(e,t,n)=>{"use strict";n.d(t,{l3:()=>s,_j:()=>r,LC:()=>i,ZN:()=>g,jt:()=>a,pV:()=>p,F4:()=>h,IO:()=>f,vP:()=>c,SB:()=>u,oB:()=>l,eR:()=>d,X$:()=>o,ZE:()=>y,k1:()=>v});class r{}class i{}const s="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function c(e,t=null){return{type:2,steps:e,options:t}}function l(e){return{type:6,styles:e,offset:null}}function u(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e){return{type:5,steps:e}}function d(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function p(e=null){return{type:9,options:e}}function f(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function m(e){Promise.resolve(null).then(e)}class g{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class y{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?m(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const v="!"},4765:(e,t,n)=>{"use strict";n.d(t,{rt:()=>K,s1:()=>x,Qr:()=>j,kH:()=>H,mK:()=>P,Em:()=>T,tE:()=>z,qV:()=>O,qm:()=>Y,Kd:()=>q,X6:()=>D,yG:()=>R});var r=n(8583),i=n(7716),s=n(9765),o=n(5319),a=n(6215),c=n(5917),l=n(6461),u=n(7393);class h{constructor(e){this.total=e}call(e,t){return t.subscribe(new d(e,this.total))}}class d extends u.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}var p=n(3342),f=n(4395),m=n(5435),g=n(8002),y=n(5257),v=n(7519),_=n(6782),b=n(9490),w=n(521),C=n(8553);class S{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new s.xQ,this._typeaheadSubscription=o.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new s.xQ,this.change=new s.xQ,e instanceof i.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(e=>this._pressedLetters.push(e)),(0,f.b)(e),(0,m.h)(()=>this._pressedLetters.length>0),(0,g.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case l.Mf:return void this.tabOut.next();case l.JH:if(this._vertical&&n){this.setNextItemActive();break}return;case l.LH:if(this._vertical&&n){this.setPreviousItemActive();break}return;case l.SV:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case l.oh:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case l.Sd:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case l.uR:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||(0,l.Vb)(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=l.A&&t<=l.Z||t>=l.xE&&t<=l.aO)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}class x extends S{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class T extends S{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let E=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===A(t))return!1;if(!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=A(e);return e.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||k(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4))},token:e,providedIn:"root"}),e})();function k(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function A(e){if(!k(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class I{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,y.q)(1)).subscribe(e)}}let O=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new I(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(E),i.LFG(i.R0b),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(E),i.LFG(i.R0b),i.LFG(r.K0))},token:e,providedIn:"root"}),e})(),P=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=(0,b.Ig)(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=(0,b.Ig)(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,w.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(O),i.Y36(r.K0))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[i.TTD]}),e})();function D(e){return 0===e.offsetX&&0===e.offsetY}function R(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const F=new i.OlP("cdk-input-modality-detector-options"),N={ignoreKeys:[l.zL,l.jx,l.b2,l.MW,l.JU]},M=(0,w.i$)({passive:!0,capture:!0});let L=(()=>{class e{constructor(e,t,n,r){this._platform=e,this._mostRecentTarget=null,this._modality=new a.X(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,n;(null===(n=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===n?void 0:n.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,w.sA)(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(D(e)?"keyboard":"mouse"),this._mostRecentTarget=(0,w.sA)(e))},this._onTouchstart=e=>{R(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,w.sA)(e))},this._options=Object.assign(Object.assign({},N),r),this.modalityDetected=this._modality.pipe(e=>e.lift(new h(1))),this.modalityChanged=this.modalityDetected.pipe((0,v.x)()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,M),n.addEventListener("mousedown",this._onMousedown,M),n.addEventListener("touchstart",this._onTouchstart,M)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,M),document.removeEventListener("mousedown",this._onMousedown,M),document.removeEventListener("touchstart",this._onTouchstart,M))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(F,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(F,8))},token:e,providedIn:"root"}),e})();const Z=new i.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),U=new i.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q=(()=>{class e{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Z,8),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(U,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Z,8),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(U,8))},token:e,providedIn:"root"}),e})(),j=(()=>{class e{constructor(e,t,n,r){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=r,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(q),i.Y36(C.yq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),e})();const B=new i.OlP("cdk-focus-monitor-default-options"),V=(0,w.i$)({passive:!0,capture:!0});let z=(()=>{class e{constructor(e,t,n,r,i){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new s.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=(0,w.sA)(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){const n=(0,b.fI)(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,c.of)(null);const r=(0,w.kV)(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const o={checkChildren:t,subject:new s.xQ,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=(0,b.fI)(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=(0,b.fI)(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOrigin(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),r=(0,w.sA)(e);n&&(n.checkChildren||t===r)&&this._originChanged(t,this._getFocusOrigin(r),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,V),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,V)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,_.R)(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(w.t4),i.LFG(L),i.LFG(r.K0,8),i.LFG(B,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(w.t4),i.LFG(L),i.LFG(r.K0,8),i.LFG(B,8))},token:e,providedIn:"root"}),e})(),H=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new i.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(z))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})();const G="cdk-high-contrast-black-on-white",$="cdk-high-contrast-white-on-black",W="cdk-high-contrast-active";let Y=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(W),e.remove(G),e.remove($),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(W),e.add(G)):2===t&&(e.add(W),e.add($))}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4),i.LFG(r.K0))},token:e,providedIn:"root"}),e})(),K=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Y))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[w.ud,C.Q8]]}),e})()},946:(e,t,n)=>{"use strict";n.d(t,{vT:()=>a,Is:()=>o});var r=n(7716),i=n(8583);const s=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(i.K0)}});let o=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(s,8))},token:e,providedIn:"root"}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},8345:(e,t,n)=>{"use strict";n.d(t,{P3:()=>c,Ov:()=>h,yy:()=>l,eX:()=>u,k:()=>d,Z9:()=>a});var r=n(5639),i=n(5917),s=n(9765),o=n(7716);function a(e){return e&&"function"==typeof e.connect}class c extends class{}{constructor(e){super(),this._data=e}connect(){return(0,r.b)(this._data)?this._data:(0,i.of)(this._data)}disconnect(){}}class l{applyChanges(e,t,n,r,i){e.forEachOperation((e,r,s)=>{let o,a;if(null==e.previousIndex){const i=n(e,r,s);o=t.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(t.remove(r),a=3):(o=t.get(r),t.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class u{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,r,i){e.forEachOperation((e,s,o)=>{let a,c;null==e.previousIndex?(a=this._insertView(()=>n(e,s,o),o,t,r(e)),c=a?1:0):null==o?(this._detachAndCacheView(s,t),c=3):(a=this._moveView(s,o,t,r(e)),c=2),i&&i({context:null==a?void 0:a.context,operation:c,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,r){const i=this._insertViewFromCache(t,n);if(i)return void(i.context.$implicit=r);const s=e();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,r){const i=n.get(e);return n.move(i,t),i.context.$implicit=r,i}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class h{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new s.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const d=new o.OlP("_ViewRepeater")},6461:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,zL:()=>c,ZH:()=>r,jx:()=>a,JH:()=>v,uR:()=>p,K5:()=>s,hY:()=>l,Sd:()=>f,oh:()=>m,b2:()=>x,MW:()=>S,aO:()=>b,VM:()=>d,Ku:()=>h,SV:()=>y,JU:()=>o,L_:()=>u,Mf:()=>i,LH:()=>g,Z:()=>C,xE:()=>_,Vb:()=>T});const r=8,i=9,s=13,o=16,a=17,c=18,l=27,u=32,h=33,d=34,p=35,f=36,m=37,g=38,y=39,v=40,_=48,b=57,w=65,C=90,S=91,x=224;function T(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}},8553:(e,t,n)=>{"use strict";n.d(t,{wD:()=>u,yq:()=>l,Q8:()=>h});var r=n(9490),i=n(7716),s=n(7574),o=n(9765),a=n(4395);let c=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),l=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=(0,r.fI)(e);return new s.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new o.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(c))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(c))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,r.Ig)(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=(0,r.su)(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,a.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l),i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[c]}),e})()},625:(e,t,n)=>{"use strict";n.d(t,{pI:()=>K,xu:()=>Y,_G:()=>L,aV:()=>G,X_:()=>k,Xj:()=>R,U8:()=>J});var r=n(2692),i=n(7716),s=n(521),o=n(946),a=n(8583),c=n(9490),l=n(7636),u=n(9765),h=n(5319),d=n(6682),p=n(7393);class f{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new m(e,this.predicate,this.inclusive))}}class m extends p.L{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}var g=n(5257),y=n(6782),v=n(6461);const _=(0,s.Mq)();class b{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,c.HM)(-this._previousScrollPosition.left),e.style.top=(0,c.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_&&(t.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class w{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C{enable(){}disable(){}attach(){}}function S(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function x(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class T{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();S(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let E=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new C,this.close=e=>new w(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new b(this._viewportRuler,this._document),this.reposition=e=>new T(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.mF),i.LFG(r.rL),i.LFG(i.R0b),i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.mF),i.LFG(r.rL),i.LFG(i.R0b),i.LFG(a.K0))},token:e,providedIn:"root"}),e})();class k{constructor(e){if(this.scrollStrategy=new C,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class A{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class I{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let O=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0))},token:e,providedIn:"root"}),e})(),P=(()=>{class e extends O{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0))},token:e,providedIn:"root"}),e})(),D=(()=>{class e extends O{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._pointerDownListener=e=>{this._pointerDownEventTarget=(0,s.sA)(e)},this._clickListener=e=>{const t=(0,s.sA)(e),n="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const s=r[i];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(t)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0),i.LFG(s.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0),i.LFG(s.t4))},token:e,providedIn:"root"}),e})(),R=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,s.Oy)()){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),(0,s.Oy)()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0),i.LFG(s.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0),i.LFG(s.t4))},token:e,providedIn:"root"}),e})();class F{constructor(e,t,n,r,i,s,o,a,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new u.xQ,this._attachments=new u.xQ,this._detachments=new u.xQ,this._locationChanges=h.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new u.xQ,this._outsidePointerEvents=new u.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,g.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,c.HM)(this._config.width),e.height=(0,c.HM)(this._config.height),e.minWidth=(0,c.HM)(this._config.minWidth),e.minHeight=(0,c.HM)(this._config.minHeight),e.maxWidth=(0,c.HM)(this._config.maxWidth),e.maxHeight=(0,c.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;(0,c.Eq)(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,y.R)((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const N="cdk-overlay-connected-position-bounding-box",M=/([A-Za-z%]+)$/;class L{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.xQ,this._resizeSubscription=h.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(N),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),c=this._getOverlayFit(a,t,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Z(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(N),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=q(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,l,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=U(this._overlayRef.getConfig().minHeight),o=U(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=q(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),c=Math.max(i.left-n.left-e.x,0);let l=0,u=0;return l=r.width<=i.width?c||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:l,y:u},{x:e.x+l,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new I(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)l=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)c=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,c=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=(0,c.HM)(n.height),r.top=(0,c.HM)(n.top),r.bottom=(0,c.HM)(n.bottom),r.width=(0,c.HM)(n.width),r.left=(0,c.HM)(n.left),r.right=(0,c.HM)(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=(0,c.HM)(e)),i&&(r.maxWidth=(0,c.HM)(i))}this._lastBoundingBoxSize=n,Z(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Z(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Z(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Z(n,this._getExactOverlayY(t,e,r)),Z(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=(0,c.HM)(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=(0,c.HM)(s.maxWidth):i&&(n.maxWidth="")),Z(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=(0,c.HM)(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=(0,c.HM)(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:x(e,n),isOriginOutsideView:S(e,n),isOverlayClipped:x(t,n),isOverlayOutsideView:S(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,c.Eq)(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof i.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function Z(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function U(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(M);return n&&"px"!==n?null:parseFloat(t)}return e||null}function q(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class j{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new L(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new A(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const B="cdk-global-overlay-wrapper";class V{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(B),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(B),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let z=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new V}connectedTo(e,t,n){return new j(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new L(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.rL),i.LFG(a.K0),i.LFG(s.t4),i.LFG(R))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.rL),i.LFG(a.K0),i.LFG(s.t4),i.LFG(R))},token:e,providedIn:"root"}),e})(),H=0,G=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c,l,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new k(e);return i.direction=i.direction||this._directionality.value,new F(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+H++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new l.u0(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(E),i.LFG(R),i.LFG(i._Vd),i.LFG(z),i.LFG(P),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(a.K0),i.LFG(o.Is),i.LFG(a.Ye),i.LFG(D))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const $=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],W=new i.OlP("cdk-connected-overlay-scroll-strategy");let Y=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),K=(()=>{class e{constructor(e,t,n,r,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.w.EMPTY,this._attachSubscription=h.w.EMPTY,this._detachSubscription=h.w.EMPTY,this._positionSubscription=h.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new l.UE(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,c.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,c.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,c.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,c.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,c.Ig)(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=$);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),e.keyCode!==v.hY||this.disableClose||(0,v.Vb)(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new k({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new f(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(G),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(W),i.Y36(o.Is,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),e})();const Q={provide:W,deps:[G],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[G,Q],imports:[[o.vT,l.eL,r.Cl],r.Cl]}),e})()},521:(e,t,n)=>{"use strict";n.d(t,{t4:()=>a,ud:()=>c,sA:()=>b,ht:()=>_,kV:()=>v,Oy:()=>w,_i:()=>y,qK:()=>u,i$:()=>m,Mq:()=>g});var r=n(7716),i=n(8583);let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(C){s=!1}let o,a=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,i.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const l=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(l),o;let e=document.createElement("input");return o=new Set(l.filter(t=>(e.setAttribute("type",t),e.type===t))),o}let h,d,p,f;function m(e){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?e:!!e.capture}function g(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const e=Element.prototype.scrollTo;p=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return p}function y(){if("object"!=typeof document||!document)return 0;if(null==d){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),d=0,0===e.scrollLeft&&(e.scrollLeft=1,d=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return d}function v(e){if(function(){if(null==f){const e="undefined"!=typeof document?document.head:null;f=!(!e||!e.createShadowRoot&&!e.attachShadow)}return f}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function _(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function b(e){return e.composedPath?e.composedPath()[0]:e.target}function w(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7636:(e,t,n)=>{"use strict";n.d(t,{en:()=>l,Pl:()=>h,C5:()=>o,u0:()=>u,eL:()=>d,UE:()=>a});var r=n(7716),i=n(8583);class s{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class o extends s{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class a extends s{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class c extends s{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class l{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof o?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof c?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u extends l{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let h=(()=>{class e extends l{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(i.K0))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},2692:(e,t,n)=>{"use strict";n.d(t,{PQ:()=>v,ZD:()=>b,mF:()=>y,Cl:()=>w,rL:()=>_});var r=n(9490),i=n(7716),s=n(6465),o=n(6102);new class extends o.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends s.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var a=n(9765),c=n(5917),l=n(7574),u=n(2759),h=(n(4581),n(5319),n(5639),n(7519),n(628)),d=n(5435),p=n(6782),f=(n(9761),n(9328),n(3190),n(2066),n(521)),m=n(8583),g=n(946);n(8345);let y=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new a.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new l.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe((0,h.e)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,c.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe((0,d.h)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=(0,r.fI)(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,u.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(f.t4),i.LFG(m.K0,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(f.t4),i.LFG(m.K0,8))},token:e,providedIn:"root"}),e})(),v=(()=>{class e{constructor(e,t,n,r){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=r,this._destroyed=new a.xQ,this._elementScrolled=new l.y(e=>this.ngZone.runOutsideAngular(()=>(0,u.R)(this.elementRef.nativeElement,"scroll").pipe((0,p.R)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=(0,f._i)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==(0,f._i)()?e.left=e.right:1==(0,f._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;(0,f.Mq)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",n="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==e?e=i?n:t:"end"==e&&(e=i?t:n),i&&2==(0,f._i)()?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==(0,f._i)()?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(y),i.Y36(i.R0b),i.Y36(g.Is,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),_=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new a.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,h.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f.t4),i.LFG(i.R0b),i.LFG(m.K0,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(f.t4),i.LFG(i.R0b),i.LFG(m.K0,8))},token:e,providedIn:"root"}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[g.vT,f.ud,b],g.vT,b]}),e})()},6109:(e,t,n)=>{"use strict";n.d(t,{Lq:()=>p,IC:()=>f,Ky:()=>m});var r=n(521),i=n(7716),s=n(9490),o=n(9193),a=n(9765),c=n(2759),l=n(628),u=n(6782),h=n(8583);const d=(0,r.i$)({passive:!0});let p=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return o.E;const t=(0,s.fI)(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new a.xQ,i="cdk-text-field-autofilled",c=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",c,d),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",c,d)}}),r}stopMonitoring(e){const t=(0,s.fI)(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.t4),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.t4),i.LFG(i.R0b))},token:e,providedIn:"root"}),e})(),f=(()=>{class e{constructor(e,t,n,r){this._elementRef=e,this._platform=t,this._ngZone=n,this._destroyed=new a.xQ,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=e=>{this._hasFocus="focus"===e.type},this._document=r,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=(0,s.su)(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=(0,s.su)(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=(0,s.Ig)(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=e,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();(0,c.R)(e,"resize").pipe((0,l.e)(16),(0,u.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,this._textareaElement.parentNode.removeChild(e),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,t=e.style.marginBottom||"",n=this._platform.FIREFOX,r=n&&this._hasFocus,i=n?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";r&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(i);const s=e.scrollHeight-4;return e.classList.remove(i),r&&(e.style.marginBottom=t),s}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight)return;const t=this._elementRef.nativeElement,n=t.value;if(!e&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const r=this._measureScrollHeight(),i=Math.max(r,this._cachedPlaceholderHeight||0);t.style.height=`${i}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(t)):setTimeout(()=>this._scrollToCaretPosition(t))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:t,selectionEnd:n}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(r.t4),i.Y36(i.R0b),i.Y36(h.K0,8))},e.\u0275dir=i.lG2({type:e,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,t){1&e&&i.NdJ("input",function(){return t._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ud]]}),e})()},9490:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>o,Ig:()=>i,HM:()=>a,fI:()=>c,su:()=>s,du:()=>l});var r=n(7716);function i(e){return null!=e&&"false"!=`${e}`}function s(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function o(e){return Array.isArray(e)?e:[e]}function a(e){return null==e?"":"string"==typeof e?e:`${e}px`}function c(e){return e instanceof r.SBq?e.nativeElement:e}function l(e,t=/\s+/){const n=[];if(null!=e){const r=Array.isArray(e)?e:`${e}`.split(t);for(const e of r){const t=`${e}`.trim();t&&n.push(t)}}return n}},8583:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,ez:()=>Te,K0:()=>c,uU:()=>Se,Do:()=>C,Ts:()=>xe,V_:()=>h,Ye:()=>S,S$:()=>v,mk:()=>ce,sg:()=>ue,O5:()=>de,RF:()=>ge,n9:()=>ye,ED:()=>ve,tP:()=>_e,b0:()=>w,lw:()=>l,rS:()=>Ce,EM:()=>Ie,JF:()=>De,NF:()=>ke,PM:()=>Ae,w_:()=>a,bD:()=>Ee,q:()=>s,Mx:()=>ae,HT:()=>o});var r=n(7716);let i=null;function s(){return i}function o(e){i||(i=e)}class a{}const c=new r.OlP("DocumentToken");let l=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:f,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function f(){return new d((0,r.LFG)(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:_,token:e,providedIn:"root"}),e})();function _(e){const t=(0,r.LFG)(c).location;return new w((0,r.LFG)(l),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let w=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(l))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:x,token:e,providedIn:"root"}),e})();function x(){return new S((0,r.LFG)(v),(0,r.LFG)(l))}function T(e){return e.replace(/\/index.html$/,"")}var E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))(),k=(()=>((k=k||{})[k.Format=0]="Format",k[k.Standalone=1]="Standalone",k))(),A=(()=>((A=A||{})[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A))(),I=(()=>((I=I||{})[I.Short=0]="Short",I[I.Medium=1]="Medium",I[I.Long=2]="Long",I[I.Full=3]="Full",I))(),O=(()=>((O=O||{})[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O[1/0]=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O))();function P(e,t){return L((0,r.cg1)(e)[r.wAp.DateFormat],t)}function D(e,t){return L((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function R(e,t){return L((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function F(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===O.CurrencyDecimal)return n[r.wAp.NumberSymbols][O.Decimal];if(t===O.CurrencyGroup)return n[r.wAp.NumberSymbols][O.Group]}return i}const N=r.kL8;function M(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Z(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},j=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=(()=>((B=B||{})[B.Short=0]="Short",B[B.ShortGMT=1]="ShortGMT",B[B.Long=2]="Long",B[B.Extended=3]="Extended",B))(),V=(()=>((V=V||{})[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day",V))(),z=(()=>((z=z||{})[z.DayPeriods=0]="DayPeriods",z[z.Days=1]="Days",z[z.Months=2]="Months",z[z.Eras=3]="Eras",z))();function H(e,t,n,r){let i=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return G(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(U))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,c,l),t}(n)}const t=new Date(e);if(!ie(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=$(n,t)||t;let s,o=[];for(;t;){if(s=j.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=re(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(re(t,r)-r))}(i,r));let c="";return o.forEach(e=>{const t=function(e){if(ne[e])return ne[e];let t;switch(e){case"G":case"GG":case"GGG":t=Q(z.Eras,A.Abbreviated);break;case"GGGG":t=Q(z.Eras,A.Wide);break;case"GGGGG":t=Q(z.Eras,A.Narrow);break;case"y":t=K(V.FullYear,1,0,!1,!0);break;case"yy":t=K(V.FullYear,2,0,!0,!0);break;case"yyy":t=K(V.FullYear,3,0,!1,!0);break;case"yyyy":t=K(V.FullYear,4,0,!1,!0);break;case"Y":t=te(1);break;case"YY":t=te(2,!0);break;case"YYY":t=te(3);break;case"YYYY":t=te(4);break;case"M":case"L":t=K(V.Month,1,1);break;case"MM":case"LL":t=K(V.Month,2,1);break;case"MMM":t=Q(z.Months,A.Abbreviated);break;case"MMMM":t=Q(z.Months,A.Wide);break;case"MMMMM":t=Q(z.Months,A.Narrow);break;case"LLL":t=Q(z.Months,A.Abbreviated,k.Standalone);break;case"LLLL":t=Q(z.Months,A.Wide,k.Standalone);break;case"LLLLL":t=Q(z.Months,A.Narrow,k.Standalone);break;case"w":t=ee(1);break;case"ww":t=ee(2);break;case"W":t=ee(1,!0);break;case"d":t=K(V.Date,1);break;case"dd":t=K(V.Date,2);break;case"c":case"cc":t=K(V.Day,1);break;case"ccc":t=Q(z.Days,A.Abbreviated,k.Standalone);break;case"cccc":t=Q(z.Days,A.Wide,k.Standalone);break;case"ccccc":t=Q(z.Days,A.Narrow,k.Standalone);break;case"cccccc":t=Q(z.Days,A.Short,k.Standalone);break;case"E":case"EE":case"EEE":t=Q(z.Days,A.Abbreviated);break;case"EEEE":t=Q(z.Days,A.Wide);break;case"EEEEE":t=Q(z.Days,A.Narrow);break;case"EEEEEE":t=Q(z.Days,A.Short);break;case"a":case"aa":case"aaa":t=Q(z.DayPeriods,A.Abbreviated);break;case"aaaa":t=Q(z.DayPeriods,A.Wide);break;case"aaaaa":t=Q(z.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":t=Q(z.DayPeriods,A.Abbreviated,k.Standalone,!0);break;case"bbbb":t=Q(z.DayPeriods,A.Wide,k.Standalone,!0);break;case"bbbbb":t=Q(z.DayPeriods,A.Narrow,k.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(z.DayPeriods,A.Abbreviated,k.Format,!0);break;case"BBBB":t=Q(z.DayPeriods,A.Wide,k.Format,!0);break;case"BBBBB":t=Q(z.DayPeriods,A.Narrow,k.Format,!0);break;case"h":t=K(V.Hours,1,-12);break;case"hh":t=K(V.Hours,2,-12);break;case"H":t=K(V.Hours,1);break;case"HH":t=K(V.Hours,2);break;case"m":t=K(V.Minutes,1);break;case"mm":t=K(V.Minutes,2);break;case"s":t=K(V.Seconds,1);break;case"ss":t=K(V.Seconds,2);break;case"S":t=K(V.FractionalSeconds,1);break;case"SS":t=K(V.FractionalSeconds,2);break;case"SSS":t=K(V.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=J(B.Short);break;case"ZZZZZ":t=J(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=J(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=J(B.Long);break;default:return null}return ne[e]=t,t}(e);c+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function G(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function $(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(q[n]=q[n]||{},q[n][t])return q[n][t];let i="";switch(t){case"shortDate":i=P(e,I.Short);break;case"mediumDate":i=P(e,I.Medium);break;case"longDate":i=P(e,I.Long);break;case"fullDate":i=P(e,I.Full);break;case"shortTime":i=D(e,I.Short);break;case"mediumTime":i=D(e,I.Medium);break;case"longTime":i=D(e,I.Long);break;case"fullTime":i=D(e,I.Full);break;case"short":const t=$(e,"shortTime"),n=$(e,"shortDate");i=W(R(e,I.Short),[t,n]);break;case"medium":const r=$(e,"mediumTime"),s=$(e,"mediumDate");i=W(R(e,I.Medium),[r,s]);break;case"long":const o=$(e,"longTime"),a=$(e,"longDate");i=W(R(e,I.Long),[o,a]);break;case"full":const c=$(e,"fullTime"),l=$(e,"fullDate");i=W(R(e,I.Full),[c,l])}return i&&(q[n][t]=i),i}function W(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Y(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function K(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case V.FullYear:return t.getFullYear();case V.Month:return t.getMonth();case V.Date:return t.getDate();case V.Hours:return t.getHours();case V.Minutes:return t.getMinutes();case V.Seconds:return t.getSeconds();case V.FractionalSeconds:return t.getMilliseconds();case V.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===V.Hours)0===a&&-12===n&&(a=12);else if(e===V.FractionalSeconds)return c=t,Y(a,3).substr(0,c);var c;const l=F(o,O.MinusSign);return Y(a,t,l,r,i)}}function Q(e,t,n=k.Format,i=!1){return function(s,o){return function(e,t,n,i,s,o){switch(n){case z.Months:return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],t);return L(s,n)}(t,s,i)[e.getMonth()];case z.Days:return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],t);return L(s,n)}(t,s,i)[e.getDay()];case z.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(o){const e=function(e){const t=(0,r.cg1)(e);return M(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?Z(e):[Z(e[0]),Z(e[1])])}(t),n=function(e,t,n){const i=(0,r.cg1)(e);M(i);const s=L([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],t)||[];return L(s,n)||[]}(t,s,i),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&c>=t.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const i=(0,r.cg1)(e),s=L([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],t);return L(s,n)}(t,s,i)[a<12?0:1];case z.Eras:return function(e,t){return L((0,r.cg1)(e)[r.wAp.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,e,t,n,i)}}function J(e){return function(t,n,r){const i=-1*r,s=F(n,O.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case B.Short:return(i>=0?"+":"")+Y(o,2,s)+Y(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+Y(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+Y(o,2,s)+":"+Y(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+Y(o,2,s)+":"+Y(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function X(e){return G(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ee(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=X(n),t=function(e){const t=G(e,0,1).getDay();return G(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return Y(i,e,F(r,O.MinusSign))}}function te(e,t=!1){return function(n,r){return Y(X(n).getFullYear(),e,F(r,O.MinusSign),t)}}const ne={};function re(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}class se{}let oe=(()=>{class e extends se{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(N(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ae(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let ce=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class le{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ue=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new le(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new he(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new he(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class he{constructor(e,t){this.record=e,this.view=t}}let de=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function fe(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class me{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ge=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),ye=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new me(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(ge,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),ve=(()=>{class e{constructor(e,t,n){n._addDefault(new me(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(ge,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),_e=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),e})();function be(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}const we=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Ce=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw be(e,t);return t.replace(we,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"titlecase",type:e,pure:!0}),e})(),Se=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return H(t,n,i||this.locale,r)}catch(s){throw be(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})(),xe=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"json",type:e,pure:!1}),e})(),Te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:se,useClass:oe}]}),e})();const Ee="browser";function ke(e){return e===Ee}function Ae(e){return"server"===e}let Ie=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new Oe((0,r.LFG)(c),window)}),e})();class Oe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pe(this.window.history)||Pe(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Pe(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class De{}},7716:(e,t,n)=>{"use strict";n.d(t,{deG:()=>cn,tb:()=>cl,AFp:()=>rl,ip1:()=>tl,CZH:()=>nl,hGG:()=>tu,z2F:()=>Hl,sBO:()=>Xa,Sil:()=>_l,_Vd:()=>Sa,EJc:()=>hl,SBq:()=>ka,qLn:()=>kr,vpe:()=>Nc,gxx:()=>ms,tBr:()=>In,XFs:()=>I,OlP:()=>an,zs3:()=>Os,ZZ4:()=>Ga,aQg:()=>Wa,soG:()=>ul,YKP:()=>lc,v3s:()=>$l,h0i:()=>cc,PXZ:()=>ql,R0b:()=>Cl,FiY:()=>On,Lbi:()=>al,g9A:()=>ol,n_E:()=>Lc,Qsj:()=>Oa,FYo:()=>Ia,JOm:()=>Pr,Tiy:()=>Da,q3G:()=>_r,tp0:()=>Pn,EAV:()=>Kl,Rgc:()=>ic,dDg:()=>Il,DyG:()=>ln,q4F:()=>Fa,GfV:()=>Ra,s_b:()=>hc,ifc:()=>N,eFA:()=>jl,G48:()=>Zl,Gpc:()=>p,f3M:()=>En,X6Q:()=>Ll,_c5:()=>Xl,VLi:()=>Dl,c2e:()=>ll,zSh:()=>ys,wAp:()=>la,vHH:()=>g,EiD:()=>yr,mCW:()=>er,qzn:()=>Vn,JVY:()=>Hn,pB0:()=>Yn,eBb:()=>$n,L6k:()=>Gn,LAX:()=>Wn,cg1:()=>oa,Tjo:()=>Jl,kL8:()=>aa,yhl:()=>zn,dqk:()=>q,sIi:()=>qs,CqO:()=>co,QGY:()=>oo,F4k:()=>ao,RDi:()=>Te,AaK:()=>u,z3N:()=>Bn,qOj:()=>Ds,TTD:()=>ve,_Bn:()=>ba,xp6:()=>vi,uIk:()=>Hs,Tol:()=>Mo,Gre:()=>Xo,ekj:()=>Ro,Suo:()=>Yc,Xpm:()=>Q,lG2:()=>ie,Yz7:()=>b,cJS:()=>w,oAB:()=>te,Yjl:()=>se,Y36:()=>Ys,_UZ:()=>to,GkF:()=>io,BQk:()=>ro,ynx:()=>no,qZA:()=>eo,TgZ:()=>Xs,EpF:()=>so,n5z:()=>tn,Ikx:()=>ta,LFG:()=>Tn,$8M:()=>rn,$Z:()=>Ks,NdJ:()=>lo,CRH:()=>Kc,kcU:()=>_t,O4$:()=>vt,oxw:()=>mo,ALo:()=>Ic,lcZ:()=>Oc,xi3:()=>Pc,Hsn:()=>vo,F$t:()=>yo,Q6J:()=>Qs,s9C:()=>_o,MGl:()=>bo,WLB:()=>Ec,iGM:()=>$c,MAs:()=>Ws,Jf7:()=>Ir,CHM:()=>ze,oJD:()=>br,LSH:()=>wr,kYT:()=>ne,Akn:()=>Fo,Jzz:()=>ea,Udp:()=>Do,WFA:()=>uo,d8E:()=>na,YNc:()=>$s,W1O:()=>el,_uU:()=>Yo,Oqu:()=>Ko,hij:()=>Qo,AsE:()=>Jo,Gf:()=>Wc});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(8819);function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=c({__forward_ref__:c});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function _(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${v(e)} found${n}`)}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function w(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return S(e,T)||S(e,k)}function S(e,t){return e.hasOwnProperty(t)?e[t]:null}function x(e){return e&&(e.hasOwnProperty(E)||e.hasOwnProperty(A))?e[E]:null}const T=c({"\u0275prov":c}),E=c({"\u0275inj":c}),k=c({ngInjectableDef:c}),A=c({ngInjectorDef:c});var I=(()=>((I=I||{})[I.Default=0]="Default",I[I.Host=1]="Host",I[I.Self=2]="Self",I[I.SkipSelf=4]="SkipSelf",I[I.Optional=8]="Optional",I))();let O;function P(e){const t=O;return O=e,t}function D(e,t,n){const r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==t?t:void _(u(e),"Injector")}function R(e){return{toString:e}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),N=(()=>((N=N||{})[N.Emulated=0]="Emulated",N[N.None=2]="None",N[N.ShadowDom=3]="ShadowDom",N))();const M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=M||U||L||Z,j={},B=[],V=c({"\u0275cmp":c}),z=c({"\u0275dir":c}),H=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),$=c({"\u0275loc":c}),W=c({"\u0275fac":c}),Y=c({__NG_ELEMENT_ID__:c});let K=0;function Q(e){return R(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||B,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||N.Emulated,id:"c",styles:e.styles||B,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=K++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(e){return oe(e)||function(e){return e[z]||null}(e)}function X(e){return function(e){return e[H]||null}(e)}const ee={};function te(e){return R(()=>{const t={type:e.type,bootstrap:e.bootstrap||B,declarations:e.declarations||B,imports:e.imports||B,exports:e.exports||B,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return R(()=>{const n=ae(e,!0);n.declarations=t.declarations||B,n.imports=t.imports||B,n.exports=t.exports||B})}function re(e,t){if(null==e)return j;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ie=Q;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[V]||null}function ae(e,t){const n=e[G]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const ce=20,le=10;function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function pe(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty(W)?e[W]:null}class ye{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ve(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),be}function be(){const e=Ce(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===j)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,r){const i=Ce(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:j,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new ye(c&&c.currentValue,t,o===j),e[r]=t}function Ce(e){return e.__ngSimpleChanges__||null}ve.ngInherit=!0;const Se="http://www.w3.org/2000/svg";let xe;function Te(e){xe=e}function Ee(){return void 0!==xe?xe:"undefined"!=typeof document?document:void 0}function ke(e){return!!e.listen}const Ae={createRenderer:(e,t)=>Ee()};function Ie(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return Ie(t[e])}function Pe(e,t){return Ie(t[e.index])}function De(e,t){return e.data[t]}function Re(e,t){return e[t]}function Fe(e,t){const n=t[e];return ue(n)?n:n[0]}function Ne(e){return 4==(4&e[2])}function Me(e){return 128==(128&e[2])}function Le(e,t){return null==t?null:e[t]}function Ze(e){e[18]=0}function Ue(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const qe={lFrame:ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return qe.bindingsEnabled}function Be(){return qe.lFrame.lView}function Ve(){return qe.lFrame.tView}function ze(e){return qe.lFrame.contextLView=e,e[8]}function He(){let e=Ge();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ge(){return qe.lFrame.currentTNode}function $e(e,t){const n=qe.lFrame;n.currentTNode=e,n.isParent=t}function We(){return qe.lFrame.isParent}function Ye(){qe.lFrame.isParent=!1}function Ke(){return qe.isInCheckNoChangesMode}function Qe(e){qe.isInCheckNoChangesMode=e}function Je(){const e=qe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xe(){return qe.lFrame.bindingIndex}function et(){return qe.lFrame.bindingIndex++}function tt(e){const t=qe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function nt(e,t){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=e,rt(t)}function rt(e){qe.lFrame.currentDirectiveIndex=e}function it(e){const t=qe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function st(){return qe.lFrame.currentQueryIndex}function ot(e){qe.lFrame.currentQueryIndex=e}function at(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ct(e,t,n){if(n&I.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&I.Host||(r=at(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=qe.lFrame=ut();return r.currentTNode=t,r.lView=e,!0}function lt(e){const t=ut(),n=e[1];qe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ut(){const e=qe.lFrame,t=null===e?null:e.child;return null===t?ht(e):t}function ht(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dt(){const e=qe.lFrame;return qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pt=dt;function ft(){const e=dt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function mt(){return qe.lFrame.selectedIndex}function gt(e){qe.lFrame.selectedIndex=e}function yt(){const e=qe.lFrame;return De(e.tView,e.selectedIndex)}function vt(){qe.lFrame.currentNamespace=Se}function _t(){qe.lFrame.currentNamespace=null}function bt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function wt(e,t,n){xt(e,t,3,n)}function Ct(e,t,n,r){(3&e[2])===n&&xt(e,t,n,r)}function St(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function xt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Tt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Tt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Et=-1;class kt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function At(e,t,n){const r=ke(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Ot(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function It(e){return 3===e||4===e||6===e}function Ot(e){return 64===e.charCodeAt(0)}function Pt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Dt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Dt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Rt(e){return e!==Et}function Ft(e){return 32767&e}function Nt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Mt=!0;function Lt(e){const t=Mt;return Mt=e,t}let Zt=0;function Ut(e,t){const n=jt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,qt(r.data,e),qt(t,null),qt(r.blueprint,null));const i=Bt(e,t),s=e.injectorIndex;if(Rt(i)){const e=Ft(i),n=Nt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function qt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Et;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Et}function Vt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Zt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function zt(e,t,n){if(n&I.Optional)return e;_(t,"NodeInjector")}function Ht(e,t,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&I.Optional):D(t,r,n&I.Optional)}finally{P(s)}}return zt(r,t,n)}function Gt(e,t,n,r=I.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:Wt:t}(n);if("function"==typeof s){if(!ct(t,e,r))return r&I.Host?zt(i,n,r):Ht(t,n,r,i);try{const e=s(r);if(null!=e||r&I.Optional)return e;_(n)}finally{pt()}}else if("number"==typeof s){let i=null,o=jt(e,t),a=Et,c=r&I.Host?t[16][6]:null;for((-1===o||r&I.SkipSelf)&&(a=-1===o?Bt(e,t):t[o+8],a!==Et&&Xt(r,!1)?(i=t[1],o=Ft(a),t=Nt(a,t)):o=-1);-1!==o;){const e=t[1];if(Jt(s,o,e.data)){const e=Yt(o,t,n,i,r,c);if(e!==$t)return e}a=t[o+8],a!==Et&&Xt(r,t[1].data[o+8]===c)&&Jt(s,o,t)?(i=e,o=Ft(a),t=Nt(a,t)):o=-1}}}return Ht(t,n,r,i)}const $t={};function Wt(){return new en(He(),Be())}function Yt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],c=Kt(a,o,n,null==r?pe(a)&&Mt:r!=o&&0!=(3&a.type),i&I.Host&&s===a);return null!==c?Qt(t,o,c,a):$t}function Kt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,l=s>>20,u=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=o[c];if(e&&me(e)&&e.type===n)return c}return null}function Qt(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof kt){const o=i;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(v(s[n]));const a=Lt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?P(o.injectImpl):null;ct(e,r,I.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&P(c),Lt(a),o.resolving=!1,pt()}}return i}function Jt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Xt(e,t){return!(e&I.Self||e&I.Host&&t)}class en{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Gt(this._tNode,this._lView,e,void 0,t)}}function tn(e){return R(()=>{const t=e.prototype.constructor,n=t[W]||nn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[W]||nn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function nn(e){return m(e)?()=>{const t=nn(f(e));return t&&t()}:ge(e)}function rn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(It(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(He(),e)}const sn="__parameters__";function on(e,t,n){return R(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(sn)?e[sn]:Object.defineProperty(e,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class an{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cn=new an("AnalyzeForEntryComponents"),ln=Function;function un(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),un(r,t)):t!==e&&t.push(r)}return t}function hn(e,t){e.forEach(e=>Array.isArray(e)?hn(e,t):t(e))}function dn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function fn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function mn(e,t,n){let r=yn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function gn(e,t){const n=yn(e,t);if(n>=0)return e[1|n]}function yn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const vn={},_n=/\n/gm,bn="__source",wn=c({provide:String,useValue:c});let Cn;function Sn(e){const t=Cn;return Cn=e,t}function xn(e,t=I.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?D(e,void 0,t):Cn.get(e,t&I.Optional?null:void 0,t)}function Tn(e,t=I.Default){return(O||xn)(f(e),t)}const En=Tn;function kn(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=I.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Tn(e,n))}else t.push(Tn(r))}return t}function An(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const In=An(on("Inject",e=>({token:e})),-1),On=An(on("Optional"),8),Pn=An(on("SkipSelf"),4);let Dn,Rn;function Fn(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,q.trustedTypes))try{Dn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}function Nn(e){var t;return(null===(t=function(){if(void 0===Rn&&(Rn=null,q.trustedTypes))try{Rn=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Rn}())||void 0===t?void 0:t.createHTML(e))||e}class Mn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Mn{getTypeName(){return"HTML"}}class Zn extends Mn{getTypeName(){return"Style"}}class Un extends Mn{getTypeName(){return"Script"}}class qn extends Mn{getTypeName(){return"URL"}}class jn extends Mn{getTypeName(){return"ResourceURL"}}function Bn(e){return e instanceof Mn?e.changingThisBreaksApplicationSecurity:e}function Vn(e,t){const n=zn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function zn(e){return e instanceof Mn&&e.getTypeName()||null}function Hn(e){return new Ln(e)}function Gn(e){return new Zn(e)}function $n(e){return new Un(e)}function Wn(e){return new qn(e)}function Yn(e){return new jn(e)}class Kn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Qn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Fn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function er(e){return(e=String(e)).match(Jn)||e.match(Xn)?e:"unsafe:"+e}function tr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function nr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const rr=tr("area,br,col,hr,img,wbr"),ir=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=tr("rp,rt"),or=nr(sr,ir),ar=nr(rr,nr(ir,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(sr,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),cr=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=tr("srcset"),ur=nr(cr,lr,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=tr("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ar.hasOwnProperty(t))return this.sanitizedSomething=!0,!hr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!ur.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;cr[s]&&(o=er(o)),lr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>er(e.trim())).join(", ")),this.buf.push(" ",t,'="',mr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ar.hasOwnProperty(t)&&!rr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function mr(e){return e.replace(/&/g,"&amp;").replace(pr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function yr(e,t){let n=null;try{gr=gr||function(e){const t=new Qn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(e){return!1}}()?new Kn(t):t}(e);let r=t?String(t):"";n=gr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==s);return Fn((new dr).sanitizeChildren(vr(n)||n))}finally{if(n){const e=vr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function vr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function br(e){const t=Cr();return t?Nn(t.sanitize(_r.HTML,e)||""):Vn(e,"HTML")?Nn(Bn(e)):yr(Ee(),y(e))}function wr(e){const t=Cr();return t?t.sanitize(_r.URL,e)||"":Vn(e,"URL")?Bn(e):er(y(e))}function Cr(){const e=Be();return e&&e[12]}function Sr(e,t){e.__ngContext__=t}function xr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Tr(e){return e.ngOriginalError}function Er(e,...t){e.error(...t)}class kr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Er}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Tr(e)):null}_findOriginalError(e){let t=e&&Tr(e);for(;t&&Tr(t);)t=Tr(t);return t||null}}const Ar=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Ir(e){return e.ownerDocument.defaultView}function Or(e){return e instanceof Function?e():e}var Pr=(()=>((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr))();function Dr(e,t){return(void 0)(e,t)}function Rr(e){const t=e[3];return he(t)?t[3]:t}function Fr(e){return Mr(e[13])}function Nr(e){return Mr(e[4])}function Mr(e){for(;null!==e&&!he(e);)e=e[4];return e}function Lr(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:ue(r)&&(o=!0,r=r[0]);const a=Ie(r);0===e&&null!==n?null==i?Hr(t,n,a):zr(t,n,a,i||null,!0):1===e&&null!==n?zr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=$r(e,t);r&&function(e,t,n,r){ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Ie(n)&&Lr(t,e,r,s,i);for(let o=le;o<n.length;o++){const i=n[o];ti(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Zr(e,t,n){return ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ur(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ue(i,-1)),n.splice(r,1)}function qr(e,t){if(e.length<=le)return;const n=le+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Ur(s,r),t>0&&(e[n-1][4]=r[4]);const o=pn(e,le+t);ti(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function jr(e,t){if(!(256&t[2])){const n=t[11];ke(n)&&n.destroyNode&&ti(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Br(e[1],e);for(;t;){let n=null;if(ue(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&Br(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&Br(t[1],t),n=t&&t[4]}t=n}}(t)}}function Br(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof kt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ie(t[e]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&ke(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Ur(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Vr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===N.None||t===N.Emulated)return null}return Pe(r,n)}(e,t.parent,n)}function zr(e,t,n,r,i){ke(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Hr(e,t,n){ke(e)?e.appendChild(t,n):t.appendChild(n)}function Gr(e,t,n,r,i){null!==r?zr(e,t,n,r,i):Hr(e,t,n)}function $r(e,t){return ke(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n){return Yr(e,t,n)}let Yr=function(e,t,n){return 40&e.type?Pe(e,n):null};function Kr(e,t,n,r){const i=Vr(e,r,t),s=t[11],o=Wr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Qr(e,t){if(null!==t){const n=t.type;if(3&n)return Pe(t,e);if(4&n)return Xr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Qr(e,n);{const n=e[t.index];return he(n)?Xr(-1,n):Ie(n)}}if(32&n)return Dr(t,e)()||Ie(e[t.index]);{const n=Jr(e,t);return null!==n?Array.isArray(n)?n[0]:Qr(Rr(e[16]),n):Qr(e,t.next)}}return null}function Jr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Xr(e,t){const n=le+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Qr(e,r)}return t[7]}function ei(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&Sr(Ie(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ei(e,t,n.child,r,i,s,!1),Lr(t,e,i,a,s);else if(32&c){const o=Dr(n,r);let c;for(;c=o();)Lr(t,e,i,c,s);Lr(t,e,i,a,s)}else 16&c?ni(e,t,r,n,i,s):Lr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ti(e,t,n,r,i,s){ei(n,r,e.firstChild,t,i,s,!1)}function ni(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Lr(t,e,i,a[c],s);else ei(e,t,a,o[3],i,s,!0)}function ri(e,t,n){ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ii(e,t,n){ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function si(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const oi="ng-template";function ai(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==si(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ci(e){return 4===e.type&&e.value!==oi}function li(e,t,n){return t===(4!==e.type||n?e.value:oi)}function ui(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(It(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!li(e,c,n)||""===c&&1===t.length){if(hi(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!ai(e.attrs,l,n)){if(hi(r))return!1;o=!0}continue}const u=di(8&r?"class":c,i,ci(e),n);if(-1===u){if(hi(r))return!1;o=!0;continue}if(""!==l){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==si(t,l,0)||2&r&&l!==e){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(c))return!1;if(o&&hi(c))continue;o=!1,r=c|1&r}}return hi(r)||o}function hi(e){return 0==(1&e)}function di(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function pi(e,t,n=!1){for(let r=0;r<t.length;r++)if(ui(e,t[r],n))return!0;return!1}function fi(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function mi(e,t){return e?":not("+t.trim()+")":t}function gi(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||hi(o)||(t+=mi(s,i),i=""),r=o,s=s||!hi(r);n++}return""!==i&&(t+=mi(s,i)),t}const yi={};function vi(e){_i(Ve(),Be(),mt()+e,Ke())}function _i(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&wt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ct(t,r,0,n)}gt(n)}function bi(e,t){return e<<17|t<<2}function wi(e){return e>>17&32767}function Ci(e){return 2|e}function Si(e){return(131068&e)>>2}function xi(e,t){return-131069&e|t<<2}function Ti(e){return 1|e}function Ei(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];ot(i),n.contentQueries(2,t[s],s)}}}function ki(e,t,n,r,i,s,o,a,c,l){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Ze(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Ai(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Ge(),o=We(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),qe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=qe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return $e(s,!0),s}function Ii(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Oi(e,t,n){lt(t);try{const r=e.viewQuery;null!==r&&os(1,r,n);const i=e.template;null!==i&&Ri(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ei(e,t),e.staticViewQueries&&os(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)ts(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ft()}}function Pi(e,t,n,r){const i=t[2];if(256==(256&i))return;lt(t);const s=Ke();try{Ze(t),qe.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ri(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&wt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ct(t,n,0,null),St(t,0)}if(function(e){for(let t=Fr(e);null!==t;t=Nr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ue(r,1),n[2]|=1024}}}(t),function(e){for(let t=Fr(e);null!==t;t=Nr(t))for(let e=le;e<t.length;e++){const n=t[e],r=n[1];Me(n)&&Pi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Ei(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&wt(t,n)}else{const n=e.contentHooks;null!==n&&Ct(t,n,1),St(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)gt(~r);else{const i=r,s=n[++e],o=n[++e];nt(s,i),o(2,t[i])}}}finally{gt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Xi(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&os(2,c,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&wt(t,n)}else{const n=e.viewHooks;null!==n&&Ct(t,n,2),St(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ue(t[3],-1))}finally{ft()}}function Di(e,t,n,r){const i=t[10],s=!Ke(),o=Ne(t);try{s&&!o&&i.begin&&i.begin(),o&&Oi(e,t,r),Pi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ri(e,t,n,r,i){const s=mt(),o=2&r;try{gt(-1),o&&t.length>ce&&_i(e,t,ce,Ke()),n(r,i)}finally{gt(s)}}function Fi(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ni(e,t,n){je()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Ut(n,t),Sr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=me(r);s&&Yi(t,n,r);const c=Qt(t,e,a,n);Sr(c,t),null!==o&&Ki(0,a-i,c,r,0,o),s&&(Fe(n.index,t)[8]=c)}}(e,t,n,Pe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qe.lFrame.currentDirectiveIndex;try{gt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];rt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zi(r,i)}}finally{gt(-1),rt(o)}}(e,t,n))}function Mi(e,t,n=Pe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Li(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Zi(e,t,n,r,i,s,o,a,c,l){const u=ce+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:yi);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Ui(e,t,n,r){const i=cs(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ls(e).push(r,i.length-1))}function qi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ji(e,t,n,r,i,s,o,a){const c=Pe(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(ds(e,n,l,r,i),pe(t)&&function(e,t){const n=Fe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,ke(s)?s.setProperty(c,r,i):Ot(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Bi(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];pi(n,o.selectors,!1)&&(i||(i=[]),Vt(Ut(n,t),e,o.type),me(o)?(Hi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,$i(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=Ii(e,t,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Pt(n.mergedAttrs,l.hostAttrs),Wi(e,n,t,c,l),Gi(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===i||ci(t)?null:Qi(n,i);s.push(l),o=qi(n,c,o),a=qi(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new g("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Pt(n.mergedAttrs,n.attrs),i}function Vi(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function zi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Gi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;me(t)&&(n[""]=e)}}function $i(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Wi(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ge(i.type)),o=new kt(s,me(i),null);e.blueprint[r]=o,n[r]=o,Vi(e,t,0,r,Ii(e,n,i.hostVars,yi),i)}function Yi(e,t,n){const r=Pe(t,e),i=Li(n),s=e[10],o=ns(e,ki(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Ki(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Qi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Xi(e,t){const n=Fe(t,e);if(Me(n)){const e=n[1];80&n[2]?Pi(e,n,e.template,n[8]):n[5]>0&&es(n)}}function es(e){for(let n=Fr(e);null!==n;n=Nr(n))for(let e=le;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Pi(e,t,e.template,t[8])}else t[5]>0&&es(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Fe(t[n],e);Me(r)&&r[5]>0&&es(r)}}function ts(e,t){const n=Fe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Oi(r,n,n[8])}function ns(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function rs(e){for(;e;){e[2]|=64;const t=Rr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function is(e,t,n){const r=t[10];r.begin&&r.begin();try{Pi(e,t,e.template,n)}catch(i){throw hs(t,i),i}finally{r.end&&r.end()}}function ss(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=xr(n),i=r[1];Di(i,r,i.template,n)}}(e[8])}function os(e,t,n){ot(0),t(e,n)}const as=(()=>Promise.resolve(null))();function cs(e){return e[7]||(e[7]=[])}function ls(e){return e.cleanup||(e.cleanup=[])}function us(e,t,n){return(null===e||me(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function hs(e,t){const n=e[9],r=n?n.get(kr,null):null;r&&r.handleError(t)}function ds(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function ps(e,t,n){const r=Oe(t,e);!function(e,t,n){ke(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function fs(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ms=new an("INJECTOR",-1);class gs{get(e,t=vn){if(t===vn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ys=new an("Set Injector scope."),vs={},_s={};let bs;function ws(){return void 0===bs&&(bs=new gs),bs}function Cs(e,t=null,n=null,r){return new Ss(e,n,t||ws(),r)}class Ss{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&hn(t,n=>this.processProvider(n,e,t)),hn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ms,Es(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=vn,n=I.Default){this.assertNotDestroyed();const r=Sn(this),i=P(void 0);try{if(!(n&I.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof an)&&C(e);t=n&&this.injectableDefInScope(n)?Es(xs(e),vs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&I.Self?ws():this.parent).get(e,t=n&I.Optional&&t===vn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[bn]&&i.unshift(t[bn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(_n,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{P(i),Sn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=x(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{hn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];hn(r,e=>this.processProvider(e,n,r||B))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,Es(a,vs));const c=r.providers;if(null!=c&&!o){const t=e;hn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=As(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){return ks(e)?Es(void 0,e.useValue):Es(Ts(e),vs)}(e);if(As(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Es(void 0,vs,!0),t.factory=()=>kn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===vs&&(t.value=_s,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function xs(e){const t=C(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof an)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=fn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[T]||e[k]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ts(e,t,n){let r;if(As(e)){const t=f(e);return ge(t)||xs(t)}if(ks(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...kn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Tn(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||xs(t);r=()=>new t(...kn(e.deps))}var i;return r}function Es(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ks(e){return null!==e&&"object"==typeof e&&wn in e}function As(e){return"function"==typeof e}const Is=function(e,t,n){return function(e,t=null,n=null,r){const i=Cs(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class Os{static create(e,t){return Array.isArray(e)?Is(e,t,""):Is(e.providers,e.parent,e.name||"")}}function Ps(e,t){bt(xr(e)[1],He())}function Ds(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(me(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Rs(e.inputs),t.declaredInputs=Rs(e.declaredInputs),t.outputs=Rs(e.outputs);const n=i.hostBindings;n&&Ms(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Fs(e,s),o&&Ns(e,o),l(e.inputs,i.inputs),l(e.declaredInputs,i.declaredInputs),l(e.outputs,i.outputs),me(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Ds&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Pt(i.hostAttrs,n=Pt(n,i.hostAttrs))}}(r)}function Rs(e){return e===j?{}:e===B?[]:e}function Fs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Ns(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ms(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}Os.THROW_IF_NOT_FOUND=vn,Os.NULL=new gs,Os.\u0275prov=b({token:Os,providedIn:"any",factory:()=>Tn(ms)}),Os.__NG_ELEMENT_ID__=-1;let Ls=null;function Zs(){if(!Ls){const e=q.Symbol;if(e&&e.iterator)Ls=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ls=n)}}}return Ls}class Us{constructor(e){this.wrapped=e}static wrap(e){return new Us(e)}static unwrap(e){return Us.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Us}}function qs(e){return!!js(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zs()in e)}function js(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bs(e,t,n){return e[t]=n}function Vs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function zs(e,t,n,r){const i=Vs(e,t,n);return Vs(e,t+1,r)||i}function Hs(e,t,n,r){const i=Be();return Vs(i,et(),t)&&(Ve(),function(e,t,n,r,i,s){const o=Pe(e,t);!function(e,t,n,r,i,s,o){if(null==s)ke(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);ke(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}(yt(),i,e,t,n,r)),Hs}function Gs(e,t,n,r){return Vs(e,et(),n)?t+y(n)+r:yi}function $s(e,t,n,r,i,s,o,a){const c=Be(),l=Ve(),u=e+ce,h=l.firstCreatePass?function(e,t,n,r,i,s,o,a,c){const l=t.consts,u=Ai(t,e,4,o||null,Le(l,a));Bi(t,n,u,Le(l,c)),bt(t,u);const h=u.tViews=Zi(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,s,o):l.data[u];$e(h,!1);const d=c[11].createComment("");Kr(l,c,d,h),Sr(d,c),ns(c,c[u]=Ji(d,c,d,h)),fe(h)&&Ni(l,c,h),null!=o&&Mi(c,h,a)}function Ws(e){return Re(qe.lFrame.contextLView,ce+e)}function Ys(e,t=I.Default){const n=Be();return null===n?Tn(e,t):Gt(He(),n,f(e),t)}function Ks(){throw new Error("invalid")}function Qs(e,t,n){const r=Be();return Vs(r,et(),t)&&ji(Ve(),yt(),r,e,t,r[11],n,!1),Qs}function Js(e,t,n,r,i){const s=i?"class":"style";ds(e,n,t.inputs[s],s,r)}function Xs(e,t,n,r){const i=Be(),s=Ve(),o=ce+e,a=i[11],c=i[o]=Zr(a,t,qe.lFrame.currentNamespace),l=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,c=Ai(t,e,2,i,Le(a,s));return Bi(t,n,c,Le(a,o)),null!==c.attrs&&fs(c,c.attrs,!1),null!==c.mergedAttrs&&fs(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,n,r):s.data[o];$e(l,!0);const u=l.mergedAttrs;null!==u&&At(a,c,u);const h=l.classes;null!==h&&ii(a,c,h);const d=l.styles;null!==d&&ri(a,c,d),64!=(64&l.flags)&&Kr(s,i,c,l),0===qe.lFrame.elementDepthCount&&Sr(c,i),qe.lFrame.elementDepthCount++,fe(l)&&(Ni(s,i,l),Fi(s,l,i)),null!==r&&Mi(i,l)}function eo(){let e=He();We()?Ye():(e=e.parent,$e(e,!1));const t=e;qe.lFrame.elementDepthCount--;const n=Ve();n.firstCreatePass&&(bt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Js(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Js(n,t,Be(),t.stylesWithoutHost,!1)}function to(e,t,n,r){Xs(e,t,n,r),eo()}function no(e,t,n){const r=Be(),i=Ve(),s=e+ce,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Le(s,r),a=Ai(t,e,8,"ng-container",o);return null!==o&&fs(a,o,!0),Bi(t,n,a,Le(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];$e(o,!0);const a=r[s]=r[11].createComment("");Kr(i,r,a,o),Sr(a,r),fe(o)&&(Ni(i,r,o),Fi(i,o,r)),null!=n&&Mi(r,o)}function ro(){let e=He();const t=Ve();We()?Ye():(e=e.parent,$e(e,!1)),t.firstCreatePass&&(bt(t,e),de(e)&&t.queries.elementEnd(e))}function io(e,t,n){no(e,t,n),ro()}function so(){return Be()}function oo(e){return!!e&&"function"==typeof e.then}function ao(e){return!!e&&"function"==typeof e.subscribe}const co=ao;function lo(e,t,n,r){const i=Be(),s=Ve(),o=He();return ho(s,i,i[11],o,e,t,!!n,r),lo}function uo(e,t){const n=He(),r=Be(),i=Ve();return ho(i,r,us(it(i.data),n,r),n,e,t,!1),uo}function ho(e,t,n,r,i,s,o,a){const c=fe(r),l=e.firstCreatePass&&ls(e),u=cs(t);let h=!0;if(3&r.type||a){const d=Pe(r,t),p=a?a(d):d,f=u.length,m=a?e=>a(Ie(e[r.index])):r.index;if(ke(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=fo(r,t,0,s,!1);const e=n.listen(p,i,s);u.push(s,e),l&&l.push(i,m,f,f+1)}}else s=fo(r,t,0,s,!0),p.addEventListener(i,s,o),u.push(s),l&&l.push(i,m,f,o)}else s=fo(r,t,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),l&&l.push(i,r.index,o,-(o+1))}}}function po(e,t,n,r){try{return!1!==n(r)}catch(i){return hs(e,i),!1}}function fo(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Fe(e.index,t):t;0==(32&t[2])&&rs(o);let a=po(t,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=po(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function mo(e=1){return function(e){return(qe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,qe.lFrame.contextLView))[8]}(e)}function go(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?pi(e,s,!0):fi(r,s))return i}else n=i}return n}function yo(e){const t=Be()[16][6];if(!t.projection){const n=t.projection=fn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?go(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function vo(e,t=0,n){const r=Be(),i=Ve(),s=Ai(i,ce+e,16,null,n||null);null===s.projection&&(s.projection=t),Ye(),64!=(64&s.flags)&&function(e,t,n){ni(t[11],0,t,n,Vr(e,n,t),Wr(n.parent||t[6],n,t))}(i,r,s)}function _o(e,t,n){return bo(e,"",t,"",n),_o}function bo(e,t,n,r,i){const s=Be(),o=Gs(s,t,n,r);return o!==yi&&ji(Ve(),yt(),s,e,o,s[11],i,!1),bo}function wo(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?wi(s):Si(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];Co(e[a],t)&&(c=!0,e[a+1]=r?Ti(n):Ci(n)),a=r?wi(n):Si(n)}c&&(e[n+1]=r?Ci(s):Ti(s))}function Co(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&yn(e,t)>=0}const So={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xo(e){return e.substring(So.key,So.keyEnd)}function To(e){return e.substring(So.value,So.valueEnd)}function Eo(e,t){const n=So.textEnd;return n===t?-1:(t=So.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,So.key=t,n),Io(e,t,n))}function ko(e,t){const n=So.textEnd;let r=So.key=Io(e,t,n);return n===r?-1:(r=So.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Oo(e,r,n),r=So.value=Io(e,r,n),r=So.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const c=e.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=Po(e,c,o,n):t===o-4&&85===s&&82===i&&76===r&&40===c?a=o=Po(e,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(e,r,n),Oo(e,r,n))}function Ao(e){So.key=0,So.keyEnd=0,So.value=0,So.valueEnd=0,So.textEnd=e.length}function Io(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Oo(e,t,n,r){return(t=Io(e,t,n))<n&&t++,t}function Po(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Do(e,t,n){return Zo(e,t,n,!1),Do}function Ro(e,t){return Zo(e,t,null,!0),Ro}function Fo(e){Uo(zo,No,e,!1)}function No(e,t){for(let n=function(e){return Ao(e),ko(e,Io(e,0,So.textEnd))}(t);n>=0;n=ko(t,n))zo(e,xo(t),To(t))}function Mo(e){Uo(mn,Lo,e,!0)}function Lo(e,t){for(let n=function(e){return Ao(e),Eo(e,Io(e,0,So.textEnd))}(t);n>=0;n=Eo(t,n))mn(e,xo(t),!0)}function Zo(e,t,n,r){const i=Be(),s=Ve(),o=tt(2);s.firstUpdatePass&&jo(s,e,o,r),t!==yi&&Vs(i,o,t)&&Ho(s,s.data[mt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Bn(e)))),e}(t,n),r,o)}function Uo(e,t,n,r){const i=Ve(),s=tt(2);i.firstUpdatePass&&jo(i,null,s,r);const o=Be();if(n!==yi&&Vs(o,s,n)){const a=i.data[mt()];if(Wo(a,r)&&!qo(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),Js(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===yi&&(i=B);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=c<i.length?i[c+1]:void 0,p=l<s.length?s[l+1]:void 0;let f,m=null;u===h?(c+=2,l+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(c+=2,m=u):(l+=2,m=h,f=p),null!==m&&Ho(e,t,n,r,m,f,o,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return B;const r=[],i=Bn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function qo(e,t){return t>=e.expandoStartIndex}function jo(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[mt()],o=qo(e,n);Wo(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=it(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Vo(n=Bo(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Bo(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Si(r))return e[wi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Bo(null,e,t,n[1],r),n=Vo(n,t.attrs,r),function(e,t,n,r){e[wi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Vo(r,e[s].hostAttrs,n);return Vo(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=wi(o),c=Si(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||yn(e,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const t=wi(e[a+1]);e[r+1]=bi(t,a),0!==t&&(e[t+1]=xi(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=bi(a,0),0!==a&&(e[a+1]=xi(e[a+1],r)),a=r;else e[r+1]=bi(c,0),0===a?a=r:e[c+1]=xi(e[c+1],r),c=r;u&&(e[r+1]=Ci(e[r+1])),wo(e,l,r,!0),wo(e,l,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&yn(s,t)>=0&&(n[r+1]=Ti(n[r+1]))}(t,l,e,r,s),o=bi(a,c),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Bo(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Vo(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Vo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mn(e,o,!!n||t[++s]))}return void 0===e?null:e}function zo(e,t,n){mn(e,t,Bn(n))}function Ho(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];$o(1==(1&l)?Go(c,t,n,i,Si(l),o):void 0)||($o(s)||2==(2&l)&&(s=Go(c,null,n,i,a,o)),function(e,t,n,r,i){const s=ke(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Pr.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Oe(mt(),n),i,s))}function Go(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),c=s?t[1]:t,l=null===c;let u=n[i+1];u===yi&&(u=l?B:void 0);let h=l?gn(u,r):c===r?u:void 0;if(s&&!$o(h)&&(h=gn(t,r)),$o(h)&&(a=h,o))return a;const d=e[i+1];i=o?wi(d):Si(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=gn(e,r))}return a}function $o(e){return void 0!==e}function Wo(e,t){return 0!=(e.flags&(t?16:32))}function Yo(e,t=""){const n=Be(),r=Ve(),i=e+ce,s=r.firstCreatePass?Ai(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return ke(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Kr(r,n,o,s),$e(s,!1)}function Ko(e){return Qo("",e,""),Ko}function Qo(e,t,n){const r=Be(),i=Gs(r,e,t,n);return i!==yi&&ps(r,mt(),i),Qo}function Jo(e,t,n,r,i){const s=Be(),o=function(e,t,n,r,i,s){const o=zs(e,Xe(),n,i);return tt(2),o?t+y(n)+r+y(i)+s:yi}(s,e,t,n,r,i);return o!==yi&&ps(s,mt(),o),Jo}function Xo(e,t,n){Uo(mn,Lo,Gs(Be(),e,t,n),!0)}function ea(e,t,n){Fo(Gs(Be(),e,t,n))}function ta(e,t,n){const r=Be();return Vs(r,et(),t)&&ji(Ve(),yt(),r,e,t,r[11],n,!0),ta}function na(e,t,n){const r=Be();if(Vs(r,et(),t)){const i=Ve(),s=yt();ji(i,s,r,e,t,us(it(i.data),s,r),n,!0)}return na}const ra=void 0;var ia=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let sa={};function oa(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ca(t);if(n)return n;const r=t.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return ia;throw new Error(`Missing locale data for the locale "${e}".`)}function aa(e){return oa(e)[la.PluralCase]}function ca(e){return e in sa||(sa[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),sa[e]}var la=(()=>((la=la||{})[la.LocaleId=0]="LocaleId",la[la.DayPeriodsFormat=1]="DayPeriodsFormat",la[la.DayPeriodsStandalone=2]="DayPeriodsStandalone",la[la.DaysFormat=3]="DaysFormat",la[la.DaysStandalone=4]="DaysStandalone",la[la.MonthsFormat=5]="MonthsFormat",la[la.MonthsStandalone=6]="MonthsStandalone",la[la.Eras=7]="Eras",la[la.FirstDayOfWeek=8]="FirstDayOfWeek",la[la.WeekendRange=9]="WeekendRange",la[la.DateFormat=10]="DateFormat",la[la.TimeFormat=11]="TimeFormat",la[la.DateTimeFormat=12]="DateTimeFormat",la[la.NumberSymbols=13]="NumberSymbols",la[la.NumberFormats=14]="NumberFormats",la[la.CurrencyCode=15]="CurrencyCode",la[la.CurrencySymbol=16]="CurrencySymbol",la[la.CurrencyName=17]="CurrencyName",la[la.Currencies=18]="Currencies",la[la.Directionality=19]="Directionality",la[la.PluralCase=20]="PluralCase",la[la.ExtraData=21]="ExtraData",la))();const ua="en-US";let ha=ua;function da(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(ha=e.toLowerCase().replace(/_/g,"-"))}function pa(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)pa(e[s],t,n,r,i);else{const s=Ve(),o=Be();let a=As(e)?e:f(e.provide),c=Ts(e);const l=He(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(As(e)||!e.multi){const r=new kt(c,i,Ys),p=ga(a,t,i?u:u+d,h);-1===p?(Vt(Ut(l,o),s,a),fa(s,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=ga(a,t,u+d,h),f=ga(a,t,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){Vt(Ut(l,o),s,a);const u=function(e,t,n,r,i){const s=new kt(e,n,Ys);return s.multi=[],s.index=t,s.componentProviders=0,ma(s,i,r&&!n),s}(i?va:ya,n.length,i,r,c);!i&&g&&(n[f].providerFactory=u),fa(s,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else fa(s,e,p>-1?p:f,ma(n[i?f:p],c,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function fa(e,t,n,r){const i=As(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function ma(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ga(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ya(e,t,n,r){return _a(this.multi,[])}function va(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Qt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),_a(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],_a(i,s);return s}function _a(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ba(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ve();if(r.firstCreatePass){const i=me(e);pa(n,r.data,r.blueprint,i,!0),pa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class wa{}class Ca{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Sa{}function xa(...e){}function Ta(e,t){return new ka(Pe(e,t))}Sa.NULL=new Ca;const Ea=function(){return Ta(He(),Be())};let ka=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Ea,e})();function Aa(e){return e instanceof ka?e.nativeElement:e}class Ia{}let Oa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Pa(),e})();const Pa=function(){const e=Be(),t=Fe(He().index,e);return function(e){return e[11]}(ue(t)?t:e)};let Da=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class Ra{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fa=new Ra("12.1.5");class Na{constructor(){}supports(e){return qs(e)}create(e){return new La(e)}}const Ma=(e,t)=>t;class La{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ma}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<ja(n,r,i)?t:n,o=ja(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!qs(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Zs()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Za(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new qa),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Za{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ua{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class qa{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ua,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ja(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ba{constructor(){}supports(e){return e instanceof Map||js(e)}create(){return new Va}}class Va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||js(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new za(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class za{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ha(){return new Ga([new Na])}let Ga=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ha()),deps:[[e,new Pn,new On]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:Ha}),e})();function $a(){return new Wa([new Ba])}let Wa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||$a()),deps:[[e,new Pn,new On]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:$a}),e})();function Ya(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ie(s)),he(s))for(let e=le;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Ya(t[1],t,n,r)}const o=n.type;if(8&o)Ya(e,t,n.child,r);else if(32&o){const e=Dr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Jr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Rr(t[16]);Ya(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ka{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ya(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(qr(e,n),pn(t,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}onDestroy(e){Ui(this._lView[1],this._lView,null,e)}markForCheck(){rs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){is(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{is(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ti(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Qa extends Ka{constructor(e){super(e),this._view=e}detectChanges(){ss(this._view)}checkNoChanges(){!function(e){Qe(!0);try{ss(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const Ja=function(e){return function(e,t,n){if(pe(e)&&!n){const n=Fe(e.index,t);return new Ka(n,n)}return 47&e.type?new Ka(t[16],t):null}(He(),Be(),16==(16&e))};let Xa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ja,e})();const ec=[new Ba],tc=new Ga([new Na]),nc=new Wa(ec),rc=function(){return ac(He(),Be())};let ic=(()=>{class e{}return e.__NG_ELEMENT_ID__=rc,e})();const sc=ic,oc=class extends sc{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ki(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Oi(t,n,e),new Ka(n)}};function ac(e,t){return 4&e.type?new oc(t,e,Ta(e,t)):null}class cc{}class lc{}const uc=function(){return gc(He(),Be())};let hc=(()=>{class e{}return e.__NG_ELEMENT_ID__=uc,e})();const dc=hc,pc=class extends dc{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bt(this._hostTNode,this._hostLView);if(Rt(e)){const t=Nt(e,this._hostLView),n=Ft(e);return new en(t[1].data[n+8],t)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=fc(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-le}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(cc,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new pc(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=le+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-le?(t[4]=n[i],dn(n,le+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Xr(i,s),a=n[11],c=$r(a,s[7]);return null!==c&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ti(e,r,n,1,i,s)}(r,s[6],a,n,c,o),e.attachToViewContainerRef(),dn(mc(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=fc(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=qr(this._lContainer,t);n&&(pn(mc(this._lContainer),t),jr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=qr(this._lContainer,t);return n&&null!=pn(mc(this._lContainer),t)?new Ka(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function fc(e){return e[8]}function mc(e){return e[8]||(e[8]=[])}function gc(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=Ie(r);else{const n=t[11];i=n.createComment("");const r=Pe(e,t);zr(n,$r(n,r),i,function(e,t){return ke(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ji(r,t,i,e),ns(t,n)}return new pc(n,e,t)}const yc={};class vc extends Sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new wc(t,this.ngModule)}}function _c(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const bc=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ar});class wc extends wa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(gi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return _c(this.componentDef.inputs)}get outputs(){return _c(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,yc,i);return s!==yc||r===yc?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Ia,Ae),o=i.get(Da,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(ke(e))return e.selectRootElement(t,n===N.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Zr(s.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Se:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Ar,clean:as,playerHandler:null,flags:0},d=Zi(0,null,null,1,0,null,null,null,null,null),p=ki(null,d,h,u,null,null,s,a,o,i);let f,m;lt(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Ai(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(fs(a,c,!0),null!==e&&(At(i,e,c),null!==a.classes&&ii(i,e,a.classes),null!==a.styles&&ri(i,e,a.styles)));const l=r.createRenderer(e,t),u=ki(n,Li(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Vt(Ut(a,n),o,t.type),Hi(o,a),$i(a,n.length,1)),ns(n,u),n[20]=u}(l,this.componentDef,p,s,a);if(l)if(n)At(a,l,["ng-version",Fa.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&At(a,l,e),t&&t.length>0&&ii(a,l,t.join(" "))}if(m=De(d,ce),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wi(e,r,t,Ii(e,t,1,null),n));const i=Qt(t,e,r.directiveStart,r);Sr(i,t);const s=Pe(r,t);return s&&Sr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=He();t.contentQueries(1,o,e.directiveStart)}const a=He();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(gt(a.index),Vi(n[1],a,0,a.directiveStart,a.directiveEnd,t),zi(t,o)),o}(e,this.componentDef,p,h,[Ps]),Oi(d,p,null)}finally{ft()}return new Cc(this.componentType,f,Ta(m,p),p,m)}}class Cc extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Qa(r),this.componentType=e}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Sc=new Map;class xc extends cc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vc(this);const n=ae(e),r=e[$]||null;r&&da(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=Cs(e,t,[{provide:cc,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Os.THROW_IF_NOT_FOUND,n=I.Default){return e===Os||e===cc||e===ms?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Tc extends lc{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,Sc.get(i),n),Sc.set(i,n));const s=Or(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new xc(this.moduleType,e)}}function Ec(e,t,n,r,i){return Ac(Be(),Je(),e,t,n,r,i)}function kc(e,t){const n=e[t];return n===yi?void 0:n}function Ac(e,t,n,r,i,s,o){const a=t+n;return zs(e,a,i,s)?Bs(e,a+2,o?r.call(o,i,s):r(i,s)):kc(e,a+2)}function Ic(e,t){const n=Ve();let r;const i=e+ce;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ge(r.type)),o=P(Ys);try{const e=Lt(!1),t=s();return Lt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Be(),i,t),t}finally{P(o)}}function Oc(e,t,n){const r=e+ce,i=Be(),s=Re(i,r);return Rc(i,Dc(i,r)?function(e,t,n,r,i,s){const o=t+n;return Vs(e,o,i)?Bs(e,o+1,s?r.call(s,i):r(i)):kc(e,o+1)}(i,Je(),t,s.transform,n,s):s.transform(n))}function Pc(e,t,n,r){const i=e+ce,s=Be(),o=Re(s,i);return Rc(s,Dc(s,i)?Ac(s,Je(),t,o.transform,n,r,o):o.transform(n,r))}function Dc(e,t){return e[1].data[t].pure}function Rc(e,t){return Us.isWrapped(t)&&(t=Us.unwrap(t),e[Xe()]=yi),t}function Fc(e){return t=>{setTimeout(e,void 0,t)}}const Nc=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(s=t.error)||void 0===s?void 0:s.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Fc(c),a&&(a=Fc(a)),l&&(l=Fc(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof i.w&&e.add(u),u}};function Mc(){return this._results[Zs()]()}class Lc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Zs(),n=Lc.prototype;n[t]||(n[t]=Mc)}get changes(){return this._changes||(this._changes=new Nc)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=un(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Zc{constructor(e){this.queryList=e,this.matches=null}clone(){return new Zc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Uc(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Xc(e,t).matches&&this.queries[t].setDirty()}}class qc{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class jc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new jc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Bc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Bc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Vc(t,i)),this.matchTNodeWithReadOption(e,t,Kt(t,e,i,!1,!1))}else n===ic?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ka||r===hc||r===ic&&4&t.type)this.addMatch(t.index,-2);else{const n=Kt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vc(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function zc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ta(e,t):4&e.type?ac(e,t):null}(t,e):-2===n?function(e,t,n){return n===ka?Ta(t,e):n===ic?ac(t,e):n===hc?gc(t,e):void 0}(e,t,r):Qt(e,e[1],n,t)}function Hc(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:zc(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Gc(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Hc(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=le;e<o.length;e++){const t=o[e];t[17]===t[3]&&Gc(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Gc(n[1],n,i,r)}}}}}return r}function $c(e){const t=Be(),n=Ve(),r=st();ot(r+1);const i=Xc(n,r);if(e.dirty&&Ne(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Gc(n,t,r,[]):Hc(n,t,i,r);e.reset(s,Aa),e.notifyOnChanges()}return!0}return!1}function Wc(e,t,n){const r=Ve();r.firstCreatePass&&(Jc(r,new qc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Qc(r,Be(),t)}function Yc(e,t,n,r){const i=Ve();if(i.firstCreatePass){const s=He();Jc(i,new qc(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Qc(i,Be(),n)}function Kc(){return e=Be(),t=st(),e[19].queries[t].queryList;var e,t}function Qc(e,t,n){const r=new Lc(4==(4&n));Ui(e,t,r,r.destroy),null===t[19]&&(t[19]=new Uc),t[19].queries.push(new Zc(r))}function Jc(e,t,n){null===e.queries&&(e.queries=new jc),e.queries.track(new Bc(t,n))}function Xc(e,t){return e.queries.getByIndex(t)}function el(e,t){return ac(e,t)}const tl=new an("Application Initializer");let nl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=xa,this.reject=xa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(oo(t))e.push(t);else if(co(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Tn(tl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const rl=new an("AppId"),il={provide:rl,useFactory:function(){return`${sl()}${sl()}${sl()}`},deps:[]};function sl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ol=new an("Platform Initializer"),al=new an("Platform ID"),cl=new an("appBootstrapListener");let ll=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const ul=new an("LocaleId"),hl=new an("DefaultCurrencyCode");class dl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const pl=function(e){return new Tc(e)},fl=pl,ml=function(e){return Promise.resolve(pl(e))},gl=function(e){const t=pl(e),n=Or(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new wc(n)),e},[]);return new dl(t,n)},yl=gl,vl=function(e){return Promise.resolve(gl(e))};let _l=(()=>{class e{constructor(){this.compileModuleSync=fl,this.compileModuleAsync=ml,this.compileModuleAndAllComponentsSync=yl,this.compileModuleAndAllComponentsAsync=vl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const bl=(()=>Promise.resolve(0))();function wl(e){"undefined"==typeof Zone?bl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Cl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Tl(e),e.isCheckStableRunning=!0,xl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Tl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return El(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),kl(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return El(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),kl(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Tl(e),xl(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Sl,xa,xa);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Sl={};function xl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function El(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kl(e){e._nesting--,xl(e)}class Al{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Il=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cl.assertNotInAngularZone(),wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Tn(Cl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),Ol=(()=>{class e{constructor(){this._applications=new Map,Fl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Fl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class Pl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Dl(e){Fl=e}let Rl,Fl=new Pl,Nl=!0,Ml=!1;function Ll(){return Ml=!0,Nl}function Zl(){if(Ml)throw new Error("Cannot enable prod mode after platform setup.");Nl=!1}const Ul=new an("AllowMultipleToken");class ql{constructor(e,t){this.name=e,this.token=t}}function jl(e,t,n=[]){const r=`Platform: ${t}`,i=new an(r);return(t=[])=>{let s=Bl();if(!s||s.injector.get(Ul,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(e){if(Rl&&!Rl.destroyed&&!Rl.injector.get(Ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rl=e.get(Vl);const t=e.get(ol,null);t&&t.forEach(e=>e())}(Os.create({providers:e,name:r}))}return function(e){const t=Bl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Bl(){return Rl&&!Rl.destroyed?Rl:null}let Vl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Al:("zone.js"===e?void 0:e)||new Cl({enableLongStackTrace:Ll(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Cl,useValue:n}];return n.run(()=>{const t=Os.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(kr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Gl(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return oo(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(nl);return e.runInitializers(),e.donePromise.then(()=>(da(i.injector.get(ul,ua)||ua),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=zl({},t);return function(e,t,n){const r=new Tc(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Hl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Tn(Os))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function zl(e,t){return Array.isArray(t)?t.reduce(zl,e):Object.assign(Object.assign({},e),t)}let Hl=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Cl.assertNotInAngularZone(),wl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(c,l.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof wa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(cc),i=n.create(Os.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Il,null),a=o&&i.injector.get(Ol);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Gl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Gl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(cl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Tn(Cl),Tn(Os),Tn(kr),Tn(Sa),Tn(nl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Gl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $l{}class Wl{}const Yl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Kl=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Yl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Ql(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Ql(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Tn(_l),Tn(Wl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Ql(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Jl=function(e){return null},Xl=jl(null,"core",[{provide:al,useValue:"unknown"},{provide:Vl,deps:[Os]},{provide:Ol,deps:[]},{provide:ll,deps:[]}]),eu=[{provide:Hl,useClass:Hl,deps:[Cl,Os,kr,Sa,nl]},{provide:bc,deps:[Cl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:nl,useClass:nl,deps:[[new On,tl]]},{provide:_l,useClass:_l,deps:[]},il,{provide:Ga,useFactory:function(){return tc},deps:[]},{provide:Wa,useFactory:function(){return nc},deps:[]},{provide:ul,useFactory:function(e){return da(e=e||"undefined"!=typeof $localize&&$localize.locale||ua),e},deps:[[new In(ul),new On,new Pn]]},{provide:hl,useValue:"USD"}];let tu=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Tn(Hl))},e.\u0275mod=te({type:e}),e.\u0275inj=w({providers:eu}),e})()},4979:(e,t,n)=>{"use strict";n.d(t,{nm:()=>q});var r=n(7091);n(7716),n(4431);var i=n(6304),s=n(7776),o=n(3343),a=n(839),c=n(2189);const l=new Map,u={activated:!1,tokenObservers:[]},h={initialized:!1,enabled:!1};function d(e){return l.get(e)||u}function p(e,t){l.set(e,t)}function f(){return h}class m{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,i.Z)(function*(){t.stop();try{t.pending=new a.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new a.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const g=new a.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y(e){if(!d(e).activated)throw g.create("use-before-activation",{appName:e.name})}function v(e,t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw g.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw g.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw g.create("fetch-parse-error",{originalErrorMessage:h.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw g.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function b(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const w="firebase-app-check-store";let C=null;function S(){return C||(C=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(g.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(w,{keyPath:"compositeKey"})}}}catch(n){t(g.create("storage-open",{originalErrorMessage:n.message}))}}),C)}function x(){return(x=(0,i.Z)(function*(e,t){const n=(yield S()).transaction(w,"readwrite"),r=n.objectStore(w).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(g.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const T=new c.Yd("@firebase/app-check");function E(e,t){return(0,a.hl)()?function(e,t){return function(e,t){return x.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{T.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function k(){return f().enabled}function A(){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(function*(){const e=f();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const O={error:"UNKNOWN_ERROR"};function P(e){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(function*(e,t=!1){const n=e.app;y(n);const r=d(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&M(e)&&(s=e)}if(!t&&s&&M(s))return{token:s.token};let o,a=!1;if(k()){r.exchangeTokenPromise||(r.exchangeTokenPromise=v(b(n,yield A()),e.platformLoggerProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield E(n,t),p(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?T.warn(c.message):T.error(c),i=c}return s?(o={token:s.token},p(n,Object.assign(Object.assign({},r),{token:s})),yield E(n,s)):o=L(i),a&&N(n,o),o})).apply(this,arguments)}function R(e,t){const n=d(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),p(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function F(e){const{app:t}=e,n=d(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new m((0,i.Z)(function*(){let n;if(n=d(t).token?yield P(e,!0):yield P(e),n.error)throw n.error}),()=>!0,()=>{const e=d(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),p(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function N(e,t){const n=d(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function M(e){return e.expireTimeMillis-Date.now()>0}function L(e){return{token:(t=O,a.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class Z{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=d(this.app);for(const t of e)R(this.app,t.next);return Promise.resolve()}}const U="app-check-internal";(0,s._registerComponent)(new o.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new Z(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(U).initialize()})),(0,s._registerComponent)(new o.wA(U,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>P(t,e),addTokenListener:e=>function(e,t,n,r){const{app:i}=e,s=d(i),o={next:n,error:void 0,type:"INTERNAL"};if(p(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&M(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),F(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>F(e))}(t,0,e),removeTokenListener:e=>R(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)("@firebase/app-check","0.5.3");class q{constructor(){return(0,r.vb)("app-check")}}"undefined"!=typeof window&&window},3820:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>I,ww:()=>O,rT:()=>T,f7:()=>k,L6:()=>S,_Q:()=>x,lh:()=>E,Qv:()=>C,nw:()=>A});var r=n(7716),i=n(9765),s=n(5917),o=n(7574),a=n(4402),c=n(6682),l=n(3190);function u(e,t){return t?(0,l.w)(()=>e,t):(0,l.w)(()=>e)}var h=n(6136),d=n(8002),p=n(2066),f=n(8049),m=n(9673),g=n(5435),y=n(7091),v=n(8939),_=n(8583),b=n(4979),w=n(8674);const C=new r.OlP("angularfire2.auth.use-emulator"),S=new r.OlP("angularfire2.auth.settings"),x=new r.OlP("angularfire2.auth.tenant-id"),T=new r.OlP("angularfire2.auth.langugage-code"),E=new r.OlP("angularfire2.auth.use-device-language"),k=new r.OlP("angularfire.auth.persistence"),A=(e,t,n,r,i,s,o,a)=>(0,v.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let I=(()=>{class e{constructor(e,t,r,b,w,C,S,x,T,E,k,I){const O=new i.xQ,P=(0,s.of)(void 0).pipe((0,h.QV)(w.outsideAngular),(0,l.w)(()=>b.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6369)))),(0,d.U)(()=>(0,v.on)(e,b,t)),(0,d.U)(e=>A(e,b,C,x,T,E,S,k)),(0,p.d)({bufferSize:1,refCount:!1}));if((0,_.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,s.of)(null);else{P.pipe((0,f.P)()).subscribe();const e=P.pipe((0,l.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),y.iC,(0,p.d)({bufferSize:1,refCount:!1})),t=P.pipe((0,l.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=P.pipe((0,l.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(u(t),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular)),this.user=e.pipe(u(n),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular)),this.idToken=this.user.pipe((0,l.w)(e=>e?(0,a.D)(e.getIdToken()):(0,s.of)(null))),this.idTokenResult=this.user.pipe((0,l.w)(e=>e?(0,a.D)(e.getIdTokenResult()):(0,s.of)(null))),this.credential=(0,c.T)(e,O,this.authState.pipe((0,g.h)(e=>!e))).pipe((0,d.U)(e=>(null==e?void 0:e.user)?e:null),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular))}return(0,v.pX)(this,P,b,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>O.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v.Dh),r.LFG(v.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(y.HU),r.LFG(C,8),r.LFG(S,8),r.LFG(x,8),r.LFG(T,8),r.LFG(E,8),r.LFG(k,8),r.LFG(b.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),O=(()=>{class e{constructor(){w.Z.registerVersion("angularfire",y.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[I]}),e})()},1775:(e,t,n)=>{"use strict";n.d(t,{ST:()=>Pm});var r,i=n(7716),s=n(3637),o=n(7574),a=n(4402),c=n(5917),l=n(7091),u=n(9761),h=n(9328),d=n(8002),p=n(2145),f=n(7519),m=n(5435),g=n(8939),y=n(8583),v=(n(6369),n(9397)),_=n(6304),b=n(7776),w=n(3343),C=n(2189),S=n(839),x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T={},E=E||{},k=x||self;function A(){}function I(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function O(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var P="closure_uid_"+(1e9*Math.random()>>>0),D=0;function R(e,t,n){return e.call.apply(e.bind,arguments)}function F(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function N(e,t,n){return(N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:F).apply(null,arguments)}function M(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function L(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Z(){this.s=this.s,this.o=this.o}var U={};Z.prototype.s=!1,Z.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,P)&&e[P]||(e[P]=++D)}(this);delete U[e]}},Z.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function B(e){return Array.prototype.concat.apply([],arguments)}function V(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function z(e){return/^[\s\xa0]*$/.test(e)}var H,G=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $(e,t){return-1!=e.indexOf(t)}function W(e,t){return e<t?-1:e>t?1:0}e:{var Y=k.navigator;if(Y){var K=Y.userAgent;if(K){H=K;break e}}H=""}function Q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function J(e){const t={};for(const n in e)t[n]=e[n];return t}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<X.length;t++)n=X[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){return te[" "](e),e}te[" "]=A;var ne,re,ie=$(H,"Opera"),se=$(H,"Trident")||$(H,"MSIE"),oe=$(H,"Edge"),ae=oe||se,ce=$(H,"Gecko")&&!($(H.toLowerCase(),"webkit")&&!$(H,"Edge"))&&!($(H,"Trident")||$(H,"MSIE"))&&!$(H,"Edge"),le=$(H.toLowerCase(),"webkit")&&!$(H,"Edge");function ue(){var e=k.document;return e?e.documentMode:void 0}e:{var he="",de=(re=H,ce?/rv:([^\);]+)(\)|;)/.exec(re):oe?/Edge\/([\d\.]+)/.exec(re):se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):le?/WebKit\/(\S+)/.exec(re):ie?/(?:Version)[ \/]?(\S+)/.exec(re):void 0);if(de&&(he=de?de[1]:""),se){var pe=ue();if(null!=pe&&pe>parseFloat(he)){ne=String(pe);break e}}ne=he}var fe={};var me=k.document&&se&&(ue()||parseInt(ne,10))||void 0,ge=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{k.addEventListener("test",A,t),k.removeEventListener("test",A,t)}catch(n){}return e}();function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ve(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ce){e:{try{te(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:_e[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ve.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},L(ve,ye);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++we,this.ca=this.fa=!1}function Se(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function xe(e){this.src=e,this.g={},this.h=0}function Te(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=q(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Se(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ee(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}xe.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ee(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ce(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ke="closure_lm_"+(1e6*Math.random()|0),Ae={};function Ie(e,t,n,r,i){if(r&&r.once)return Pe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ie(e,t[s],n,r,i);return null}return n=Ze(n),e&&e[be]?e.N(t,n,O(r)?!!r.capture:!!r,i):Oe(e,t,n,!1,r,i)}function Oe(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=O(i)?!!i.capture:!!i,a=Me(e);if(a||(e[ke]=a=new xe(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Ne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ge||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Pe(e,t[s],n,r,i);return null}return n=Ze(n),e&&e[be]?e.O(t,n,O(r)?!!r.capture:!!r,i):Oe(e,t,n,!0,r,i)}function De(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)De(e,t[s],n,r,i);else r=O(r)?!!r.capture:!!r,n=Ze(n),e&&e[be]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ee(s=e.g[t],n,r,i))&&(Se(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ee(t,n,r,i)),(n=-1<e?t[e]:null)&&Re(n))}function Re(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[be])Te(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Me(t))?(Te(n,e),0==n.h&&(n.src=null,t[ke]=null)):Se(e)}}}function Fe(e){return e in Ae?Ae[e]:Ae[e]="on"+e}function Ne(e,t){if(e.ca)e=!0;else{t=new ve(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Re(e),e=n.call(r,t)}return e}function Me(e){return(e=e[ke])instanceof xe?e:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(e){return"function"==typeof e?e:(e[Le]||(e[Le]=function(t){return e.handleEvent(t)}),e[Le])}function Ue(){Z.call(this),this.i=new xe(this),this.P=this,this.I=null}function qe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var i=t;ee(t=new ye(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=je(o,r,!0,t)&&i}if(i=je(o=t.g=e,r,!0,t)&&i,i=je(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=je(o=t.g=n[s],r,!1,t)&&i}function je(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Te(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}L(Ue,Z),Ue.prototype[be]=!0,Ue.prototype.removeEventListener=function(e,t,n,r){De(this,e,t,n,r)},Ue.prototype.M=function(){if(Ue.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Se(n[r]);delete t.g[e],t.h--}}this.I=null},Ue.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ue.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Be=k.JSON.stringify;function Ve(){var e=Ke;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ze,He=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ge,e=>e.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $e(e){k.setTimeout(()=>{throw e},0)}function We(e,t){ze||function(){var e=k.Promise.resolve(void 0);ze=function(){e.then(Qe)}}(),Ye||(ze(),Ye=!0),Ke.add(e,t)}var Ye=!1,Ke=new class{constructor(){this.h=this.g=null}add(e,t){const n=He.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Qe(){for(var e;e=Ve();){try{e.h.call(e.g)}catch(n){$e(n)}var t=He;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ye=!1}function Je(e,t){Ue.call(this),this.h=e||1,this.g=t||k,this.j=N(this.kb,this),this.l=Date.now()}function Xe(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function et(e,t,n){if("function"==typeof e)n&&(e=N(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=N(e.handleEvent,e)}return 2147483647<Number(t)?-1:k.setTimeout(e,t||0)}function tt(e){e.g=et(()=>{e.g=null,e.i&&(e.i=!1,tt(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}L(Je,Ue),(r=Je.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qe(this,"tick"),this.da&&(Xe(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Je.Z.M.call(this),Xe(this),delete this.g};class nt extends Z{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tt(this)}M(){super.M(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(e){Z.call(this),this.h=e,this.g={}}L(rt,Z);var it=[];function st(e,t,n,r){Array.isArray(n)||(n&&(it[0]=n.toString()),n=it);for(var i=0;i<n.length;i++){var s=Ie(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ot(e){Q(e.g,function(e,t){this.g.hasOwnProperty(t)&&Re(e)},e),e.g={}}function at(){this.g=!0}function ct(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Be(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}rt.prototype.M=function(){rt.Z.M.call(this),ot(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},at.prototype.Aa=function(){this.g=!1},at.prototype.info=function(){};var lt={},ut=null;function ht(){return ut=ut||new Ue}function dt(e){ye.call(this,lt.Ma,e)}function pt(e){const t=ht();qe(t,new dt(t,e))}function ft(e,t){ye.call(this,lt.STAT_EVENT,e),this.stat=t}function mt(e){const t=ht();qe(t,new ft(t,e))}function gt(e,t){ye.call(this,lt.Na,e),this.size=t}function yt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){e()},t)}lt.Ma="serverreachability",L(dt,ye),lt.STAT_EVENT="statevent",L(ft,ye),lt.Na="timingevent",L(gt,ye);var vt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_t={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bt(){}function wt(){}bt.prototype.h=null;var Ct,St={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xt(){ye.call(this,"d")}function Tt(){ye.call(this,"c")}function Et(){}function kt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rt(this),this.P=It,this.W=new Je(e=ae?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}L(xt,ye),L(Tt,ye),L(Et,bt),Et.prototype.g=function(){return new XMLHttpRequest},Et.prototype.i=function(){return{}},Ct=new Et;var It=45e3,Ot={},Pt={};function Dt(e,t,n){e.K=1,e.v=tn(Yt(t)),e.s=n,e.U=!0,Rt(e,null)}function Rt(e,t){e.F=Date.now(),Lt(e),e.A=Yt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new At,e.g=mr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new nt(N(e.Ia,e,e.g),e.O)),st(e.V,e.g,"readystatechange",e.gb),t=e.H?J(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pt(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ft(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Nt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Mt(e,n),r==Pt){4==t&&(e.o=4,mt(14),i=!1),ct(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ot){e.o=4,mt(15),ct(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ct(e.j,e.m,r,null),Bt(e,r)}Ft(e)&&r!=Pt&&r!=Ot&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ar(t),t.L=!0,mt(11))):(ct(e.j,e.m,n,"[Invalid Chunked Response]"),jt(e),qt(e))}function Mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pt:(n=Number(t.substring(n,r)),isNaN(n)?Ot:(r+=1)+n>t.length?Pt:(t=t.substr(r,n),e.C=r+n,t))}function Lt(e){e.Y=Date.now()+e.P,Zt(e,e.P)}function Zt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yt(N(e.eb,e),t)}function Ut(e){e.B&&(k.clearTimeout(e.B),e.B=null)}function qt(e){0==e.l.G||e.I||ur(e.l,e)}function jt(e){Ut(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xe(e.W),ot(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wn(n.i,e)))if(n.I=e.N,!e.J&&wn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;lr(n),Jn(n)}or(n),mt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=yt(N(n.ab,n),6e3));if(1>=bn(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else dr(n,11)}else if((e.J||n.g==e)&&lr(n),!z(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&($(e,"spdy")||$(e,"quic")||$(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Cn(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,en(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=fr(r,r.H?r.la:null,r.W),o.J){Sn(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Ut(a),Lt(a)),r.g=o}else sr(r);0<n.l.length&&tr(n)}else"stop"!=l[0]&&"close"!=l[0]||dr(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?dr(n,7):Qn(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}pt(4)}catch(l){}}function Vt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(I(e)||"string"==typeof e)j(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(I(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(I(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function zt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ht(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=kt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Gn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const u=Gn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||ae||this.g&&(this.h.h||this.g.ga()||$n(this.g)))){this.I||4!=u||7==t||pt(8==t||0>=h?3:2),Ut(this);var n=this.g.ba();this.N=n;t:if(Ft(this)){var r=$n(this.g);e="";var i=r.length,s=4==Gn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){jt(this),qt(this);var o="";break t}this.h.i=new k.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,mt(12),jt(this),qt(this);break e}ct(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bt(this,n)}this.U?(Nt(this,u,o),ae&&this.i&&3==u&&(st(this.V,this.W,"tick",this.fb),this.W.start())):(ct(this.j,this.m,o,null),Bt(this,o)),4==u&&jt(this),this.i&&!this.I&&(4==u?ur(this.l,this):(this.i=!1,Lt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),jt(this),qt(this)}}}catch(u){}},r.fb=function(){if(this.g){var e=Gn(this.g),t=this.g.ga();this.C<t.length&&(Ut(this),Nt(this,e,t),this.i&&4!=e&&Lt(this))}},r.cancel=function(){this.I=!0,jt(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(pt(3),mt(17)),jt(this),this.o=2,qt(this)):Zt(this,this.Y-e)},(r=zt.prototype).R=function(){Ht(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Ht(this),this.g.concat()},r.get=function(e,t){return Gt(this.h,e)?this.h[e]:t},r.set=function(e,t){Gt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var $t=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wt){this.g=void 0!==t?t:e.g,Kt(this,e.j),this.s=e.s,Qt(this,e.i),Jt(this,e.m),this.l=e.l,t=e.h;var n=new hn;n.i=t.i,t.g&&(n.g=new zt(t.g),n.h=t.h),Xt(this,n),this.o=e.o}else e&&(n=String(e).match($t))?(this.g=!!t,Kt(this,n[1]||"",!0),this.s=nn(n[2]||""),Qt(this,n[3]||"",!0),Jt(this,n[4]),this.l=nn(n[5]||"",!0),Xt(this,n[6]||"",!0),this.o=nn(n[7]||"")):(this.g=!!t,this.h=new hn(null,this.g))}function Yt(e){return new Wt(e)}function Kt(e,t,n){e.j=n?nn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qt(e,t,n){e.i=n?nn(t,!0):t}function Jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xt(e,t,n){t instanceof hn?(e.h=t,function(e,t){t&&!e.j&&(dn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(pn(this,t),mn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=rn(t,ln)),e.h=new hn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rn(t,on,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rn(t,on,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rn(n,"/"==n.charAt(0)?cn:an,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rn(n,un)),e.join("")};var on=/[#\/\?@]/g,an=/[#\?:]/g,cn=/[#\?]/g,ln=/[#\?@]/g,un=/#/g;function hn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dn(e){e.g||(e.g=new zt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function pn(e,t){dn(e),t=gn(e,t),Gt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ht(e)))}function fn(e,t){return dn(e),t=gn(e,t),Gt(e.g.h,t)}function mn(e,t,n){pn(e,t),0<n.length&&(e.i=null,e.g.set(gn(e,t),V(n)),e.h+=n.length)}function gn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function yn(e){this.l=e||vn,e=k.PerformanceNavigationTiming?0<(e=k.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(k.g&&k.g.Ea&&k.g.Ea()&&k.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=hn.prototype).add=function(e,t){dn(this),this.i=null,e=gn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){dn(this),this.g.forEach(function(n,r){j(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){dn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},r.R=function(e){dn(this);var t=[];if("string"==typeof e)fn(this,e)&&(t=B(t,this.g.get(gn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=B(t,e[n])}return t},r.set=function(e,t){return dn(this),this.i=null,fn(this,e=gn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var vn=10;function _n(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bn(e){return e.h?1:e.g?e.g.size:0}function wn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cn(e,t){e.g?e.g.add(t):e.h=t}function Sn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return V(e.i)}function Tn(){}function En(){this.g=new Tn}function kn(e,t,n){const r=n||"";try{Vt(e,function(e,n){let i=e;O(e)&&(i=Be(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function An(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function In(e){this.l=e.$b||null,this.j=e.ib||!1}function On(e,t){Ue.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn.prototype.cancel=function(){if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Tn.prototype.stringify=function(e){return k.JSON.stringify(e,void 0)},Tn.prototype.parse=function(e){return k.JSON.parse(e,void 0)},L(In,bt),In.prototype.g=function(){return new On(this.l,this.j)},In.prototype.i=function(e){return function(){return e}}({}),L(On,Ue);var Pn=0;function Dn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Rn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fn(e)}function Fn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=On.prototype).open=function(e,t){if(this.readyState!=Pn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||k).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rn(this)),this.readyState=Pn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==k.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rn(this):Fn(this),3==this.readyState&&Dn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,Rn(this))},r.Ta=function(e){this.g&&(this.response=e,Rn(this))},r.ha=function(){this.g&&Rn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(On.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nn=k.JSON.parse;function Mn(e){Ue.call(this),this.headers=new zt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ln,this.K=this.L=!1}L(Mn,Ue);var Ln="",Zn=/^https?$/i,Un=["POST","PUT"];function qn(e){return"content-type"==e.toLowerCase()}function jn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bn(e),zn(e)}function Bn(e){e.D||(e.D=!0,qe(e,"complete"),qe(e,"error"))}function Vn(e){if(e.h&&void 0!==E&&(!e.C[1]||4!=Gn(e)||2!=e.ba()))if(e.v&&4==Gn(e))et(e.Fa,0,e);else if(qe(e,"readystatechange"),4==Gn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match($t)[1]||null;if(!i&&k.self&&k.self.location){var s=k.self.location.protocol;i=s.substr(0,s.length-1)}r=!Zn.test(i?i.toLowerCase():"")}n=r}if(n)qe(e,"complete"),qe(e,"success");else{e.m=6;try{var o=2<Gn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Bn(e)}}finally{zn(e)}}}function zn(e,t){if(e.g){Hn(e);const r=e.g,i=e.C[0]?A:null;e.g=null,e.C=null,t||qe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Hn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(k.clearTimeout(e.A),e.A=null)}function Gn(e){return e.g?e.g.readyState:0}function $n(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ln:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function Yn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kn(e){this.za=0,this.l=[],this.h=new at,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yn("baseRetryDelayMs",5e3,e),this.$a=Yn("retryDelaySeedMs",1e4,e),this.Ya=Yn("forwardChannelMaxRetries",2,e),this.ra=Yn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yn(e&&e.concurrentRequestLimit),this.Ca=new En,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qn(e){if(Xn(e),3==e.G){var t=e.V++,n=Yt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),rr(e,n),(t=new kt(e,e.h,t,void 0)).K=2,t.v=tn(Yt(n)),n=!1,k.navigator&&k.navigator.sendBeacon&&(n=k.navigator.sendBeacon(t.v.toString(),"")),!n&&k.Image&&((new Image).src=t.v,n=!0),n||(t.g=mr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lt(t)}pr(e)}function Jn(e){e.g&&(ar(e),e.g.cancel(),e.g=null)}function Xn(e){Jn(e),e.u&&(k.clearTimeout(e.u),e.u=null),lr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&k.clearTimeout(e.m),e.m=null)}function er(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&tr(e)}function tr(e){_n(e.i)||e.m||(e.m=!0,We(e.Ha,e),e.C=0)}function nr(e,t){var n;n=t?t.m:e.V++;const r=Yt(e.F);en(r,"SID",e.J),en(r,"RID",n),en(r,"AID",e.U),rr(e,r),e.o&&e.s&&Wn(r,e.o,e.s),n=new kt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ir(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cn(e.i,n),Dt(n,r,t)}function rr(e,t){e.j&&Vt({},function(e,n){en(t,n,e)})}function ir(e,t,n){n=Math.min(e.l.length,n);var r=e.j?N(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{kn(a,e,"req"+n+"_")}catch(Vr){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function sr(e){e.g||e.u||(e.Y=1,We(e.Ga,e),e.A=0)}function or(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=yt(N(e.Ga,e),hr(e,e.A)),e.A++,0))}function ar(e){null!=e.B&&(k.clearTimeout(e.B),e.B=null)}function cr(e){e.g=new kt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),rr(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&Wn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Yt(t)),n.s=null,n.U=!0,Rt(n,e)}function lr(e){null!=e.v&&(k.clearTimeout(e.v),e.v=null)}function ur(e,t){var n=null;if(e.g==t){lr(e),ar(e),e.g=null;var r=2}else{if(!wn(e.i,t))return;n=t.D,Sn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qe(r=ht(),new gt(r,n,t,i)),tr(e)}else sr(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(bn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=yt(N(e.Ha,e,t),hr(e,e.C)),e.C++,0)))}(e,t)||2==r&&or(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dr(e,5);break;case 4:dr(e,10);break;case 3:dr(e,6);break;default:dr(e,2)}}function hr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function dr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=N(e.jb,e);n||(n=new Wt("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||Kt(n,"https"),tn(n)),function(e,t){const n=new at;if(k.Image){const r=new Image;r.onload=M(An,n,r,"TestLoadImage: loaded",!0,t),r.onerror=M(An,n,r,"TestLoadImage: error",!1,t),r.onabort=M(An,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=M(An,n,r,"TestLoadImage: timeout",!1,t),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else mt(2);e.G=0,e.j&&e.j.va(t),pr(e),Xn(e)}function pr(e){e.G=0,e.I=-1,e.j&&(0==xn(e.i).length&&0==e.l.length||(e.i.i.length=0,V(e.l),e.l.length=0),e.j.ua())}function fr(e,t,n){let r=function(e){return e instanceof Wt?Yt(e):new Wt(e,void 0)}(n);if(""!=r.i)t&&Qt(r,t+"."+r.i),Jt(r,r.m);else{const e=k.location;r=function(e,t,n,r){var i=new Wt(null,void 0);return e&&Kt(i,e),t&&Qt(i,t),n&&Jt(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Q(e.aa,function(e,t){en(r,t,e)}),n=e.sa,(t=e.D)&&n&&en(r,t,n),en(r,"VER",e.ma),rr(e,r),r}function mr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Mn(n&&e.Ba&&!e.qa?new In({ib:!0}):e.qa)).L=e.H,t}function gr(){}function yr(){if(se&&!(10<=Number(me)))throw Error("Environmental error: no available transport.")}function vr(e,t){Ue.call(this),this.g=new Kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!z(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!z(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new wr(this)}function _r(e){xt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function br(){Tt.call(this),this.status=1}function wr(e){this.g=e}(r=Mn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ct.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Ct),this.g.onreadystatechange=N(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void jn(this,s)}e=n||"";const i=new zt(this.headers);r&&Vt(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=qn;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=k.FormData&&e instanceof k.FormData,!(0<=q(Un,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hn(this),0<this.B&&((this.K=function(e){return se&&function(){return e=fe,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=G(String(ne)).split("."),n=G("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=W(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||W(0==i[2].length,0==s[2].length)||W(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=N(this.pa,this)):this.A=et(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){jn(this,s)}},r.pa=function(){void 0!==E&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qe(this,"complete"),qe(this,"abort"),zn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zn(this,!0)),Mn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Vn(this):this.cb())},r.cb=function(){Vn(this)},r.ba=function(){try{return 2<Gn(this)?this.g.status:-1}catch(re){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(re){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Kn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new kt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=J(s),ee(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ir(this,i,t),en(n=Yt(this.F),"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),rr(this,n),this.o&&s&&Wn(n,this.o,s),Cn(this.i,i),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),i.$=!0,Dt(i,n,null)):Dt(i,n,t),this.G=2}}else 3==this.G&&(e?nr(this,e):0==this.l.length||_n(this.i)||nr(this))},r.Ga=function(){if(this.u=null,cr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=yt(N(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mt(10),Jn(this),cr(this))},r.ab=function(){null!=this.v&&(this.v=null,Jn(this),or(this),mt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mt(2)):(this.h.info("Failed to ping google.com"),mt(1))},(r=gr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},yr.prototype.g=function(e,t){return new vr(e,t)},L(vr,Ue),vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),We(N(e.hb,e,t))),mt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fr(e,null,e.W),tr(e)},vr.prototype.close=function(){Qn(this.g)},vr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,er(this.g,t)}else this.v?((t={}).__data__=Be(e),er(this.g,t)):er(this.g,e)},vr.prototype.M=function(){this.g.j=null,delete this.j,Qn(this.g),delete this.g,vr.Z.M.call(this)},L(_r,xt),L(br,Tt),L(wr,gr),wr.prototype.xa=function(){qe(this.g,"a")},wr.prototype.wa=function(e){qe(this.g,new _r(e))},wr.prototype.va=function(e){qe(this.g,new br(e))},wr.prototype.ua=function(){qe(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,vr.prototype.send=vr.prototype.u,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,_t.COMPLETE="complete",wt.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ue.prototype.listen=Ue.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.La,Mn.prototype.getLastErrorCode=Mn.prototype.Da,Mn.prototype.getStatus=Mn.prototype.ba,Mn.prototype.getResponseJson=Mn.prototype.Qa,Mn.prototype.getResponseText=Mn.prototype.ga,Mn.prototype.send=Mn.prototype.ea;var Cr=T.createWebChannelTransport=function(){return new yr},Sr=T.getStatEventTarget=function(){return ht()},xr=T.ErrorCode=vt,Tr=T.EventType=_t,Er=T.Event=lt,kr=T.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ar=T.FetchXmlHttpFactory=In,Ir=T.WebChannel=wt,Or=T.XhrIo=Mn;const Pr="@firebase/firestore";class Dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let Rr="9.6.7";const Fr=new C.Yd("@firebase/firestore");function Nr(){return Fr.logLevel}function Mr(e,...t){if(Fr.logLevel<=C.in.DEBUG){const n=t.map(Ur);Fr.debug(`Firestore (${Rr}): ${e}`,...n)}}function Lr(e,...t){if(Fr.logLevel<=C.in.ERROR){const n=t.map(Ur);Fr.error(`Firestore (${Rr}): ${e}`,...n)}}function Zr(e,...t){if(Fr.logLevel<=C.in.WARN){const n=t.map(Ur);Fr.warn(`Firestore (${Rr}): ${e}`,...n)}}function Ur(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function qr(e="Unexpected state"){const t=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+e;throw Lr(t),new Error(t)}function jr(e,t){e||qr()}function Br(e,t){return e}const Vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zr extends S.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $r{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dr.UNAUTHENTICATED))}shutdown(){}}class Wr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yr{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,_.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Mr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Mr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jr("string"==typeof t.accessToken),new Gr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jr(null===e||"string"==typeof e),new Dr(e)}}class Kr{constructor(e,t,n){this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Qr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Kr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Mr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Mr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Mr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Mr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(jr("string"==typeof e.token),this.p=e.token,new Jr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ei{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ti(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ei.A=-1;class ni{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ti(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ri(e,t){return e<t?-1:e>t?1:0}function ii(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function si(e){return e+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new oi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ri(this.nanoseconds,e.nanoseconds):ri(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ai{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ai(e)}static min(){return new ai(new oi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ci(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function li(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ui(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class hi{constructor(e,t,n){void 0===t?t=0:t>e.length&&qr(),void 0===n?n=e.length-t:n>e.length-t&&qr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class di extends hi{construct(e,t,n){return new di(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new zr(Vr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new di(t)}static emptyPath(){return new di([])}}const pi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends hi{construct(e,t,n){return new fi(e,t,n)}static isValidIdentifier(e){return pi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new zr(Vr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new zr(Vr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new zr(Vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new zr(Vr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class mi{constructor(e){this.fields=e,e.sort(fi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ii(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ri(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(e){if(jr(!!e),"string"==typeof e){let t=0;const n=yi.exec(e);if(jr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_i(e.seconds),nanos:_i(e.nanos)}}function _i(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bi(e){return"string"==typeof e?gi.fromBase64String(e):gi.fromUint8Array(e)}function wi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ci(e){const t=e.mapValue.fields.__previous_value__;return wi(t)?Ci(t):t}function Si(e){const t=vi(e.mapValue.fields.__local_write_time__.timestampValue);return new oi(t.seconds,t.nanos)}class xi{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Ti{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ti("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ti&&e.projectId===this.projectId&&e.database===this.database}}function Ei(e){return null==e}function ki(e){return 0===e&&1/e==-1/0}function Ai(e){return"number"==typeof e&&Number.isInteger(e)&&!ki(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Ii{constructor(e){this.path=e}static fromPath(e){return new Ii(di.fromString(e))}static fromName(e){return new Ii(di.fromString(e).popFirst(5))}static empty(){return new Ii(di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===di.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ii(new di(e.slice()))}}const Oi={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Pi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wi(e)?4:10:qr()}function Di(e,t){if(e===t)return!0;const n=Pi(e);if(n!==Pi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Si(e).isEqual(Si(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vi(e.timestampValue),r=vi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bi(e.bytesValue).isEqual(bi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _i(e.geoPointValue.latitude)===_i(t.geoPointValue.latitude)&&_i(e.geoPointValue.longitude)===_i(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _i(e.integerValue)===_i(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_i(e.doubleValue),r=_i(t.doubleValue);return n===r?ki(n)===ki(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ii(e.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ci(n)!==ci(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Di(n[i],r[i])))return!1;return!0}(e,t);default:return qr()}}function Ri(e,t){return void 0!==(e.values||[]).find(e=>Di(e,t))}function Fi(e,t){if(e===t)return 0;const n=Pi(e),r=Pi(t);if(n!==r)return ri(n,r);switch(n){case 0:return 0;case 1:return ri(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_i(e.integerValue||e.doubleValue),r=_i(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ni(e.timestampValue,t.timestampValue);case 4:return Ni(Si(e),Si(t));case 5:return ri(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bi(e),r=bi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ri(n[i],r[i]);if(0!==e)return e}return ri(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ri(_i(e.latitude),_i(t.latitude));return 0!==n?n:ri(_i(e.longitude),_i(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Fi(n[i],r[i]);if(e)return e}return ri(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ri(r[o],s[o]);if(0!==e)return e;const t=Fi(n[r[o]],i[s[o]]);if(0!==t)return t}return ri(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qr()}}function Ni(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ri(e,t);const n=vi(e),r=vi(t),i=ri(n.seconds,r.seconds);return 0!==i?i:ri(n.nanos,r.nanos)}function Mi(e){return Li(e)}function Li(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bi(e.bytesValue).toBase64():"referenceValue"in e?Ii.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Li(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Li(e.fields[i])}`;return n+"}"}(e.mapValue):qr();var t}function Zi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ui(e){return!!e&&"integerValue"in e}function qi(e){return!!e&&"arrayValue"in e}function ji(e){return!!e&&"nullValue"in e}function Bi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vi(e){return!!e&&"mapValue"in e}function zi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return li(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=zi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zi(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zi(t)}setAll(e){let t=fi.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zi(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){li(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Hi(zi(this.value))}}function Gi(e){const t=[];return li(e.fields,(e,n)=>{const r=new fi([e]);if(Vi(n)){const e=Gi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new mi(t)}class $i{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new $i(e,0,ai.min(),ai.min(),Hi.empty(),0)}static newFoundDocument(e,t,n){return new $i(e,1,t,ai.min(),n,0)}static newNoDocument(e,t){return new $i(e,2,t,ai.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,ai.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Wi=(()=>{class e{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}return e.UNKNOWN_ID=-1,e})();class Yi{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ki{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ki(0,Qi.min())}}class Qi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qi(ai.min(),Ii.empty(),-1)}}class Ji{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.P=null}}function Xi(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Ji(e,t,n,r,i,s,o)}function es(e){const t=Br(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+Mi(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ei(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Mi(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Mi(e)).join(",")),t.P=e}return t.P}function ts(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!fs(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Di(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gs(e.startAt,t.startAt)&&gs(e.endAt,t.endAt)}function ns(e){return Ii.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class rs extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,n):new is(e,t,n):"array-contains"===t?new cs(e,n):"in"===t?new ls(e,n):"not-in"===t?new us(e,n):"array-contains-any"===t?new hs(e,n):new rs(e,t,n)}static v(e,t,n){return"in"===t?new ss(e,n):new os(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Fi(t,this.value)):null!==t&&Pi(this.value)===Pi(t)&&this.V(Fi(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qr()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class is extends rs{constructor(e,t,n){super(e,t,n),this.key=Ii.fromName(n.referenceValue)}matches(e){const t=Ii.comparator(e.key,this.key);return this.V(t)}}class ss extends rs{constructor(e,t){super(e,"in",t),this.keys=as(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class os extends rs{constructor(e,t){super(e,"not-in",t),this.keys=as(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function as(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ii.fromName(e.referenceValue))}class cs extends rs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qi(t)&&Ri(t.arrayValue,this.value)}}class ls extends rs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ri(this.value.arrayValue,t)}}class us extends rs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ri(this.value.arrayValue,t)}}class hs extends rs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ri(this.value.arrayValue,e))}}class ds{constructor(e,t){this.position=e,this.inclusive=t}}class ps{constructor(e,t="asc"){this.field=e,this.dir=t}}function fs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ms(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ii.comparator(Ii.fromName(o.referenceValue),n.key):Fi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Di(e.position[n],t.position[n]))return!1;return!0}class ys{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null}}function vs(e,t,n,r,i,s,o,a){return new ys(e,t,n,r,i,s,o,a)}function _s(e){return new ys(e)}function bs(e){return!Ei(e.limit)&&"F"===e.limitType}function ws(e){return!Ei(e.limit)&&"L"===e.limitType}function Cs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ss(e){for(const t of e.filters)if(t.S())return t.field;return null}function xs(e){return null!==e.collectionGroup}function Ts(e){const t=Br(e);if(null===t.D){t.D=[];const e=Ss(t),n=Cs(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new ps(e)),t.D.push(new ps(fi.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ps(fi.keyField(),e))}}}return t.D}function Es(e){const t=Br(e);if(!t.C)if("F"===t.limitType)t.C=Xi(t.path,t.collectionGroup,Ts(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ts(t))e.push(new ps(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ds(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new ds(t.startAt.position,!t.startAt.inclusive):null;t.C=Xi(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function ks(e,t,n){return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function As(e,t){return ts(Es(e),Es(t))&&e.limitType===t.limitType}function Is(e){return`${es(Es(e))}|lt:${e.limitType}`}function Os(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Mi(t.value)}`;var t}).join(", ")}]`),Ei(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Mi(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Mi(e)).join(",")),`Target(${t})`}(Es(e))}; limitType=${e.limitType})`}function Ps(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ii.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ms(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ts(e),t)||e.endAt&&!function(e,t,n){const r=ms(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ts(e),t))}(e,t)}function Ds(e){return(t,n)=>{let r=!1;for(const i of Ts(e)){const e=Rs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Rs(e,t,n){const r=e.field.isKeyField()?Ii.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fi(r,i):qr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qr()}}function Fs(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ki(t)?"-0":t}}function Ns(e){return{integerValue:""+e}}function Ms(e,t){return Ai(t)?Ns(t):Fs(e,t)}class Ls{constructor(){this._=void 0}}function Zs(e,t,n){return e instanceof js?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bs?Vs(e,t):e instanceof zs?Hs(e,t):function(e,t){const n=qs(e,t),r=$s(n)+$s(e.k);return Ui(n)&&Ui(e.k)?Ns(r):Fs(e.O,r)}(e,t)}function Us(e,t,n){return e instanceof Bs?Vs(e,t):e instanceof zs?Hs(e,t):n}function qs(e,t){return e instanceof Gs?Ui(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class js extends Ls{}class Bs extends Ls{constructor(e){super(),this.elements=e}}function Vs(e,t){const n=Ws(t);for(const r of e.elements)n.some(e=>Di(e,r))||n.push(r);return{arrayValue:{values:n}}}class zs extends Ls{constructor(e){super(),this.elements=e}}function Hs(e,t){let n=Ws(t);for(const r of e.elements)n=n.filter(e=>!Di(e,r));return{arrayValue:{values:n}}}class Gs extends Ls{constructor(e,t){super(),this.O=e,this.k=t}}function $s(e){return _i(e.integerValue||e.doubleValue)}function Ws(e){return qi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ys{constructor(e,t){this.field=e,this.transform=t}}class Ks{constructor(e,t){this.version=e,this.transformResults=t}}class Qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Js(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Xs{}function eo(e,t,n){e instanceof so?function(e,t,n){const r=e.value.clone(),i=co(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof oo?function(e,t,n){if(!Js(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=co(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ao(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function to(e,t,n){e instanceof so?function(e,t,n){if(!Js(e.precondition,t))return;const r=e.value.clone(),i=lo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(io(t),r).setHasLocalMutations()}(e,t,n):e instanceof oo?function(e,t,n){if(!Js(e.precondition,t))return;const r=lo(e.fieldTransforms,n,t),i=t.data;i.setAll(ao(e)),i.setAll(r),t.convertToFoundDocument(io(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Js(e.precondition,t)&&t.convertToNoDocument(ai.min())}(e,t)}function no(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=qs(r.transform,e||null);null!=i&&(null==n&&(n=Hi.empty()),n.set(r.field,i))}return n||null}function ro(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ii(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bs&&t instanceof Bs||e instanceof zs&&t instanceof zs?ii(e.elements,t.elements,Di):e instanceof Gs&&t instanceof Gs?Di(e.k,t.k):e instanceof js&&t instanceof js}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function io(e){return e.isFoundDocument()?e.version:ai.min()}class so extends Xs{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class oo extends Xs{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function ao(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function co(e,t,n){const r=new Map;jr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Us(o,a,n[i]))}return r}function lo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Zs(e,s,t))}return r}class uo extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ho extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class po{constructor(e){this.count=e}}var fo,mo;function go(e){switch(e){default:return qr();case Vr.CANCELLED:case Vr.UNKNOWN:case Vr.DEADLINE_EXCEEDED:case Vr.RESOURCE_EXHAUSTED:case Vr.INTERNAL:case Vr.UNAVAILABLE:case Vr.UNAUTHENTICATED:return!1;case Vr.INVALID_ARGUMENT:case Vr.NOT_FOUND:case Vr.ALREADY_EXISTS:case Vr.PERMISSION_DENIED:case Vr.FAILED_PRECONDITION:case Vr.ABORTED:case Vr.OUT_OF_RANGE:case Vr.UNIMPLEMENTED:case Vr.DATA_LOSS:return!0}}function yo(e){if(void 0===e)return Lr("GRPC error has no .code"),Vr.UNKNOWN;switch(e){case fo.OK:return Vr.OK;case fo.CANCELLED:return Vr.CANCELLED;case fo.UNKNOWN:return Vr.UNKNOWN;case fo.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case fo.INTERNAL:return Vr.INTERNAL;case fo.UNAVAILABLE:return Vr.UNAVAILABLE;case fo.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case fo.NOT_FOUND:return Vr.NOT_FOUND;case fo.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case fo.ABORTED:return Vr.ABORTED;case fo.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case fo.DATA_LOSS:return Vr.DATA_LOSS;default:return qr()}}(mo=fo||(fo={}))[mo.OK=0]="OK",mo[mo.CANCELLED=1]="CANCELLED",mo[mo.UNKNOWN=2]="UNKNOWN",mo[mo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mo[mo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mo[mo.NOT_FOUND=5]="NOT_FOUND",mo[mo.ALREADY_EXISTS=6]="ALREADY_EXISTS",mo[mo.PERMISSION_DENIED=7]="PERMISSION_DENIED",mo[mo.UNAUTHENTICATED=16]="UNAUTHENTICATED",mo[mo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mo[mo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mo[mo.ABORTED=10]="ABORTED",mo[mo.OUT_OF_RANGE=11]="OUT_OF_RANGE",mo[mo.UNIMPLEMENTED=12]="UNIMPLEMENTED",mo[mo.INTERNAL=13]="INTERNAL",mo[mo.UNAVAILABLE=14]="UNAVAILABLE",mo[mo.DATA_LOSS=15]="DATA_LOSS";class vo{constructor(e,t){this.comparator=e,this.root=t||bo.EMPTY}insert(e,t){return new vo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(e){return new vo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _o(this.root,e,this.comparator,!1)}getReverseIterator(){return new _o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _o(this.root,e,this.comparator,!0)}}class _o{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bo.RED,this.left=null!=r?r:bo.EMPTY,this.right=null!=i?i:bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new bo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qr();if(this.right.isRed())throw qr();const e=this.left.check();if(e!==this.right.check())throw qr();return e+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw qr()}get value(){throw qr()}get color(){throw qr()}get left(){throw qr()}get right(){throw qr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new bo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wo{constructor(e){this.comparator=e,this.data=new vo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Co(this.data.getIterator())}getIteratorFrom(e){return new Co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof wo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wo(this.comparator);return t.data=e,t}}class Co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function So(e){return e.hasNext()?e.getNext():void 0}const xo=new vo(Ii.comparator);function To(){return xo}const Eo=new vo(Ii.comparator);function ko(){return Eo}const Ao=new vo(Ii.comparator),Io=new wo(Ii.comparator);function Oo(...e){let t=Io;for(const n of e)t=t.add(n);return t}const Po=new wo(ri);function Do(){return Po}class Ro{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ro(ai.min(),n,Do(),To(),Oo())}}class Fo{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Fo(gi.EMPTY_BYTE_STRING,t,Oo(),Oo(),Oo())}}class No{constructor(e,t,n,r){this.M=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Mo{constructor(e,t){this.targetId=e,this.F=t}}class Lo{constructor(e,t,n=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zo{constructor(){this.B=0,this.L=jo(),this.U=gi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Oo(),t=Oo(),n=Oo();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qr()}}),new Fo(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=jo()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Uo{constructor(e){this.nt=e,this.st=new Map,this.it=To(),this.rt=qo(),this.ot=new wo(ri)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:qr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((e,n)=>{this.ft(n)&&t(n)})}_t(e){const t=e.targetId,n=e.F.count,r=this.wt(t);if(r){const e=r.target;if(ns(e))if(0===n){const n=new Ii(e.path);this.at(t,n,$i.newNoDocument(n,ai.min()))}else jr(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&ns(i.target)){const t=new Ii(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.at(r,t,$i.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}});let n=Oo();this.rt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.it.forEach((t,n)=>n.setReadTime(e));const r=new Ro(e,t,this.ot,this.it,n);return this.it=To(),this.rt=qo(),this.ot=new wo(ri),r}ut(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Zo,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new wo(ri),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Mr("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new Zo),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function qo(){return new vo(Ii.comparator)}function jo(){return new vo(Ii.comparator)}const Bo={asc:"ASCENDING",desc:"DESCENDING"},Vo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zo{constructor(e,t){this.databaseId=e,this.N=t}}function Ho(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Go(e,t){return e.N?t.toBase64():t.toUint8Array()}function $o(e,t){return Ho(e,t.toTimestamp())}function Wo(e){return jr(!!e),ai.fromTimestamp(function(e){const t=vi(e);return new oi(t.seconds,t.nanos)}(e))}function Yo(e,t){return function(e){return new di(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ko(e){const t=di.fromString(e);return jr(va(t)),t}function Qo(e,t){return Yo(e.databaseId,t.path)}function Jo(e,t){const n=Ko(t);if(n.get(1)!==e.databaseId.projectId)throw new zr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ii(na(n))}function Xo(e,t){return Yo(e.databaseId,t)}function ea(e){const t=Ko(e);return 4===t.length?di.emptyPath():na(t)}function ta(e){return new di(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function na(e){return jr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ra(e,t,n){return{name:Qo(e,t),fields:n.value.mapValue.fields}}function ia(e,t,n){const r=Jo(e,t.name),i=Wo(t.updateTime),s=new Hi({mapValue:{fields:t.fields}}),o=$i.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sa(e,t){let n;if(t instanceof so)n={update:ra(e,t.key,t.value)};else if(t instanceof uo)n={delete:Qo(e,t.key)};else if(t instanceof oo)n={update:ra(e,t.key,t.data),updateMask:ya(t.fieldMask)};else{if(!(t instanceof ho))return qr();n={verify:Qo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof js)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gs)return{fieldPath:t.field.canonicalString(),increment:n.k};throw qr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$o(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qr()}(e,t.precondition)),n}function oa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Qs.updateTime(Wo(e.updateTime)):void 0!==e.exists?Qs.exists(e.exists):Qs.none()}(t.currentDocument):Qs.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(jr("REQUEST_TIME"===t.setToServerValue),n=new js):"appendMissingElements"in t?n=new Bs(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new zs(t.removeAllFromArray.values||[]):"increment"in t?n=new Gs(e,t.increment):qr();const r=fi.fromServerFormat(t.fieldPath);return new Ys(r,n)}(e,t)):[];if(t.update){const i=Jo(e,t.update.name),s=new Hi({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new mi((e.fieldPaths||[]).map(e=>fi.fromServerFormat(e)))}(t.updateMask);return new oo(i,s,e,n,r)}return new so(i,s,n,r)}if(t.delete){const r=Jo(e,t.delete);return new uo(r,n)}if(t.verify){const r=Jo(e,t.verify);return new ho(r,n)}return qr()}function aa(e,t){return{documents:[Xo(e,t.path)]}}function ca(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Xo(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xo(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Bi(e.value))return{unaryFilter:{field:pa(e.field),op:"IS_NAN"}};if(ji(e.value))return{unaryFilter:{field:pa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bi(e.value))return{unaryFilter:{field:pa(e.field),op:"IS_NOT_NAN"}};if(ji(e.value))return{unaryFilter:{field:pa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(e.field),op:da(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:pa(e.field),direction:ha(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||Ei(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function la(e){let t=ea(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=ua(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new ps(fa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ei(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){return new ds(e.values||[],!!e.before)}(n.startAt));let l=null;return n.endAt&&(l=function(e){return new ds(e.values||[],!e.before)}(n.endAt)),vs(t,i,o,s,a,"F",c,l)}function ua(e){return e?void 0!==e.unaryFilter?[ga(e)]:void 0!==e.fieldFilter?[ma(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ua(e)).reduce((e,t)=>e.concat(t)):qr():[]}function ha(e){return Bo[e]}function da(e){return Vo[e]}function pa(e){return{fieldPath:e.canonicalString()}}function fa(e){return fi.fromServerFormat(e.fieldPath)}function ma(e){return rs.create(fa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ga(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fa(e.unaryFilter.field);return rs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fa(e.unaryFilter.field);return rs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fa(e.unaryFilter.field);return rs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fa(e.unaryFilter.field);return rs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qr()}}function ya(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function va(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _a(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wa(t)),t=ba(e.get(n),t);return wa(t)}function ba(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function wa(e){return e+"\x01\x01"}function Ca(e){const t=e.length;if(jr(t>=2),2===t)return jr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),di.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&qr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:qr()}s=t+2}return new di(r)}class Sa{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class xa{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}xa.store="owner",xa.key="owner";class Ta{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Ta.store="mutationQueues",Ta.keyPath="userId";class Ea{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Ea.store="mutations",Ea.keyPath="batchId",Ea.userMutationsIndex="userMutationsIndex",Ea.userMutationsKeyPath=["userId","batchId"];class ka{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,_a(t)]}static key(e,t,n){return[e,_a(t),n]}}ka.store="documentMutations",ka.PLACEHOLDER=new ka;class Aa{constructor(e,t){this.path=e,this.readTime=t}}class Ia{constructor(e,t){this.path=e,this.version=t}}class Oa{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Oa.store="remoteDocuments",Oa.readTimeIndex="readTimeIndex",Oa.readTimeIndexPath="readTime",Oa.collectionReadTimeIndex="collectionReadTimeIndex",Oa.collectionReadTimeIndexPath=["parentPath","readTime"];class Pa{constructor(e){this.byteSize=e}}Pa.store="remoteDocumentGlobal",Pa.key="remoteDocumentGlobalKey";class Da{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Da.store="targets",Da.keyPath="targetId",Da.queryTargetsIndexName="queryTargetsIndex",Da.queryTargetsKeyPath=["canonicalId","targetId"];class Ra{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Ra.store="targetDocuments",Ra.keyPath=["targetId","path"],Ra.documentTargetsIndex="documentTargetsIndex",Ra.documentTargetsKeyPath=["path","targetId"];class Fa{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Fa.key="targetGlobalKey",Fa.store="targetGlobal";class Na{constructor(e,t){this.collectionId=e,this.parent=t}}Na.store="collectionParents",Na.keyPath=["collectionId","parent"];class Ma{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Ma.store="clientMetadata",Ma.keyPath="clientId";class La{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}La.store="bundles",La.keyPath="bundleId";class Za{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Za.store="namedQueries",Za.keyPath="name";class Ua{constructor(e,t,n){this.indexId=e,this.collectionGroup=t,this.fields=n}}Ua.store="indexConfiguration",Ua.keyPath="indexId",Ua.collectionGroupIndex="collectionGroupIndex",Ua.collectionGroupIndexPath="collectionGroup";class qa{constructor(e,t,n,r,i,s){this.indexId=e,this.uid=t,this.sequenceNumber=n,this.readTime=r,this.documentKey=i,this.largestBatchId=s}}qa.store="indexState",qa.keyPath=["indexId","uid"],qa.sequenceNumberIndex="sequenceNumberIndex",qa.sequenceNumberIndexPath=["uid","sequenceNumber"];class ja{constructor(e,t,n,r,i){this.indexId=e,this.uid=t,this.arrayValue=n,this.directionalValue=r,this.documentKey=i}}ja.store="indexEntries",ja.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ja.documentKeyIndex="documentKeyIndex",ja.documentKeyIndexPath=["indexId","uid","documentKey"];class Ba{constructor(e,t,n,r,i,s){this.userId=e,this.collectionPath=t,this.documentId=n,this.collectionGroup=r,this.largestBatchId=i,this.overlayMutation=s}}Ba.store="documentOverlays",Ba.keyPath=["userId","collectionPath","documentId"],Ba.collectionPathOverlayIndex="collectionPathOverlayIndex",Ba.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Ba.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Ba.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const Va=[Ta.store,Ea.store,ka.store,Oa.store,Da.store,xa.store,Fa.store,Ra.store,Ma.store,Pa.store,Na.store,La.store,Za.store],za=[...Va,Ba.store],Ha=[...za,Ua.store,qa.store,ja.store],Ga="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Wa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wa((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wa?t:Wa.resolve(t)}catch(e){return Wa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wa.reject(t)}static resolve(e){return new Wa((t,n)=>{t(e)})}static reject(e){return new Wa((t,n)=>{n(e)})}static waitFor(e){return new Wa((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wa.resolve(!1);for(const n of e)t=t.next(e=>e?Wa.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Ya{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ja(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=rc(t.target.error);this.At.reject(new Ja(e,n))}}static open(e,t,n,r){try{return new Ya(t,e.transaction(r,n))}catch(e){throw new Ja(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Mr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ec(t)}}class Ka{constructor(e,t,n){this.name=e,this.version=t,this.bt=n,12.2===Ka.vt((0,S.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mr("SimpleDb","Removing database:",e),tc(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,S.hl)())return!1;if(Ka.St())return!0;const e=(0,S.z$)(),t=Ka.vt(e),n=0<t&&t<10,r=Ka.Dt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}xt(e){var t=this;return(0,_.Z)(function*(){return t.db||(Mr("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Ja(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new zr(Vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new zr(Vr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Ja(e,n))},i.onupgradeneeded=e=>{Mr("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.bt.kt(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Mr("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=e=>t.Ot(e)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,_.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.xt(e);const t=Ya.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).next(e=>(t.Pt(),e)).catch(e=>(t.abort(e),Wa.reject(e))).toPromise();return o.catch(()=>{}),yield t.Rt,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(Mr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Qa{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return tc(this.$t.delete())}}class Ja extends zr{constructor(e,t){super(Vr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xa(e){return"IndexedDbTransactionError"===e.name}class ec{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Mr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tc(n)}add(e){return Mr("SimpleDb","ADD",this.store.name,e,e),tc(this.store.add(e))}get(e){return tc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mr("SimpleDb","DELETE",this.store.name,e),tc(this.store.delete(e))}count(){return Mr("SimpleDb","COUNT",this.store.name),tc(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new Wa((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}Gt(e,t){Mr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const r=this.cursor(n);return this.Kt(r,(e,t,n)=>n.delete())}Qt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Kt(r,t)}Wt(e){const t=this.cursor({});return new Wa((n,r)=>{t.onerror=e=>{const t=rc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Kt(e,t){const n=[];return new Wa((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Qa(i),o=t(i.primaryKey,i.value,s);if(o instanceof Wa){const e=o.catch(e=>(s.done(),Wa.reject(e)));n.push(e)}s.isDone?r():null===s.Lt?i.continue():i.continue(s.Lt)}}).next(()=>Wa.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tc(e){return new Wa((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=rc(e.target.error);n(t)}})}let nc=!1;function rc(e){const t=Ka.vt((0,S.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new zr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nc||(nc=!0,setTimeout(()=>{throw e},0)),e}}return e}class ic extends $a{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function sc(e,t){const n=Br(e);return Ka.Nt(n.zt,t)}class oc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&eo(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&to(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&to(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ai.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oo())}isEqual(e){return this.batchId===e.batchId&&ii(this.mutations,e.mutations,(e,t)=>ro(e,t))&&ii(this.baseMutations,e.baseMutations,(e,t)=>ro(e,t))}}class ac{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){jr(e.mutations.length===n.length);let r=Ao;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ac(e,t,n,r)}}class cc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lc{constructor(e,t,n,r,i=ai.min(),s=ai.min(),o=gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uc{constructor(e){this.Ht=e}}function hc(e,t){let n;if(t.document)n=ia(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Ii.fromSegments(t.noDocument.path),r=gc(t.noDocument.readTime);n=$i.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qr();{const e=Ii.fromSegments(t.unknownDocument.path),r=gc(t.unknownDocument.version);n=$i.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(fc(t.readTime)),n}function dc(e,t){const n=pc(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const i=function(e,t){return{name:Qo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ho(e,t.version.toTimestamp())}}(e.Ht,t);return new Oa(null,null,i,t.hasCommittedMutations,n,r)}if(t.isNoDocument()){const e=t.key.path.toArray(),i=mc(t.version),s=t.hasCommittedMutations;return new Oa(null,new Aa(e,i),null,s,n,r)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),i=mc(t.version);return new Oa(new Ia(e,i),null,null,!0,n,r)}return qr()}function pc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fc(e){const t=new oi(e[0],e[1]);return ai.fromTimestamp(t)}function mc(e){const t=e.toTimestamp();return new Sa(t.seconds,t.nanoseconds)}function gc(e){const t=new oi(e.seconds,e.nanoseconds);return ai.fromTimestamp(t)}function yc(e,t){const n=(t.baseMutations||[]).map(t=>oa(e.Ht,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>oa(e.Ht,t)),i=oi.fromMillis(t.localWriteTimeMs);return new oc(t.batchId,i,n,r)}function vc(e){const t=gc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?gc(e.lastLimboFreeSnapshotVersion):ai.min();let r;var i;return void 0!==e.query.documents?(jr(1===(i=e.query).documents.length),r=Es(_s(ea(i.documents[0])))):r=function(e){return Es(la(e))}(e.query),new lc(r,e.targetId,0,e.lastListenSequenceNumber,t,n,gi.fromBase64String(e.resumeToken))}function _c(e,t){const n=mc(t.snapshotVersion),r=mc(t.lastLimboFreeSnapshotVersion);let i;i=ns(t.target)?aa(e.Ht,t.target):ca(e.Ht,t.target);const s=t.resumeToken.toBase64();return new Da(t.targetId,es(t.target),n,s,t.sequenceNumber,r,i)}function bc(e){const t=la({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ks(t,t.limit,"L"):t}function wc(e,t){return new cc(t.largestBatchId,oa(e.Ht,t.overlayMutation))}function Cc(e,t){const n=t.path.lastSegment();return[e,_a(t.path.popLast()),n]}class Sc{getBundleMetadata(e,t){return xc(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:gc(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return xc(e).put({bundleId:(n=t).id,createTime:mc(Wo(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Tc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:bc(t.bundledQuery),readTime:gc(t.readTime)};var t})}saveNamedQuery(e,t){return Tc(e).put(function(e){return{name:e.name,readTime:mc(Wo(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function xc(e){return sc(e,La.store)}function Tc(e){return sc(e,Za.store)}class Ec{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new Ec(e,t.uid||"")}getOverlay(e,t){return kc(e).get(Cc(this.userId,t)).next(e=>e?wc(this.O,e):null)}saveOverlays(e,t,n){const r=[];return n.forEach(n=>{const i=new cc(t,n);r.push(this.Yt(e,i))}),Wa.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(_a(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(kc(e).Gt(Ba.collectionPathOverlayIndex,r))}),Wa.waitFor(i)}getOverlaysForCollection(e,t,n){const r=new Map,i=_a(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kc(e).qt(Ba.collectionPathOverlayIndex,s).next(e=>{for(const t of e){const e=wc(this.O,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=new Map;let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kc(e).Qt({index:Ba.collectionGroupOverlayIndex,range:o},(e,t,n)=>{const o=wc(this.O,t);i.size<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}Yt(e,t){return kc(e).put(function(e,t,n){const[r,i,s]=Cc(t,n.mutation.key);return new Ba(t,i,s,n.mutation.key.getCollectionGroup(),n.largestBatchId,sa(e.Ht,n.mutation))}(this.O,this.userId,t))}}function kc(e){return sc(e,Ba.store)}class Ac{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(_i(e.integerValue));else if("doubleValue"in e){const n=_i(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),ki(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ee(t,20),"string"==typeof n?t.se(n):(t.se(`${n.seconds||""}`),t.ne(n.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(bi(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ee(t,45),t.ne(n.latitude||0),t.ne(n.longitude||0)}else"mapValue"in e?Di(e,Oi)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):qr()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const n=e.fields||{};this.ee(t,55);for(const r of Object.keys(n))this.ie(r,t),this.Zt(n[r],t)}ae(e,t){const n=e.values||[];this.ee(t,50);for(const r of n)this.Zt(r,t)}ce(e,t){this.ee(t,37),Ii.fromName(e).path.forEach(e=>{this.ee(t,60),this.he(e,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Ic(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Oc(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ic(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ac.le=new Ac;class Pc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.de(n.value),n=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.me(n.value),n=t.next();this.ge()}ye(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.de(e);else if(e<2048)this.de(960|e>>>6),this.de(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.de(480|e>>>12),this.de(128|63&e>>>6),this.de(128|63&e);else{const e=t.codePointAt(0);this.de(240|e>>>18),this.de(128|63&e>>>12),this.de(128|63&e>>>6),this.de(128|63&e)}}this._e()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.me(e);else if(e<2048)this.me(960|e>>>6),this.me(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.me(480|e>>>12),this.me(128|63&e>>>6),this.me(128|63&e);else{const e=t.codePointAt(0);this.me(240|e>>>18),this.me(128|63&e>>>12),this.me(128|63&e>>>6),this.me(128|63&e)}}this.ge()}Ie(e){const t=this.Ee(e),n=Oc(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ae(e){const t=this.Ee(e),n=Oc(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Dc{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Rc{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class Fc{constructor(){this.Se=new Pc,this.De=new Dc(this.Se),this.Ce=new Rc(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class Nc{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}}function Mc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ii.comparator(e.documentKey,t.documentKey),0!==n?n:(n=Lc(e.arrayValue,t.arrayValue),0!==n?n:Lc(e.directionalValue,t.directionalValue)))}function Lc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Zc{constructor(){this.xe=new Uc}addToCollectionParentIndex(e,t){return this.xe.add(t),Wa.resolve()}getCollectionParents(e,t){return Wa.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Wa.resolve()}deleteFieldIndex(e,t){return Wa.resolve()}getDocumentsMatchingTarget(e,t,n){return Wa.resolve(Oo())}getFieldIndex(e,t){return Wa.resolve(null)}getFieldIndexes(e,t){return Wa.resolve([])}getNextCollectionGroupToUpdate(e){return Wa.resolve(null)}updateCollectionGroup(e,t,n){return Wa.resolve()}updateIndexEntries(e,t){return Wa.resolve()}}class Uc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wo(di.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new wo(di.comparator)).toArray()}}class qc{constructor(e){this.user=e,this.ke=new Uc,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const i={collectionId:n,parent:_a(r)};return jc(e).put(i)}return Wa.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[si(t),""],!1,!0);return jc(e).qt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ca(r.parent))}return n})}addFieldIndex(e,t){const n=Vc(e),r=function(e){return new Ua(e.indexId,e.collectionGroup,e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind]))}(t);return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=Vc(e),r=zc(e),i=Bc(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,n){return Wa.resolve(Oo())}getFieldIndex(e,t){return Wa.resolve(null)}Oe(e,t){const n=new Fc;for(const r of function(e){return e.fields.filter(e=>2!==e.kind)}(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ne(r.kind);Ac.le.Xt(e,i)}return n.Ve()}Me(e){const t=new Fc;return Ac.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const n=Vc(e),r=zc(e);return(t?n.qt(Ua.collectionGroupIndex,IDBKeyRange.bound(t,t)):n.qt()).next(e=>{const t=[];return Wa.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Ki(t.sequenceNumber,new Qi(gc(t.readTime),new Ii(Ca(t.documentKey)),t.largestBatchId)):Ki.empty(),r=e.fields.map(([e,t])=>new Yi(fi.fromServerFormat(e),t));return new Wi(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>e.indexState.sequenceNumber-t.indexState.sequenceNumber),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Vc(e),i=zc(e);return this.$e(e).next(e=>r.qt(Ua.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(t=>Wa.forEach(t,t=>i.put(function(e,t,n,r){return new qa(e,t.uid||"",n,mc(r.readTime),_a(r.documentKey.path),r.largestBatchId)}(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Wa.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Wa.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Wa.forEach(i,n=>this.Fe(e,t,n).next(t=>{const i=this.Be(r,n);return t.isEqual(i)?Wa.resolve():this.Le(e,r,t,i)}))))})}Ue(e,t,n){return Bc(e).put(new ja(n.indexId,this.uid,n.arrayValue,n.directionalValue,_a(t.key.path)))}qe(e,t,n){return Bc(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,_a(t.key.path)])}Fe(e,t,n){const r=Bc(e);let i=new wo(Mc);return r.Qt({index:ja.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,_a(t.path)])},(e,r)=>{i=i.add(new Nc(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}Be(e,t){let n=new wo(Mc);const r=this.Oe(t,e);if(null==r)return n;const i=function(e){return e.fields.find(e=>2===e.kind)}(t);if(null!=i){const s=e.data.field(i.fieldPath);if(qi(s))for(const i of s.arrayValue.values||[])n=n.add(new Nc(t.indexId,e.key,this.Me(i),r))}else n=n.add(new Nc(t.indexId,e.key,new Uint8Array,r));return n}Le(e,t,n,r){Mr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const i=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=So(s),c=So(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=So(o)):t?(i(a),a=So(s)):(a=So(s),c=So(o))}}(n,r,Mc,n=>{i.push(this.Ue(e,t,n))},n=>{i.push(this.qe(e,t,n))}),Wa.waitFor(i)}$e(e){let t=1;return zc(e).Qt({index:qa.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}}function jc(e){return sc(e,Na.store)}function Bc(e){return sc(e,ja.store)}function Vc(e){return sc(e,Ua.store)}function zc(e){return sc(e,qa.store)}const Hc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gc(e,Gc.DEFAULT_COLLECTION_PERCENTILE,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $c(e,t,n){const r=e.store(Ea.store),i=e.store(ka.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Qt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{jr(1===a)}));const l=[];for(const u of n.mutations){const e=ka.key(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Wa.waitFor(s).next(()=>l)}function Wc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qr();t=e.noDocument}return JSON.stringify(t).length}Gc.DEFAULT_COLLECTION_PERCENTILE=10,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gc.DEFAULT=new Gc(41943040,Gc.DEFAULT_COLLECTION_PERCENTILE,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gc.DISABLED=new Gc(-1,0,0);class Yc{constructor(e,t,n,r){this.userId=e,this.O=t,this.indexManager=n,this.referenceDelegate=r,this.Ke={}}static Jt(e,t,n,r){jr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Yc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qc(e).Qt({index:Ea.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Jc(e),s=Qc(e);return s.add({}).next(o=>{jr("number"==typeof o);const a=new oc(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>sa(e.Ht,t)),i=n.mutations.map(t=>sa(e.Ht,t));return new Ea(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.O,this.userId,a),l=[];let u=new wo((e,t)=>ri(e.canonicalString(),t.canonicalString()));for(const e of r){const t=ka.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,ka.PLACEHOLDER))}return u.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Ke[o]=a.keys()}),Wa.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return Qc(e).get(t).next(e=>e?(jr(e.userId===this.userId),yc(this.O,e)):null)}Ge(e,t){return this.Ke[t]?Wa.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Ke[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qc(e).Qt({index:Ea.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(jr(t.batchId>=n),i=yc(this.O,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Qc(e).Qt({index:Ea.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qc(e).qt(Ea.userMutationsIndex,t).next(e=>e.map(e=>yc(this.O,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ka.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Jc(e).Qt({range:r},(n,r,s)=>{const[o,a,c]=n,l=Ca(a);if(o===this.userId&&t.path.isEqual(l))return Qc(e).get(c).next(e=>{if(!e)throw qr();jr(e.userId===this.userId),i.push(yc(this.O,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wo(ri);const r=[];return t.forEach(t=>{const i=ka.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Jc(e).Qt({range:s},(e,r,i)=>{const[s,o,a]=e,c=Ca(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),Wa.waitFor(r).next(()=>this.je(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ka.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new wo(ri);return Jc(e).Qt({range:s},(e,t,i)=>{const[s,a,c]=e,l=Ca(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()}).next(()=>this.je(e,o))}je(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Qc(e).get(t).next(e=>{if(null===e)throw qr();jr(e.userId===this.userId),n.push(yc(this.O,e))}))}),Wa.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return $c(e.zt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Wa.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Wa.resolve();const n=IDBKeyRange.lowerBound(ka.prefixForUser(this.userId)),r=[];return Jc(e).Qt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ca(e[1]);r.push(t)}else n.done()}).next(()=>{jr(0===r.length)})})}containsKey(e,t){return Kc(e,this.userId,t)}We(e){return Xc(e).get(this.userId).next(e=>e||new Ta(this.userId,-1,""))}}function Kc(e,t,n){const r=ka.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Jc(e).Qt({range:s,jt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Qc(e){return sc(e,Ea.store)}function Jc(e){return sc(e,ka.store)}function Xc(e){return sc(e,Ta.store)}class el{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new el(0)}static Je(){return new el(-1)}}class tl{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const n=new el(t.highestTargetId);return t.highestTargetId=n.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(e=>ai.fromTimestamp(new oi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Ye(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Xe(e,r)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(n=>(n.targetCount+=1,this.tn(t,n),this.Xe(e,n))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nl(e).delete(t.targetId)).next(()=>this.Ye(e)).next(t=>(jr(t.targetCount>0),t.targetCount-=1,this.Xe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return nl(e).Qt((s,o)=>{const a=vc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Wa.waitFor(i)).next(()=>r)}forEachTarget(e,t){return nl(e).Qt((e,n)=>{const r=vc(n);t(r)})}Ye(e){return rl(e).get(Fa.key).next(e=>(jr(null!==e),e))}Xe(e,t){return rl(e).put(Fa.key,t)}Ze(e,t){return nl(e).put(_c(this.O,t))}tn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ye(e).next(e=>e.targetCount)}getTargetData(e,t){const n=es(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return nl(e).Qt({range:r,index:Da.queryTargetsIndexName},(e,n,r)=>{const s=vc(n);ts(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=il(e);return t.forEach(t=>{const s=_a(t.path);r.push(i.put(new Ra(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Wa.waitFor(r)}removeMatchingKeys(e,t,n){const r=il(e);return Wa.forEach(t,t=>{const i=_a(t.path);return Wa.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=il(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=il(e);let i=Oo();return r.Qt({range:n,jt:!0},(e,t,n)=>{const r=Ca(e[1]),s=new Ii(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=_a(t.path),r=IDBKeyRange.bound([n],[si(n)],!1,!0);let i=0;return il(e).Qt({index:Ra.documentTargetsIndex,jt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return nl(e).get(t).next(e=>e?vc(e):null)}}function nl(e){return sc(e,Da.store)}function rl(e){return sc(e,Fa.store)}function il(e){return sc(e,Ra.store)}function sl(e){return ol.apply(this,arguments)}function ol(){return(ol=(0,_.Z)(function*(e){if(e.code!==Vr.FAILED_PRECONDITION||e.message!==Ga)throw e;Mr("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function al([e,t],[n,r]){const i=ri(e,n);return 0===i?ri(t,r):i}class cl{constructor(e){this.en=e,this.buffer=new wo(al),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();al(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ll{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const n=this.on?3e5:6e4;Mr("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,_.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Xa(e)?Mr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield sl(e)}yield t.un(e)}))}}class ul{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Wa.resolve(ei.A);const n=new cl(t);return this.an.forEachTarget(e,e=>n.rn(e.sequenceNumber)).next(()=>this.an.ln(e,e=>n.rn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.an.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector","Garbage collection skipped; disabled"),Wa.resolve(Hc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hc):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Mr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),Nr()<=C.in.DEBUG&&Mr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),Wa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class hl{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new ul(e,t)}(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}dn(e){let t=0;return this.ln(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(e,n)=>t(n))}addReference(e,t,n){return dl(e,n)}removeReference(e,t,n){return dl(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return dl(e,t)}wn(e,t){return function(e,t){let n=!1;return Xc(e).Wt(r=>Kc(e,r,t).next(e=>(e&&(n=!0),Wa.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._n(e,(s,o)=>{if(o<=t){const t=this.wn(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,ai.min()),il(e).delete([0,_a(s.path)])))});r.push(t)}}).next(()=>Wa.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return dl(e,t)}_n(e,t){const n=il(e);let r,i=ei.A;return n.Qt({index:Ra.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==ei.A&&t(new Ii(Ca(r)),i),i=o,r=s):i=ei.A}).next(()=>{i!==ei.A&&t(new Ii(Ca(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dl(e,t){return il(e).put(function(e,t){return new Ra(0,_a(e.path),t)}(t,e.currentSequenceNumber))}class pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){li(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ui(this.inner)}}class fl{constructor(){this.changes=new pl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ml{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vl(e).put(_l(t),n)}removeEntry(e,t){const n=vl(e),r=_l(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.mn(e,n)))}getEntry(e,t){return vl(e).get(_l(t)).next(e=>this.gn(t,e))}yn(e,t){return vl(e).get(_l(t)).next(e=>({document:this.gn(t,e),size:Wc(e)}))}getEntries(e,t){let n=To();return this.pn(e,t,(e,t)=>{const r=this.gn(e,t);n=n.insert(e,r)}).next(()=>n)}In(e,t){let n=To(),r=new vo(Ii.comparator);return this.pn(e,t,(e,t)=>{const i=this.gn(e,t);n=n.insert(e,i),r=r.insert(e,Wc(t))}).next(()=>({documents:n,En:r}))}pn(e,t,n){if(t.isEmpty())return Wa.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return vl(e).Qt({range:r},(e,t,r)=>{const o=Ii.fromSegments(e);for(;s&&Ii.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Ut(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getAll(e,t,n){let r=To();const i=t.length+1,s={};if(n.isEqual(ai.min())){const e=t.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.toArray(),r=pc(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Oa.collectionReadTimeIndex}return vl(e).Qt(s,(e,n,s)=>{if(e.length!==i)return;const o=this.gn(Ii.fromSegments(e),n);t.isPrefixOf(o.key.path)?r=r.insert(o.key,o):s.done()}).next(()=>r)}newChangeBuffer(e){return new gl(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return yl(e).get(Pa.key).next(e=>(jr(!!e),e))}mn(e,t){return yl(e).put(Pa.key,t)}gn(e,t){if(t){const e=hc(this.O,t);if(!e.isNoDocument()||!e.version.isEqual(ai.min()))return e}return $i.newInvalidDocument(e)}}class gl extends fl{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new pl(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new wo((e,t)=>ri(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.An.get(i);if(s.isValidDocument()){const a=dc(this.Tn.O,s);r=r.add(i.path.popLast());const c=Wc(a);n+=c-o,t.push(this.Tn.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=dc(this.Tn.O,s.convertToNoDocument(ai.min()));t.push(this.Tn.addEntry(e,i,n))}else t.push(this.Tn.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Tn.updateMetadata(e,n)),Wa.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(e=>(this.An.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:e,En:t})=>(t.forEach((e,t)=>{this.An.set(e,t)}),e))}}function yl(e){return sc(e,Pa.store)}function vl(e){return sc(e,Oa.store)}function _l(e){return e.path.toArray()}class bl{constructor(e){this.O=e}kt(e,t,n,r){const i=new Ya("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(xa.store)}(e),function(e){e.createObjectStore(Ta.store,{keyPath:Ta.keyPath}),e.createObjectStore(Ea.store,{keyPath:Ea.keyPath,autoIncrement:!0}).createIndex(Ea.userMutationsIndex,Ea.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ka.store)}(e),wl(e),function(e){e.createObjectStore(Oa.store)}(e));let s=Wa.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ra.store),e.deleteObjectStore(Da.store),e.deleteObjectStore(Fa.store)}(e),wl(e)),s=s.next(()=>function(e){const t=e.store(Fa.store),n=new Fa(0,0,ai.min().toTimestamp(),0);return t.put(Fa.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Ea.store).qt().next(n=>{e.deleteObjectStore(Ea.store),e.createObjectStore(Ea.store,{keyPath:Ea.keyPath,autoIncrement:!0}).createIndex(Ea.userMutationsIndex,Ea.userMutationsKeyPath,{unique:!0});const r=t.store(Ea.store),i=n.map(e=>r.put(e));return Wa.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Ma.store,{keyPath:Ma.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Rn(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Pa.store)}(e),this.Pn(i)))),n<7&&r>=7&&(s=s.next(()=>this.bn(i))),n<8&&r>=8&&(s=s.next(()=>this.vn(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Oa.store);t.createIndex(Oa.readTimeIndex,Oa.readTimeIndexPath,{unique:!1}),t.createIndex(Oa.collectionReadTimeIndex,Oa.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.Vn(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(La.store,{keyPath:La.keyPath})}(e),function(e){e.createObjectStore(Za.store,{keyPath:Za.keyPath})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore(Ba.store,{keyPath:Ba.keyPath});t.createIndex(Ba.collectionPathOverlayIndex,Ba.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Ba.collectionGroupOverlayIndex,Ba.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>{!function(e){e.createObjectStore(Ua.store,{keyPath:Ua.keyPath,autoIncrement:!0}).createIndex(Ua.collectionGroupIndex,Ua.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(qa.store,{keyPath:qa.keyPath}).createIndex(qa.sequenceNumberIndex,qa.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(ja.store,{keyPath:ja.keyPath}).createIndex(ja.documentKeyIndex,ja.documentKeyIndexPath,{unique:!1})}(e)})),s}Pn(e){let t=0;return e.store(Oa.store).Qt((e,n)=>{t+=Wc(n)}).next(()=>{const n=new Pa(t);return e.store(Pa.store).put(Pa.key,n)})}Rn(e){const t=e.store(Ta.store),n=e.store(Ea.store);return t.qt().next(t=>Wa.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt(Ea.userMutationsIndex,r).next(n=>Wa.forEach(n,n=>{jr(n.userId===t.userId);const r=yc(this.O,n);return $c(e,t.userId,r).next(()=>{})}))}))}bn(e){const t=e.store(Ra.store),n=e.store(Oa.store);return e.store(Fa.store).get(Fa.key).next(e=>{const r=[];return n.Qt((n,i)=>{const s=new di(n),o=function(e){return[0,_a(e)]}(s);r.push(t.get(o).next(n=>n?Wa.resolve():(n=>t.put(new Ra(0,_a(n),e.highestListenSequenceNumber)))(s)))}).next(()=>Wa.waitFor(r))})}vn(e,t){e.createObjectStore(Na.store,{keyPath:Na.keyPath});const n=t.store(Na.store),r=new Uc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:_a(r)})}};return t.store(Oa.store).Qt({jt:!0},(e,t)=>{const n=new di(e);return i(n.popLast())}).next(()=>t.store(ka.store).Qt({jt:!0},([e,t,n],r)=>{const s=Ca(t);return i(s.popLast())}))}Vn(e){const t=e.store(Da.store);return t.Qt((e,n)=>{const r=vc(n),i=_c(this.O,r);return t.put(i)})}}function wl(e){e.createObjectStore(Ra.store,{keyPath:Ra.keyPath}).createIndex(Ra.documentTargetsIndex,Ra.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Da.store,{keyPath:Da.keyPath}).createIndex(Da.queryTargetsIndexName,Da.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fa.store)}const Cl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sl{constructor(e,t,n,r,i,s,o,a,c,l,u=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Sn=i,this.window=s,this.document=o,this.Dn=c,this.Cn=l,this.schemaVersion=u,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=e=>Promise.resolve(),!Sl.Vt())throw new zr(Vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hl(this,r),this.Bn=t+"main",this.O=new uc(a),this.Ln=new Ka(this.Bn,this.schemaVersion,new bl(this.O)),this.Un=new tl(this.referenceDelegate,this.O),this.qn=function(e){return new ml(e)}(this.O),this.Kn=new Sc,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zr(Vr.FAILED_PRECONDITION,Cl);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new ei(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var n=(0,_.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,_.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,_.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tl(e).put(new Ma(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(e=>{e||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Xa(e))return Mr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return xl(e).get(xa.key).next(e=>Wa.resolve(this.ts(e)))}es(e){return Tl(e).delete(this.clientId)}ns(){var e=this;return(0,_.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=sc(t,Ma.store);return n.qt().next(t=>{const r=e.rs(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return Wa.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Gn)for(const n of t)e.Gn.removeItem(e.os(n.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Wa.resolve(!0):xl(e).get(xa.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new zr(Vr.FAILED_PRECONDITION,Cl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tl(e).qt().next(e=>void 0===this.rs(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Mr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,_.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[xa.store,Ma.store],t=>{const n=new ic(t,ei.A);return e.Xn(n).next(()=>e.es(n))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(e=>this.ss(e.updateTimeMs,t)&&!this.cs(e.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>Tl(e).qt().next(e=>this.rs(e,18e5).map(e=>e.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return Yc.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new qc(e)}getDocumentOverlayCache(e){return Ec.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,n){Mr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=13===(s=this.schemaVersion)?Ha:12===s?za:11===s?Va:void qr();var s;let o;return this.Ln.runTransaction(e,r,i,r=>(o=new ic(r,this.Nn?this.Nn.next():ei.A),"readwrite-primary"===t?this.Jn(o).next(e=>!!e||this.Yn(o)).next(t=>{if(!t)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new zr(Vr.FAILED_PRECONDITION,Ga);return n(o)}).next(e=>this.Zn(o).next(()=>e)):this._s(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}_s(e){return xl(e).get(xa.key).next(e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)&&!this.ts(e)&&!(this.Cn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new zr(Vr.FAILED_PRECONDITION,Cl)})}Zn(e){const t=new xa(this.clientId,this.allowTabSynchronization,Date.now());return xl(e).put(xa.key,t)}static Vt(){return Ka.Vt()}Xn(e){const t=xl(e);return t.get(xa.key).next(e=>this.ts(e)?(Mr("IndexedDbPersistence","Releasing primary lease."),t.delete(xa.key)):Wa.resolve())}ss(e,t){const n=Date.now();return!(e<n-t||e>n&&(Lr(`Detected an update time that is in the future: ${e} > ${n}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,S.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Mr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Lr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(L){Lr("Failed to set zombie client id.",L)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(L){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xl(e){return sc(e,xa.store)}function Tl(e){return sc(e,Ma.store)}function El(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class kl{constructor(e,t){this.progress=e,this.ws=t}}class Al{constructor(e,t,n){this.qn=e,this.gs=t,this.indexManager=n}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.ps(e,t,n))}ps(e,t,n){return this.qn.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Is(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Es(e,t){return this.qn.getEntries(e,t).next(t=>this.Ts(e,t).next(()=>t))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Is(t,e))}As(e,t,n){return function(e){return Ii.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):xs(t)?this.Ps(e,t,n):this.bs(e,t,n)}Rs(e,t){return this.ys(e,new Ii(t)).next(e=>{let t=ko();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Ps(e,t,n){const r=t.collectionGroup;let i=ko();return this.indexManager.getCollectionParents(e,r).next(s=>Wa.forEach(s,s=>{const o=function(e,t){return new ys(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.bs(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}bs(e,t,n){let r;return this.qn.getAll(e,t.path,n).next(n=>(r=n,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=$i.newInvalidDocument(n),r=r.insert(n,i)),to(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}).next(()=>(r.forEach((e,n)=>{Ps(t,n)||(r=r.remove(e))}),r))}}class Il{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.vs=n,this.Vs=r}static Ss(e,t){let n=Oo(),r=Oo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Il(e,t.fromCache,n,r)}}class Ol{Ds(e){this.Cs=e}As(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ai.min())?this.Ns(e,t):this.Cs.Es(e,r).next(i=>{const s=this.xs(t,i);return(bs(t)||ws(t))&&this.ks(t.limitType,s,r,n)?this.Ns(e,t):(Nr()<=C.in.DEBUG&&Mr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Os(t)),this.Cs.As(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}xs(e,t){let n=new wo(Ds(e));return t.forEach((t,r)=>{Ps(e,r)&&(n=n.add(r))}),n}ks(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ns(e,t){return Nr()<=C.in.DEBUG&&Mr("QueryEngine","Using full collection scan to execute query:",Os(t)),this.Cs.As(e,t,ai.min())}}class Pl{constructor(e,t,n,r){this.persistence=e,this.Os=t,this.O=r,this.Ms=new vo(ri),this.$s=new pl(e=>es(e),ts),this.Fs=ai.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(n)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Al(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Dl(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,_.Z)(function*(e,t){const n=Br(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.gs.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.gs.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Oo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.Us.Es(e,o).next(e=>({qs:e,removedBatchIds:i,addedBatchIds:s}))})})})).apply(this,arguments)}function Nl(e,t){const n=Br(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Wa.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);jr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.gs.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.gs.performConsistencyCheck(e)).next(()=>n.Us.Es(e,r))})}function Ml(e){const t=Br(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Un.getLastRemoteSnapshotVersion(e))}function Ll(e,t){const n=Br(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Un.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Un.addMatchingKeys(e,s.addedDocuments,a)));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?l=l.withResumeToken(gi.EMPTY_BYTE_STRING,ai.min()).withLastLimboFreeSnapshotVersion(ai.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.Un.updateTargetData(e,l))});let a=To();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Zl(e,s,t.documentUpdates).next(e=>{a=e})),!r.isEqual(ai.min())){const t=n.Un.getLastRemoteSnapshotVersion(e).next(t=>n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Wa.waitFor(o).next(()=>s.apply(e)).next(()=>n.Us.Ts(e,a)).next(()=>a)}).then(e=>(n.Ms=i,e))}function Zl(e,t,n){let r=Oo();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=To();return n.forEach((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(ai.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Mr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),r})}function Ul(e,t){const n=Br(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)))}function ql(e,t){const n=Br(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Un.getTargetData(e,t).next(i=>i?(r=i,Wa.resolve(r)):n.Un.allocateTargetId(e).next(i=>(r=new lc(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e})}function jl(e,t,n){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,_.Z)(function*(e,t,n){const r=Br(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xa(e))throw e;Mr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.$s.delete(i.target)})).apply(this,arguments)}function Vl(e,t,n){const r=Br(e);let i=ai.min(),s=Oo();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Br(e),i=r.$s.get(n);return void 0!==i?Wa.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Es(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Os.As(e,t,n?i:ai.min(),n?s:Oo())).next(e=>({documents:e,Ks:s})))}function zl(e,t){const n=Br(e),r=Br(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function Hl(e){const t=Br(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Br(e);let i=To(),s=pc(n);const o=vl(t),a=IDBKeyRange.lowerBound(s,!0);return o.Qt({index:Oa.readTimeIndex,range:a},(e,t)=>{const n=hc(r.O,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({ws:i,readTime:fc(s)}))}(t.Bs,e,t.Fs)).then(({ws:e,readTime:n})=>(t.Fs=n,e))}function Gl(){return(Gl=(0,_.Z)(function*(e){const t=Br(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=vl(e);let n=ai.min();return t.Qt({index:Oa.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=fc(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Fs=e})})).apply(this,arguments)}function $l(){return($l=(0,_.Z)(function*(e,t,n,r){const i=Br(e);let s=Oo(),o=To();for(const l of n){const e=t.Gs(l.metadata.name);l.document&&(s=s.add(e));const n=t.js(l);n.setReadTime(t.Qs(l.metadata.readTime)),o=o.insert(e,n)}const a=i.Bs.newChangeBuffer({trackRemovals:!0}),c=yield ql(i,function(e){return Es(_s(di.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Zl(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.Un.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.Un.addMatchingKeys(e,s,c.targetId)).next(()=>i.Us.Ts(e,t)).next(()=>t)))})).apply(this,arguments)}function Wl(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,_.Z)(function*(e,t,n=Oo()){const r=yield ql(e,Es(bc(t.bundledQuery))),i=Br(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Wo(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kn.saveNamedQuery(e,t);const o=r.withResumeToken(gi.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Un.updateTargetData(e,o).next(()=>i.Un.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Un.addMatchingKeys(e,n,r.targetId)).next(()=>i.Kn.saveNamedQuery(e,t))})})).apply(this,arguments)}class Kl{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Wa.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Wo(n.createTime)}),Wa.resolve()}getNamedQuery(e,t){return Wa.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:bc(e.bundledQuery),readTime:Wo(e.readTime)}}(t)),Wa.resolve()}}class Ql{constructor(){this.overlays=new vo(Ii.comparator),this.Hs=new Map}getOverlay(e,t){return Wa.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(n=>{this.Yt(e,t,n)}),Wa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Hs.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Hs.delete(n)),Wa.resolve()}getOverlaysForCollection(e,t,n){const r=new Map,i=t.length+1,s=new Ii(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vo((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=new Map,i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=new Map,a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(t,e)),!(o.size>=r)););return Wa.resolve(o)}Yt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new cc(t,n));let i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}class Jl{constructor(){this.Js=new wo(Xl.Ys),this.Xs=new wo(Xl.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const n=new Xl(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}ti(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ei(new Xl(e,t))}ni(e,t){e.forEach(e=>this.removeReference(e,t))}si(e){const t=new Ii(new di([])),n=new Xl(t,e),r=new Xl(t,e+1),i=[];return this.Xs.forEachInRange([n,r],e=>{this.ei(e),i.push(e.key)}),i}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Ii(new di([])),n=new Xl(t,e),r=new Xl(t,e+1);let i=Oo();return this.Xs.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Xl(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xl{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Ii.comparator(e.key,t.key)||ri(e.oi,t.oi)}static Zs(e,t){return ri(e.oi,t.oi)||Ii.comparator(e.key,t.key)}}class eu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new wo(Xl.Ys)}checkEmpty(e){return Wa.resolve(0===this.gs.length)}addMutationBatch(e,t,n,r){const i=this.ci;this.ci++;const s=new oc(i,t,n,r);this.gs.push(s);for(const o of r)this.ui=this.ui.add(new Xl(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Wa.resolve(s)}lookupMutationBatch(e,t){return Wa.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.hi(t+1),r=n<0?0:n;return Wa.resolve(this.gs.length>r?this.gs[r]:null)}getHighestUnacknowledgedBatchId(){return Wa.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Wa.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xl(t,0),r=new Xl(t,Number.POSITIVE_INFINITY),i=[];return this.ui.forEachInRange([n,r],e=>{const t=this.ai(e.oi);i.push(t)}),Wa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wo(ri);return t.forEach(e=>{const t=new Xl(e,0),r=new Xl(e,Number.POSITIVE_INFINITY);this.ui.forEachInRange([t,r],e=>{n=n.add(e.oi)})}),Wa.resolve(this.li(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ii.isDocumentKey(i)||(i=i.child(""));const s=new Xl(new Ii(i),0);let o=new wo(ri);return this.ui.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)},s),Wa.resolve(this.li(o))}li(e){const t=[];return e.forEach(e=>{const n=this.ai(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){jr(0===this.fi(t.batchId,"removed")),this.gs.shift();let n=this.ui;return Wa.forEach(t.mutations,r=>{const i=new Xl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ui=n})}Qe(e){}containsKey(e,t){const n=new Xl(t,0),r=this.ui.firstAfterOrEqual(n);return Wa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Wa.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class tu{constructor(e){this.di=e,this.docs=new vo(Ii.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wa.resolve(n?n.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let n=To();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$i.newInvalidDocument(e))}),Wa.resolve(n)}getAll(e,t,n){let r=To();const i=new Ii(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||i.readTime.compareTo(n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Wa.resolve(r)}_i(e,t){return Wa.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new nu(this)}getSize(e){return Wa.resolve(this.size)}}class nu extends fl{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Tn.addEntry(e,r)):this.Tn.removeEntry(n)}),Wa.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class ru{constructor(e){this.persistence=e,this.wi=new pl(e=>es(e),ts),this.lastRemoteSnapshotVersion=ai.min(),this.highestTargetId=0,this.mi=0,this.gi=new Jl,this.targetCount=0,this.yi=el.He()}forEachTarget(e,t){return this.wi.forEach((e,n)=>t(n)),Wa.resolve()}getLastRemoteSnapshotVersion(e){return Wa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wa.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Wa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Wa.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new el(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Wa.resolve()}updateTargetData(e,t){return this.Ze(t),Wa.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Wa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.wi.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.wi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Wa.waitFor(i).next(()=>r)}getTargetCount(e){return Wa.resolve(this.targetCount)}getTargetData(e,t){const n=this.wi.get(t)||null;return Wa.resolve(n)}addMatchingKeys(e,t,n){return this.gi.ti(t,n),Wa.resolve()}removeMatchingKeys(e,t,n){this.gi.ni(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Wa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.gi.ri(t);return Wa.resolve(n)}containsKey(e,t){return Wa.resolve(this.gi.containsKey(t))}}class iu{constructor(e,t){this.pi={},this.overlays={},this.Nn=new ei(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new ru(this),this.indexManager=new Zc,this.qn=function(e){return new tu(e)}(e=>this.referenceDelegate.Ii(e)),this.O=new uc(t),this.Kn=new Kl(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ql,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.pi[e.toKey()];return n||(n=new eu(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,n){Mr("MemoryPersistence","Starting transaction:",e);const r=new su(this.Nn.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.Ti(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Wa.or(Object.values(this.pi).map(n=>()=>n.containsKey(e,t)))}}class su extends $a{constructor(e){super(),this.currentSequenceNumber=e}}class ou{constructor(e){this.persistence=e,this.Ri=new Jl,this.Pi=null}static bi(e){return new ou(e)}get vi(){if(this.Pi)return this.Pi;throw qr()}addReference(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Wa.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Wa.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Wa.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(e=>this.vi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.vi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wa.forEach(this.vi,n=>{const r=Ii.fromPath(n);return this.Vi(e,r).next(e=>{e||t.removeEntry(r,ai.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(e=>{e?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Wa.or([()=>Wa.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function au(e,t){return`firestore_clients_${e}_${t}`}function cu(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function lu(e,t){return`firestore_targets_${e}_${t}`}class uu{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Si(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new zr(r.error.code,r.error.message))),s?new uu(e,t,r.state,i):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hu{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Si(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new zr(n.error.code,n.error.message))),i?new hu(e,n.state,r):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class du{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Do();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ai(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new du(e,i):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pu{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pu(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fu{constructor(){this.activeTargetIds=Do()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mu{constructor(e,t,n,r,i){this.window=e,this.Sn=t,this.persistenceKey=n,this.xi=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new vo(ri),this.started=!1,this.$i=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Fi=au(this.persistenceKey,this.xi),this.Bi=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new fu),this.Li=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Ki=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Gi=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_.Z)(function*(){const t=yield e.syncEngine.ds();for(const r of t){if(r===e.xi)continue;const t=e.getItem(au(e.persistenceKey,r));if(t){const n=du.Si(r,t);n&&(e.Mi=e.Mi.insert(n.clientId,n))}}e.ji();const n=e.storage.getItem(e.Ki);if(n){const t=e.Qi(n);t&&e.Wi(t)}for(const r of e.$i)e.Oi(r);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,n){this.Hi(e,t,n),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(lu(this.persistenceKey,e));if(n){const r=hu.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lu(this.persistenceKey,e))}updateQueryState(e,t,n){this.Xi(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Ji(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mr("SharedClientState","READ",e,t),t}setItem(e,t){Mr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Mr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,_.Z)(function*(){if(t.started){if(null!==n.key)if(t.Li.test(n.key)){if(null==n.newValue){const e=t.er(n.key);return t.nr(e,null)}{const e=t.sr(n.key,n.newValue);if(e)return t.nr(e.clientId,e)}}else if(t.Ui.test(n.key)){if(null!==n.newValue){const e=t.ir(n.key,n.newValue);if(e)return t.rr(e)}}else if(t.qi.test(n.key)){if(null!==n.newValue){const e=t.cr(n.key,n.newValue);if(e)return t.ur(e)}}else if(n.key===t.Ki){if(null!==n.newValue){const e=t.Qi(n.newValue);if(e)return t.Wi(e)}}else if(n.key===t.Bi){const e=function(e){let t=ei.A;if(null!=e)try{const n=JSON.parse(e);jr("number"==typeof n),t=n}catch(e){Lr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==ei.A&&t.sequenceNumberHandler(e)}else if(n.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(n)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,n){const r=new uu(this.currentUser,e,t,n),i=cu(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}Ji(e){const t=cu(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,n){const r=lu(this.persistenceKey,e),i=new hu(e,t,n);this.setItem(r,i.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const n=this.er(e);return du.Si(n,t)}ir(e,t){const n=this.Ui.exec(e),r=Number(n[1]);return uu.Si(new Dr(void 0!==n[2]?n[2]:null),r,t)}cr(e,t){const n=this.qi.exec(e),r=Number(n[1]);return hu.Si(r,t)}Qi(e){return pu.Si(e)}rr(e){var t=this;return(0,_.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);Mr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const n=t?this.Mi.insert(e,t):this.Mi.remove(e),r=this.zi(this.Mi),i=this.zi(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.dr(s,o).then(()=>{this.Mi=n})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Do();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class gu{constructor(){this._r=new fu,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,n){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new fu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class yu{mr(e){}shutdown(){}}class vu{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Mr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Mr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bu{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class wu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,n,r,i){const s=this.$r(e,t);Mr("RestConnection","Sending: ",s,n);const o={};return this.Fr(o,r,i),this.Br(e,s,o,n).then(e=>(Mr("RestConnection","Received: ",e),e),t=>{throw Zr("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}Lr(e,t,n,r,i){return this.Mr(e,t,n,r,i)}Fr(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}$r(e,t){return`${this.kr}/v1/${t}:${_u[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,n,r){return new Promise((i,s)=>{const o=new Or;o.listenOnce(Tr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case xr.NO_ERROR:const t=o.getResponseJson();Mr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xr.TIMEOUT:Mr("Connection",'RPC "'+e+'" timed out'),s(new zr(Vr.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:const n=o.getStatus();if(Mr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vr).indexOf(t)>=0?t:Vr.UNKNOWN}(e.status);s(new zr(t,e.message))}else s(new zr(Vr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new zr(Vr.UNAVAILABLE,"Connection failed."));break;default:qr()}}finally{Mr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Ur(e,t,n){const r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Cr(),s=Sr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ar({})),this.Fr(o.initMessageHeaders,t,n),(0,S.uI)()||(0,S.b$)()||(0,S.d)()||(0,S.w1)()||(0,S.Mn)()||(0,S.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Mr("Connection","Creating WebChannel: "+a,o);const c=i.createWebChannel(a,o);let l=!1,u=!1;const h=new bu({Ar:e=>{u?Mr("Connection","Not sending because WebChannel is closed:",e):(l||(Mr("Connection","Opening WebChannel transport."),c.open(),l=!0),Mr("Connection","WebChannel sending:",e),c.send(e))},Rr:()=>c.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(c,Ir.EventType.OPEN,()=>{u||Mr("Connection","WebChannel transport opened.")}),d(c,Ir.EventType.CLOSE,()=>{u||(u=!0,Mr("Connection","WebChannel transport closed"),h.Cr())}),d(c,Ir.EventType.ERROR,e=>{u||(u=!0,Zr("Connection","WebChannel transport errored:",e),h.Cr(new zr(Vr.UNAVAILABLE,"The operation could not be completed")))}),d(c,Ir.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];jr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Mr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=fo[e];if(void 0!==t)return yo(t)}(e),n=i.message;void 0===t&&(t=Vr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.Cr(new zr(t,n)),c.close()}else Mr("Connection","WebChannel received:",n),h.Nr(n)}}),d(s,Er.STAT_EVENT,e=>{e.stat===kr.PROXY?Mr("Connection","Detected buffering proxy"):e.stat===kr.NOPROXY&&Mr("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function Cu(){return"undefined"!=typeof window?window:null}function Su(){return"undefined"!=typeof document?document:null}function xu(e){return new zo(e,!0)}class Tu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Sn=e,this.timerId=t,this.qr=n,this.Kr=r,this.Gr=i,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),n=Math.max(0,Date.now()-this.Wr),r=Math.max(0,t-n);r>0&&Mr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,r,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Eu{constructor(e,t,n,r,i,s,o,a){this.Sn=e,this.Xr=n,this.Zr=r,this.eo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Tu(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,_.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,_.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var n=this;return(0,_.Z)(function*(){n._o(),n.wo(),n.ro.cancel(),n.no++,4!==e?n.ro.reset():t&&t.code===Vr.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),n.ro.zr()):t&&t.code===Vr.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.mo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.no===t&&this.po(e,n)},t=>{e(()=>{const e=new zr(Vr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Io(e)})})}po(e,t){const n=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{n(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(e=>{n(()=>this.Io(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}uo(){var e=this;this.state=5,this.ro.Hr((0,_.Z)(function*(){e.state=0,e.start()}))}Io(e){return Mr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Mr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ku extends Eu{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.O=i}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(jr(void 0===t||"string"==typeof t),gi.fromBase64String(t||"")):(jr(void 0===t||t instanceof Uint8Array),gi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Vr.UNKNOWN:yo(e.code);return new zr(t,e.message||"")}(o);n=new Lo(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Jo(e,r.document.name),s=Wo(r.document.updateTime),o=new Hi({mapValue:{fields:r.document.fields}}),a=$i.newFoundDocument(i,s,o);n=new No(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Jo(e,r.document),s=r.readTime?Wo(r.readTime):ai.min(),o=$i.newNoDocument(i,s);n=new No([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Jo(e,r.document);n=new No([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return qr();{const e=t.filter,r=new po(e.count||0);n=new Mo(e.targetId,r)}}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return ai.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ai.min():t.readTime?Wo(t.readTime):ai.min()}(e);return this.listener.To(t,n)}Ao(e){const t={};t.database=ta(this.O),t.addTarget=function(e,t){let n;const r=t.target;return n=ns(r)?{documents:aa(e,r)}:{query:ca(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Go(e,t.resumeToken):t.snapshotVersion.compareTo(ai.min())>0&&(n.readTime=Ho(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.fo(t)}Ro(e){const t={};t.database=ta(this.O),t.removeTarget=e,this.fo(t)}}class Au extends Eu{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.O=i,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(jr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function(e,t){return e&&e.length>0?(jr(void 0!==t),e.map(e=>function(e,t){let n=Wo(e.updateTime?e.updateTime:t);return n.isEqual(ai.min())&&(n=Wo(t)),new Ks(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Wo(e.commitTime);return this.listener.Vo(n,t)}return jr(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=ta(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>sa(this.O,e))};this.fo(t)}}class Iu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=n,this.O=r,this.Co=!1}No(){if(this.Co)throw new zr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.eo.Mr(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zr(Vr.UNKNOWN,e.toString())})}Lr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.eo.Lr(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zr(Vr.UNKNOWN,e.toString())})}terminate(){this.Co=!0}}class Ou{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Lr(t),this.Oo=!1):Mr("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Pu{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=i,this.jo.mr(e=>{n.enqueueAndForget((0,_.Z)(function*(){var e;Bu(s)&&(Mr("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,_.Z)(function*(e){const t=Br(e);t.Ko.add(4),yield Fu(t),t.Qo.set("Unknown"),t.Ko.delete(4),yield Du(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Qo=new Ou(n,r)}}function Du(e){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,_.Z)(function*(e){if(Bu(e))for(const t of e.Go)yield t(!0)})).apply(this,arguments)}function Fu(e){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,_.Z)(function*(e){for(const t of e.Go)yield t(!1)})).apply(this,arguments)}function Mu(e,t){const n=Br(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),ju(n)?qu(n):yh(n).co()&&Zu(n,t))}function Lu(e,t){const n=Br(e),r=yh(n);n.qo.delete(t),r.co()&&Uu(n,t),0===n.qo.size&&(r.co()?r.ho():Bu(n)&&n.Qo.set("Unknown"))}function Zu(e,t){e.Wo.Z(t.targetId),yh(e).Ao(t)}function Uu(e,t){e.Wo.Z(t),yh(e).Ro(t)}function qu(e){e.Wo=new Uo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qo.get(t)||null}),yh(e).start(),e.Qo.Mo()}function ju(e){return Bu(e)&&!yh(e).oo()&&e.qo.size>0}function Bu(e){return 0===Br(e).Ko.size}function Vu(e){e.Wo=void 0}function zu(e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,_.Z)(function*(e){e.qo.forEach((t,n)=>{Zu(e,t)})})).apply(this,arguments)}function Gu(e,t){return $u.apply(this,arguments)}function $u(){return($u=(0,_.Z)(function*(e,t){Vu(e),ju(e)?(e.Qo.Bo(t),qu(e)):e.Qo.set("Unknown")})).apply(this,arguments)}function Wu(e,t,n){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,_.Z)(function*(e,t,n){if(e.Qo.set("Online"),t instanceof Lo&&2===t.state&&t.cause)try{yield(r=(0,_.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qo.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qo.delete(r),e.Wo.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){Mr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Ku(e,n)}else if(t instanceof No?e.Wo.ct(t):t instanceof Mo?e.Wo._t(t):e.Wo.ht(t),!n.isEqual(ai.min()))try{const t=yield Ml(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Wo.yt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qo.get(t);if(!n)return;e.qo.set(t,n.withResumeToken(gi.EMPTY_BYTE_STRING,n.snapshotVersion)),Uu(e,t);const r=new lc(n.target,t,1,n.sequenceNumber);Zu(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){Mr("RemoteStore","Failed to raise snapshot:",t),yield Ku(e,t)}var r})).apply(this,arguments)}function Ku(e,t,n){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,_.Z)(function*(e,t,n){if(!Xa(t))throw t;e.Ko.add(1),yield Fu(e),e.Qo.set("Offline"),n||(n=()=>Ml(e.localStore)),e.asyncQueue.enqueueRetryable((0,_.Z)(function*(){Mr("RemoteStore","Retrying IndexedDB access"),yield n(),e.Ko.delete(1),yield Du(e)}))})).apply(this,arguments)}function Ju(e,t){return t().catch(n=>Ku(e,n,t))}function Xu(e){return eh.apply(this,arguments)}function eh(){return(eh=(0,_.Z)(function*(e){const t=Br(e),n=vh(t);let r=t.Uo.length>0?t.Uo[t.Uo.length-1].batchId:-1;for(;th(t);)try{const e=yield Ul(t.localStore,r);if(null===e){0===t.Uo.length&&n.ho();break}r=e.batchId,nh(t,e)}catch(e){yield Ku(t,e)}rh(t)&&ih(t)})).apply(this,arguments)}function th(e){return Bu(e)&&e.Uo.length<10}function nh(e,t){e.Uo.push(t);const n=vh(e);n.co()&&n.bo&&n.vo(t.mutations)}function rh(e){return Bu(e)&&!vh(e).oo()&&e.Uo.length>0}function ih(e){vh(e).start()}function sh(e){return oh.apply(this,arguments)}function oh(){return(oh=(0,_.Z)(function*(e){vh(e).Do()})).apply(this,arguments)}function ah(e){return ch.apply(this,arguments)}function ch(){return(ch=(0,_.Z)(function*(e){const t=vh(e);for(const n of e.Uo)t.vo(n.mutations)})).apply(this,arguments)}function lh(e,t,n){return uh.apply(this,arguments)}function uh(){return(uh=(0,_.Z)(function*(e,t,n){const r=e.Uo.shift(),i=ac.from(r,t,n);yield Ju(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Xu(e)})).apply(this,arguments)}function hh(e,t){return dh.apply(this,arguments)}function dh(){return(dh=(0,_.Z)(function*(e,t){var n;t&&vh(e).bo&&(yield(n=(0,_.Z)(function*(e,t){if(go(n=t.code)&&n!==Vr.ABORTED){const n=e.Uo.shift();vh(e).ao(),yield Ju(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Xu(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),rh(e)&&ih(e)})).apply(this,arguments)}function ph(e,t){return fh.apply(this,arguments)}function fh(){return(fh=(0,_.Z)(function*(e,t){const n=Br(e);n.asyncQueue.verifyOperationInProgress(),Mr("RemoteStore","RemoteStore received new credentials");const r=Bu(n);n.Ko.add(3),yield Fu(n),r&&n.Qo.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Ko.delete(3),yield Du(n)})).apply(this,arguments)}function mh(e,t){return gh.apply(this,arguments)}function gh(){return(gh=(0,_.Z)(function*(e,t){const n=Br(e);t?(n.Ko.delete(2),yield Du(n)):t||(n.Ko.add(2),yield Fu(n),n.Qo.set("Unknown"))})).apply(this,arguments)}function yh(e){return e.zo||(e.zo=function(e,t,n){const r=Br(e);return r.No(),new ku(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:zu.bind(null,e),vr:Gu.bind(null,e),To:Wu.bind(null,e)}),e.Go.push(function(){var t=(0,_.Z)(function*(t){t?(e.zo.ao(),ju(e)?qu(e):e.Qo.set("Unknown")):(yield e.zo.stop(),Vu(e))});return function(e){return t.apply(this,arguments)}}())),e.zo}function vh(e){return e.Ho||(e.Ho=function(e,t,n){const r=Br(e);return r.No(),new Au(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:sh.bind(null,e),vr:hh.bind(null,e),So:ah.bind(null,e),Vo:lh.bind(null,e)}),e.Go.push(function(){var t=(0,_.Z)(function*(t){t?(e.Ho.ao(),yield Xu(e)):(yield e.Ho.stop(),e.Uo.length>0&&(Mr("RemoteStore",`Stopping write stream with ${e.Uo.length} pending writes`),e.Uo=[]))});return function(e){return t.apply(this,arguments)}}())),e.Ho}class _h{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new _h(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zr(Vr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bh(e,t){if(Lr("AsyncQueue",`${t}: ${e}`),Xa(e))return new zr(Vr.UNAVAILABLE,`${t}: ${e}`);throw e}class wh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ii.comparator(t.key,n.key):(e,t)=>Ii.comparator(e.key,t.key),this.keyedMap=ko(),this.sortedSet=new vo(this.comparator)}static emptySet(e){return new wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ch{constructor(){this.Jo=new vo(Ii.comparator)}track(e){const t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):qr():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,n)=>{e.push(n)}),e}}class Sh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Sh(e,t,wh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&As(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xh{constructor(){this.Xo=void 0,this.listeners=[]}}class Th{constructor(){this.queries=new pl(e=>Is(e),As),this.onlineState="Unknown",this.Zo=new Set}}function Eh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=(0,_.Z)(function*(e,t){const n=Br(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xh),i)try{s.Xo=yield n.onListen(r)}catch(e){const n=bh(e,`Initialization of query '${Os(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.tc(n.onlineState),s.Xo&&t.ec(s.Xo)&&Dh(n)})).apply(this,arguments)}function Ah(e,t){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,_.Z)(function*(e,t){const n=Br(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Oh(e,t){const n=Br(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.ec(i)&&(r=!0);e.Xo=i}}r&&Dh(n)}function Ph(e,t,n){const r=Br(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Dh(e){e.Zo.forEach(e=>{e.next()})}class Rh{constructor(e,t,n){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=n||{}}ec(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Fh{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class Nh{constructor(e){this.O=e}Gs(e){return Jo(this.O,e)}js(e){return e.metadata.exists?ia(this.O,e.document,!1):$i.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Wo(e)}}class Mh{constructor(e,t,n){this.hc=e,this.localStore=t,this.O=n,this.queries=[],this.documents=[],this.progress=Lh(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,n=new Nh(this.O);for(const r of e)if(r.metadata.queries){const e=n.Gs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Oo()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,_.Z)(function*(){const t=yield function(e,t,n,r){return $l.apply(this,arguments)}(e.localStore,new Nh(e.O),e.documents,e.hc.id),n=e.fc(e.documents);for(const r of e.queries)yield Wl(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new kl(Object.assign({},e.progress),t)})()}}function Lh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Zh{constructor(e){this.key=e}}class Uh{constructor(e){this.key=e}}class qh{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Oo(),this.mutatedKeys=Oo(),this.mc=Ds(e),this.gc=new wh(this.mc)}get yc(){return this.dc}Ic(e,t){const n=t?t.Ec:new Ch,r=t?t.gc:this.gc;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=bs(this.query)&&r.size===this.query.limit?r.last():null,c=ws(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=Ps(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Tc(l,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.mc(u,a)>0||c&&this.mc(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(a||c)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),bs(this.query)||ws(this.query))for(;s.size>this.query.limit;){const e=bs(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{gc:s,Ec:n,ks:o,mutatedKeys:i}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const i=e.Ec.Yo();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qr()}};return n(e)-n(t)}(e.type,t.type)||this.mc(e.doc,t.doc)),this.Ac(n);const s=t?this.Rc():[],o=0===this.wc.size&&this.current?1:0,a=o!==this._c;return this._c=o,0!==i.length||a?{snapshot:new Sh(this.query,e.gc,r,i,e.mutatedKeys,0===o,a,!1),Pc:s}:{Pc:s}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Ch,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(e=>this.dc=this.dc.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.dc=this.dc.delete(e)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Oo(),this.gc.forEach(e=>{this.bc(e.key)&&(this.wc=this.wc.add(e.key))});const t=[];return e.forEach(e=>{this.wc.has(e)||t.push(new Uh(e))}),this.wc.forEach(n=>{e.has(n)||t.push(new Zh(n))}),t}vc(e){this.dc=e.Ks,this.wc=Oo();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Sh.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class jh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bh{constructor(e){this.key=e,this.Sc=!1}}class Vh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Dc={},this.Cc=new pl(e=>Is(e),As),this.Nc=new Map,this.xc=new Set,this.kc=new vo(Ii.comparator),this.Oc=new Map,this.Mc=new Jl,this.$c={},this.Fc=new Map,this.Bc=el.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function zh(e,t){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,_.Z)(function*(e,t){const n=Fd(e);let r,i;const s=n.Cc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const e=yield ql(n.localStore,Es(t));n.isPrimaryClient&&Mu(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Gh(n,t,r,"current"===s)}return i})).apply(this,arguments)}function Gh(e,t,n,r){return $h.apply(this,arguments)}function $h(){return($h=(0,_.Z)(function*(e,t,n,r){e.Uc=(t,n,r)=>{return(i=(0,_.Z)(function*(e,t,n,r){let i=t.view.Ic(n);i.ks&&(i=yield Vl(e.localStore,t.query,!1).then(({documents:e})=>t.view.Ic(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return hd(e,t.targetId,o.Pc),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Vl(e.localStore,t,!0),s=new qh(t,i.Ks),o=s.Ic(i.documents),a=Fo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);hd(e,n,c.Pc);const l=new jh(t,n,s);return e.Cc.set(t,l),e.Nc.has(n)?e.Nc.get(n).push(t):e.Nc.set(n,[t]),c.snapshot})).apply(this,arguments)}function Wh(e,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,_.Z)(function*(e,t){const n=Br(e),r=n.Cc.get(t),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter(e=>!As(e,t))),void n.Cc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lu(n.remoteStore,r.targetId),ld(n,r.targetId)}).catch(sl))):(ld(n,r.targetId),yield jl(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Kh(){return(Kh=(0,_.Z)(function*(e,t,n){const r=Nd(e);try{const e=yield function(e,t){const n=Br(e),r=oi.now(),i=t.reduce((e,t)=>e.add(t.key),Oo());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Us.Es(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=no(e,s.get(e.key));null!=t&&o.push(new oo(e.key,t,Gi(t.value.mapValue),Qs.exists(!0)))}return n.gs.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.$c[e.currentUser.toKey()];r||(r=new vo(ri)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(r,e.batchId,n),yield fd(r,e.changes),yield Xu(r.remoteStore)}catch(e){const t=bh(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function Qh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,_.Z)(function*(e,t){const n=Br(e);try{const e=yield Ll(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Oc.get(t);r&&(jr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Sc=!0:e.modifiedDocuments.size>0?jr(r.Sc):e.removedDocuments.size>0&&(jr(r.Sc),r.Sc=!1))}),yield fd(n,e,t)}catch(e){yield sl(e)}})).apply(this,arguments)}function Xh(e,t,n){const r=Br(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Cc.forEach((n,r)=>{const i=r.view.tc(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Br(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.tc(t)&&(r=!0)}),r&&Dh(n)}(r.eventManager,t),e.length&&r.Dc.To(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ed(e,t,n){return td.apply(this,arguments)}function td(){return(td=(0,_.Z)(function*(e,t,n){const r=Br(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Oc.get(t),s=i&&i.key;if(s){let e=new vo(Ii.comparator);e=e.insert(s,$i.newNoDocument(s,ai.min()));const n=Oo().add(s),i=new Ro(ai.min(),new Map,new wo(ri),e,n);yield Qh(r,i),r.kc=r.kc.remove(s),r.Oc.delete(t),pd(r)}else yield jl(r.localStore,t,!1).then(()=>ld(r,t,n)).catch(sl)})).apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return(rd=(0,_.Z)(function*(e,t){const n=Br(e),r=t.batch.batchId;try{const e=yield Nl(n.localStore,t);cd(n,r,null),ad(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fd(n,e)}catch(e){yield sl(e)}})).apply(this,arguments)}function id(e,t,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,_.Z)(function*(e,t,n){const r=Br(e);try{const e=yield function(e,t){const n=Br(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.gs.lookupMutationBatch(e,t).next(t=>(jr(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t))).next(()=>n.gs.performConsistencyCheck(e)).next(()=>n.Us.Es(e,r))})}(r.localStore,t);cd(r,t,n),ad(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield fd(r,e)}catch(n){yield sl(n)}})).apply(this,arguments)}function od(){return(od=(0,_.Z)(function*(e,t){const n=Br(e);Bu(n.remoteStore)||Mr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Br(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.gs.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Fc.get(e)||[];r.push(t),n.Fc.set(e,r)}catch(e){const n=bh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function ad(e,t){(e.Fc.get(t)||[]).forEach(e=>{e.resolve()}),e.Fc.delete(t)}function cd(e,t,n){const r=Br(e);let i=r.$c[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function ld(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Nc.get(t))e.Cc.delete(r),n&&e.Dc.qc(r,n);e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach(t=>{e.Mc.containsKey(t)||ud(e,t)})}function ud(e,t){e.xc.delete(t.path.canonicalString());const n=e.kc.get(t);null!==n&&(Lu(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),pd(e))}function hd(e,t,n){for(const r of n)r instanceof Zh?(e.Mc.addReference(r.key,t),dd(e,r)):r instanceof Uh?(Mr("SyncEngine","Document no longer in limbo: "+r.key),e.Mc.removeReference(r.key,t),e.Mc.containsKey(r.key)||ud(e,r.key)):qr()}function dd(e,t){const n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Mr("SyncEngine","New document in limbo: "+n),e.xc.add(r),pd(e))}function pd(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){const t=e.xc.values().next().value;e.xc.delete(t);const n=new Ii(di.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Bh(n)),e.kc=e.kc.insert(n,r),Mu(e.remoteStore,new lc(Es(_s(n.path)),r,2,ei.A))}}function fd(e,t,n){return md.apply(this,arguments)}function md(){return(md=(0,_.Z)(function*(e,t,n){const r=Br(e),i=[],s=[],o=[];var a;r.Cc.isEmpty()||(r.Cc.forEach((e,a)=>{o.push(r.Uc(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Il.Ss(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.Dc.To(i),yield(a=(0,_.Z)(function*(e,t){const n=Br(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wa.forEach(t,t=>Wa.forEach(t.vs,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wa.forEach(t.Vs,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Xa(e))throw e;Mr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Ms=n.Ms.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function gd(e,t){return yd.apply(this,arguments)}function yd(){return(yd=(0,_.Z)(function*(e,t){const n=Br(e);if(!n.currentUser.isEqual(t)){Mr("SyncEngine","User change. New user:",t.toKey());const e=yield Rl(n.localStore,t);n.currentUser=t,function(e,t){e.Fc.forEach(e=>{e.forEach(e=>{e.reject(new zr(Vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield fd(n,e.qs)}})).apply(this,arguments)}function vd(e,t){const n=Br(e),r=n.Oc.get(t);if(r&&r.Sc)return Oo().add(r.key);{let e=Oo();const r=n.Nc.get(t);if(!r)return e;for(const t of r){const r=n.Cc.get(t);e=e.unionWith(r.view.yc)}return e}}function _d(e,t){return bd.apply(this,arguments)}function bd(){return(bd=(0,_.Z)(function*(e,t){const n=Br(e),r=yield Vl(n.localStore,t.query,!0),i=t.view.vc(r);return n.isPrimaryClient&&hd(n,t.targetId,i.Pc),i})).apply(this,arguments)}function wd(e){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,_.Z)(function*(e){const t=Br(e);return Hl(t.localStore).then(e=>fd(t,e))})).apply(this,arguments)}function Sd(e,t,n,r){return xd.apply(this,arguments)}function xd(){return(xd=(0,_.Z)(function*(e,t,n,r){const i=Br(e),s=yield function(e,t){const n=Br(e),r=Br(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Ge(e,t).next(t=>t?n.Us.Es(e,t):Wa.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield Xu(i.remoteStore):"acknowledged"===n||"rejected"===n?(cd(i,t,r||null),ad(i,t),function(e,t){Br(Br(e).gs).Qe(t)}(i.localStore,t)):qr(),yield fd(i,s)):Mr("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Td(){return(Td=(0,_.Z)(function*(e,t){const n=Br(e);if(Fd(n),Nd(n),!0===t&&!0!==n.Lc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Ed(n,e.toArray());n.Lc=!0,yield mh(n.remoteStore,!0);for(const r of t)Mu(n.remoteStore,r)}else if(!1===t&&!1!==n.Lc){const e=[];let t=Promise.resolve();n.Nc.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(ld(n,i),jl(n.localStore,i,!0))),Lu(n.remoteStore,i)}),yield t,yield Ed(n,e),function(e){const t=Br(e);t.Oc.forEach((e,n)=>{Lu(t.remoteStore,n)}),t.Mc.ii(),t.Oc=new Map,t.kc=new vo(Ii.comparator)}(n),n.Lc=!1,yield mh(n.remoteStore,!1)}})).apply(this,arguments)}function Ed(e,t,n){return kd.apply(this,arguments)}function kd(){return(kd=(0,_.Z)(function*(e,t,n){const r=Br(e),i=[],s=[];for(const o of t){let e;const t=r.Nc.get(o);if(t&&0!==t.length){e=yield ql(r.localStore,Es(t[0]));for(const e of t){const t=r.Cc.get(e),n=yield _d(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield zl(r.localStore,o);e=yield ql(r.localStore,t),yield Gh(r,Ad(t),o,!1)}i.push(e)}return r.Dc.To(s),i})).apply(this,arguments)}function Ad(e){return vs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Id(e){const t=Br(e);return Br(Br(t.localStore).persistence).ds()}function Od(e,t,n,r){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,_.Z)(function*(e,t,n,r){const i=Br(e);if(i.Lc)Mr("SyncEngine","Ignoring unexpected query state notification.");else if(i.Nc.has(t))switch(n){case"current":case"not-current":{const e=yield Hl(i.localStore),r=Ro.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield fd(i,e,r);break}case"rejected":yield jl(i.localStore,t,!0),ld(i,t,r);break;default:qr()}})).apply(this,arguments)}function Dd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,_.Z)(function*(e,t,n){const r=Fd(e);if(r.Lc){for(const e of t){if(r.Nc.has(e)){Mr("SyncEngine","Adding an already active target "+e);continue}const t=yield zl(r.localStore,e),n=yield ql(r.localStore,t);yield Gh(r,Ad(t),n.targetId,!1),Mu(r.remoteStore,n)}for(const e of n)r.Nc.has(e)&&(yield jl(r.localStore,e,!1).then(()=>{Lu(r.remoteStore,e),ld(r,e)}).catch(sl))}})).apply(this,arguments)}function Fd(e){const t=Br(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ed.bind(null,t),t.Dc.To=Oh.bind(null,t.eventManager),t.Dc.qc=Ph.bind(null,t.eventManager),t}function Nd(e){const t=Br(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=id.bind(null,t),t}class Md{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_.Z)(function*(){t.O=xu(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return Dl(this.persistence,new Ol,e.initialUser,this.O)}jc(e){return new iu(ou.bi,this.O)}Gc(e){return new gu}terminate(){var e=this;return(0,_.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ld extends Md{constructor(e,t,n){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,_.Z)(function*(){yield t().call(n,e),yield function(e){return Gl.apply(this,arguments)}(n.localStore),yield n.zc.initialize(n,e),yield Nd(n.zc.syncEngine),yield Xu(n.zc.remoteStore),yield n.persistence.Hn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Wc(e){return Dl(this.persistence,new Ol,e.initialUser,this.O)}Qc(e){return new ll(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=El(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gc.withCacheSize(this.cacheSizeBytes):Gc.DEFAULT;return new Sl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cu(),Su(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new gu}}class Zd extends Ld{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,_.Z)(function*(){yield t().call(n,e);const r=n.zc.syncEngine;n.sharedClientState instanceof mu&&(n.sharedClientState.syncEngine={hr:Sd.bind(null,r),lr:Od.bind(null,r),dr:Dd.bind(null,r),ds:Id.bind(null,r),ar:wd.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.Hn(function(){var e=(0,_.Z)(function*(e){yield function(e,t){return Td.apply(this,arguments)}(n.zc.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Gc(e){const t=Cu();if(!mu.Vt(t))throw new zr(Vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=El(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ud{initialize(e,t){var n=this;return(0,_.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Xh(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=gd.bind(null,n.syncEngine),yield mh(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Th}createDatastore(e){const t=xu(e.databaseInfo.databaseId),n=new wu(e.databaseInfo);return function(e,t,n,r){return new Iu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Xh(this.syncEngine,e,0),s=vu.Vt()?new vu:new yu,new Pu(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Vh(e,t,n,r,i,s);return o&&(a.Lc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_.Z)(function*(e){const t=Br(e);Mr("RemoteStore","RemoteStore shutting down."),t.Ko.add(5),yield Fu(t),t.jo.shutdown(),t.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qd(e,t=10240){let n=0;return{read:()=>(0,_.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bd{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(e=>{e&&e.ac()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,_.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,_.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,_.Z)(function*(){const t=yield e.tu();if(null===t)return null;const n=e.Xc.decode(t),r=Number(n);isNaN(r)&&e.eu(`length string (${n}) is not valid number`);const i=yield e.nu(r);return new Fh(JSON.parse(i),t.length+r)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,_.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}nu(e){var t=this;return(0,_.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const n=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,_.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Vd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new zr(Vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,_.Z)(function*(e,t){const n=Br(e),r=ta(n.O)+"/documents",i={documents:t.map(e=>Qo(n.O,e))},s=yield n.Lr("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){jr(!!t.found);const n=Jo(e,t.found.name),r=Wo(t.found.updateTime),i=new Hi({mapValue:{fields:t.found.fields}});return $i.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jr(!!t.missing),jr(!!t.readTime);const n=Jo(e,t.missing),r=Wo(t.readTime);return $i.newNoDocument(n,r)}(e,t):qr()}(n.O,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());jr(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new uo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Ii.fromPath(n);e.mutations.push(new ho(r,e.precondition(r)))}),yield(n=(0,_.Z)(function*(e,t){const n=Br(e),r=ta(n.O)+"/documents",i={writes:t.map(e=>sa(n.O,e))};yield n.Mr("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qr();t=ai.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new zr(Vr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Qs.updateTime(t):Qs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ai.min()))throw new zr(Vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qs.updateTime(t)}return Qs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zd{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ru=5,this.ro=new Tu(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,_.Z)(function*(){const t=new Vd(e.datastore),n=e.cu(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.uu(t)}))}).catch(t=>{e.uu(t)})}))}cu(e){try{const t=this.updateFunction(e);return!Ei(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!go(t)}return!1}}class Hd{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dr.UNAUTHENTICATED,this.clientId=ni.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,_.Z)(function*(e){Mr("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(Mr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,_.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=bh(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Gd(e,t){return $d.apply(this,arguments)}function $d(){return($d=(0,_.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Mr("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,_.Z)(function*(e){r.isEqual(e)||(yield Rl(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Wd(e,t){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,_.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield Kd(e);Mr("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>ph(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ph(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function Kd(e){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,_.Z)(function*(e){return e.offlineComponents||(Mr("FirestoreClient","Using default OfflineComponentProvider"),yield Gd(e,new Md)),e.offlineComponents})).apply(this,arguments)}function Jd(e){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,_.Z)(function*(e){return e.onlineComponents||(Mr("FirestoreClient","Using default OnlineComponentProvider"),yield Wd(e,new Ud)),e.onlineComponents})).apply(this,arguments)}function ep(e){return Kd(e).then(e=>e.persistence)}function tp(e){return Kd(e).then(e=>e.localStore)}function np(e){return Jd(e).then(e=>e.remoteStore)}function rp(e){return Jd(e).then(e=>e.syncEngine)}function ip(e){return sp.apply(this,arguments)}function sp(){return(sp=(0,_.Z)(function*(e){const t=yield Jd(e),n=t.eventManager;return n.onListen=zh.bind(null,t.syncEngine),n.onUnlisten=Wh.bind(null,t.syncEngine),n})).apply(this,arguments)}function op(e,t,n={}){const r=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n,r,i){const s=new jd({next:s=>{t.enqueueAndForget(()=>Ah(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new zr(Vr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new zr(Vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Rh(_s(n.path),s,{includeMetadataChanges:!0,uc:!0});return Eh(e,o)}(yield ip(e),e.asyncQueue,t,n,r)})),r.promise}function ap(e,t,n={}){const r=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n,r,i){const s=new jd({next:n=>{t.enqueueAndForget(()=>Ah(e,o)),n.fromCache&&"server"===r.source?i.reject(new zr(Vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Rh(n,s,{includeMetadataChanges:!0,uc:!0});return Eh(e,o)}(yield ip(e),e.asyncQueue,t,n,r)})),r.promise}const cp=new Map;function lp(e,t,n){if(!n)throw new zr(Vr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function up(e,t,n,r){if(!0===t&&!0===r)throw new zr(Vr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hp(e){if(!Ii.isDocumentKey(e))throw new zr(Vr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dp(e){if(Ii.isDocumentKey(e))throw new zr(Vr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function pp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":qr()}function fp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zr(Vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(e);throw new zr(Vr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function mp(e,t){if(t<=0)throw new zr(Vr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class gp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zr(Vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zr(Vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,up("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yp{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gp({}),this._settingsFrozen=!1,e instanceof Ti?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zr(Vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ti(e.options.projectId)}(e))}get app(){if(!this._app)throw new zr(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zr(Vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $r;switch(e.type){case"gapi":const t=e.client;return jr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Qr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new zr(Vr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cp.get(e);t&&(Mr("ComponentProvider","Removing Datastore"),cp.delete(e),t.terminate())}(this),Promise.resolve()}}class vp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vp(this.firestore,e,this._key)}}class _p{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _p(this.firestore,e,this._query)}}class bp extends _p{constructor(e,t,n){super(e,t,_s(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vp(this.firestore,null,new Ii(e))}withConverter(e){return new bp(this.firestore,e,this._path)}}function wp(e,t,...n){if(e=(0,S.m9)(e),lp("collection","path",t),e instanceof yp){const r=di.fromString(t,...n);return dp(r),new bp(e,null,r)}{if(!(e instanceof vp||e instanceof bp))throw new zr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(di.fromString(t,...n));return dp(r),new bp(e.firestore,null,r)}}function Cp(e,t,...n){if(e=(0,S.m9)(e),1===arguments.length&&(t=ni.R()),lp("doc","path",t),e instanceof yp){const r=di.fromString(t,...n);return hp(r),new vp(e,null,new Ii(r))}{if(!(e instanceof vp||e instanceof bp))throw new zr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(di.fromString(t,...n));return hp(r),new vp(e.firestore,e instanceof bp?e.converter:null,new Ii(r))}}function Sp(e,t){return e=(0,S.m9)(e),t=(0,S.m9)(t),(e instanceof vp||e instanceof bp)&&(t instanceof vp||t instanceof bp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xp(e,t){return e=(0,S.m9)(e),t=(0,S.m9)(t),e instanceof _p&&t instanceof _p&&e.firestore===t.firestore&&As(e._query,t._query)&&e.converter===t.converter}class Tp{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Tu(this,"async_queue_retry"),this.yu=()=>{const e=Su();e&&Mr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ro.Yr()};const e=Su();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=Su();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Hr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,_.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(L){if(!Xa(L))throw L;Mr("AsyncQueue","Operation failed with retryable error: "+L)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(e=>{throw this._u=e,this.wu=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.wu=!1,e))));return this.hu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const r=_h.createAndSchedule(this,e,t,n,e=>this.Tu(e));return this.du.push(r),r}pu(){this._u&&qr()}verifyOperationInProgress(){}Au(){var e=this;return(0,_.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Ep(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class kp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ap extends yp{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Tp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Op(this),this._firestoreClient.terminate()}}function Ip(e){return e._firestoreClient||Op(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Op(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new xi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hd(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Pp(e,t,n){const r=new Hr;return e.asyncQueue.enqueue((0,_.Z)(function*(){try{yield Gd(e,n),yield Wd(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Vr.FAILED_PRECONDITION||e.code===Vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function Dp(e){if(e._initialized||e._terminated)throw new zr(Vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zr(Vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fp(gi.fromBase64String(e))}catch(e){throw new zr(Vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fp(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Np{constructor(e){this._methodName=e}}class Mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zr(Vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zr(Vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ri(this._lat,e._lat)||ri(this._long,e._long)}}const Lp=/^__.*__$/;class Zp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new so(e,this.data,t,this.fieldTransforms)}}class Up{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qr()}}class jp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.O=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}xu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return cf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(qp(this.Vu)&&Lp.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Bp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=n||xu(e)}Fu(e,t,n,r=!1){return new jp({Vu:e,methodName:t,$u:n,path:fi.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Vp(e){const t=e._freezeSettings(),n=xu(e._databaseId);return new Bp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zp(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);rf("Data must be an object, but it was:",o,r);const a=tf(r,o);let c,l;if(s.merge)c=new mi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=sf(t,r,n);if(!o.contains(i))throw new zr(Vr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);lf(e,i)||e.push(i)}c=new mi(e),l=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=o.fieldTransforms;return new Zp(new Hi(a),c,l)}class Hp extends Np{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hp}}function Gp(e,t,n){return new jp({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}class $p extends Np{_toFieldTransform(e){return new Ys(e.path,new js)}isEqual(e){return e instanceof $p}}class Wp extends Np{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Gp(this,e,!0),n=this.Bu.map(e=>ef(e,t)),r=new Bs(n);return new Ys(e.path,r)}isEqual(e){return this===e}}class Yp extends Np{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Gp(this,e,!0),n=this.Bu.map(e=>ef(e,t)),r=new zs(n);return new Ys(e.path,r)}isEqual(e){return this===e}}class Kp extends Np{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Gs(e.O,Ms(e.O,this.Lu));return new Ys(e.path,t)}isEqual(e){return this===e}}function Qp(e,t,n,r){const i=e.Fu(1,t,n);rf("Data must be an object, but it was:",i,r);const s=[],o=Hi.empty();li(r,(e,r)=>{const a=af(t,e,n);r=(0,S.m9)(r);const c=i.xu(a);if(r instanceof Hp)s.push(a);else{const e=ef(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new mi(s);return new Up(o,a,i.fieldTransforms)}function Jp(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[sf(t,r,n)],c=[i];if(s.length%2!=0)throw new zr(Vr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(sf(t,s[d])),c.push(s[d+1]);const l=[],u=Hi.empty();for(let d=a.length-1;d>=0;--d)if(!lf(l,a[d])){const e=a[d];let t=c[d];t=(0,S.m9)(t);const n=o.xu(e);if(t instanceof Hp)l.push(e);else{const r=ef(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new mi(l);return new Up(u,h,o.fieldTransforms)}function Xp(e,t,n,r=!1){return ef(n,e.Fu(r?4:3,t))}function ef(e,t){if(nf(e=(0,S.m9)(e)))return rf("Unsupported field value:",t,e),tf(e,t);if(e instanceof Np)return function(e,t){if(!qp(t.Vu))throw t.Ou(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ou(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ef(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,S.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ms(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=oi.fromDate(e);return{timestampValue:Ho(t.O,n)}}if(e instanceof oi){const n=new oi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ho(t.O,n)}}if(e instanceof Mp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fp)return{bytesValue:Go(t.O,e._byteString)};if(e instanceof vp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ou(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Yo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou(`Unsupported field value: ${pp(e)}`)}(e,t)}function tf(e,t){const n={};return ui(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):li(e,(e,r)=>{const i=ef(r,t.Du(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function nf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oi||e instanceof Mp||e instanceof Fp||e instanceof vp||e instanceof Np)}function rf(e,t,n){if(!nf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=pp(n);throw t.Ou("an object"===r?e+" a custom object":e+" "+r)}}function sf(e,t,n){if((t=(0,S.m9)(t))instanceof Rp)return t._internalPath;if("string"==typeof t)return af(e,t);throw cf("Field path arguments must be of type string or ",e,!1,void 0,n)}const of=new RegExp("[~\\*/\\[\\]]");function af(e,t,n){if(t.search(of)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rp(...t.split("."))._internalPath}catch(r){throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new zr(Vr.INVALID_ARGUMENT,a+e+c)}function lf(e,t){return e.some(e=>e.isEqual(t))}class uf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hf extends uf{data(){return super.data()}}function df(e,t){return"string"==typeof t?af(e,t):t instanceof Rp?t._internalPath:t._delegate._internalPath}class pf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ff extends uf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mf extends ff{data(e={}){return super.data(e)}}class gf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new mf(this._firestore,this._userDataWriter,n.key,n,new pf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zr(Vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new mf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new mf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:yf(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qr()}}function vf(e,t){return e instanceof ff&&t instanceof ff?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof gf&&t instanceof gf&&e._firestore===t._firestore&&xp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function _f(e){if(ws(e)&&0===e.explicitOrderBy.length)throw new zr(Vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}function wf(e,...t){for(const n of t)e=n._apply(e);return e}class Cf extends bf{constructor(e,t,n){super(),this.Uu=e,this.qu=t,this.Ku=n,this.type="where"}_apply(e){const t=Vp(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new zr(Vr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){If(o,s);const t=[];for(const n of o)t.push(Af(r,e,n));a={arrayValue:{values:t}}}else a=Af(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||If(o,s),a=Xp(n,"where",o,"in"===s||"not-in"===s);const c=rs.create(i,s,a);return function(e,t){if(t.S()){const n=Ss(e);if(null!==n&&!n.isEqual(t.field))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Cs(e);null!==r&&Of(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new zr(Vr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new _p(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Sf extends bf{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new zr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ps(t,n);return function(e,t){if(null===Cs(e)){const n=Ss(e);null!==n&&Of(0,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new _p(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ys(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class xf extends bf{constructor(e,t,n){super(),this.type=e,this.ju=t,this.Qu=n}_apply(e){return new _p(e.firestore,e.converter,ks(e._query,this.ju,this.Qu))}}class Tf extends bf{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=kf(e,this.type,this.Wu,this.zu);return new _p(e.firestore,e.converter,function(e,t){return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ef extends bf{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=kf(e,this.type,this.Wu,this.zu);return new _p(e.firestore,e.converter,function(e,t){return new ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function kf(e,t,n,r){if(n[0]=(0,S.m9)(n[0]),n[0]instanceof uf)return function(e,t,n,r,i){if(!r)throw new zr(Vr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Ts(e))if(o.field.isKeyField())s.push(Zi(t,r.key));else{const e=r.data.field(o.field);if(wi(e))throw new zr(Vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ds(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Vp(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new zr(Vr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!xs(e)&&-1!==s.indexOf("/"))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(di.fromString(s));if(!Ii.isDocumentKey(n))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Ii(n);a.push(Zi(t,i))}else{const e=Xp(n,r,s);a.push(e)}}return new ds(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Af(e,t,n){if("string"==typeof(n=(0,S.m9)(n))){if(""===n)throw new zr(Vr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xs(t)&&-1!==n.indexOf("/"))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(di.fromString(n));if(!Ii.isDocumentKey(r))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zi(e,new Ii(r))}if(n instanceof vp)return Zi(e,n._key);throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pp(n)}.`)}function If(e,t){if(!Array.isArray(e)||0===e.length)throw new zr(Vr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new zr(Vr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Of(e,t,n){if(!n.isEqual(t))throw new zr(Vr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Pf{convertValue(e,t="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qr()}}convertObject(e,t){const n={};return li(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Mp(_i(e.latitude),_i(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ci(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Si(e));default:return null}}convertTimestamp(e){const t=vi(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=di.fromString(e);jr(va(n));const r=new Ti(n.get(1),n.get(3)),i=new Ii(n.popFirst(5));return r.isEqual(t)||Lr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Df(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Rf extends Pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vp(this.firestore,null,t)}}class Ff{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vp(e)}set(e,t,n){this._verifyNotCommitted();const r=Nf(e,this._firestore),i=Df(r.converter,t,n),s=zp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Qs.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Nf(e,this._firestore);let s;return s="string"==typeof(t=(0,S.m9)(t))||t instanceof Rp?Jp(this._dataReader,"WriteBatch.update",i._key,t,n,r):Qp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nf(e,this._firestore);return this._mutations=this._mutations.concat(new uo(t._key,Qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zr(Vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nf(e,t){if((e=(0,S.m9)(e)).firestore!==t)throw new zr(Vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Mf extends Pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vp(this.firestore,null,t)}}function Lf(e,t,n){e=fp(e,vp);const r=fp(e.firestore,Ap),i=Df(e.converter,t,n);return qf(r,[zp(Vp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qs.none())])}function Zf(e,t,n,...r){e=fp(e,vp);const i=fp(e.firestore,Ap),s=Vp(i);let o;return o="string"==typeof(t=(0,S.m9)(t))||t instanceof Rp?Jp(s,"updateDoc",e._key,t,n,r):Qp(s,"updateDoc",e._key,t),qf(i,[o.toMutation(e._key,Qs.exists(!0))])}function Uf(e,...t){var n,r,i;e=(0,S.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Ep(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ep(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,u;if(e instanceof vp)l=fp(e.firestore,Ap),u=_s(e._key.path),c={next:n=>{t[o]&&t[o](jf(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=fp(e,_p);l=fp(n.firestore,Ap),u=n._query;const r=new Mf(l);c={next:e=>{t[o]&&t[o](new gf(l,r,n,e))},error:t[o+1],complete:t[o+2]},_f(e._query)}return function(e,t,n,r){const i=new jd(r),s=new Rh(t,i,n);return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Eh(yield ip(e),s)})),()=>{i.Jc(),e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Ah(yield ip(e),s)}))}}(Ip(l),u,a,c)}function qf(e,t){return function(e,t){const n=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n){return Kh.apply(this,arguments)}(yield rp(e),t,n)})),n.promise}(Ip(e),t)}function jf(e,t,n){const r=n.docs.get(t._key),i=new Mf(e);return new ff(e,i,t._key,r,new pf(n.hasPendingWrites,n.fromCache),t.converter)}class Bf extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vp(e)}get(e){const t=Nf(e,this._firestore),n=new Rf(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return qr();const r=e[0];if(r.isFoundDocument())return new uf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new uf(this._firestore,n,t._key,null,t.converter);throw qr()})}set(e,t,n){const r=Nf(e,this._firestore),i=Df(r.converter,t,n),s=zp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Nf(e,this._firestore);let s;return s="string"==typeof(t=(0,S.m9)(t))||t instanceof Rp?Jp(this._dataReader,"Transaction.update",i._key,t,n,r):Qp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nf(e,this._firestore),n=new Mf(this._firestore);return super.get(e).then(e=>new ff(this._firestore,n,t._key,e._document,new pf(!1,!1),t.converter))}}function Vf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zr("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function zf(){if("undefined"==typeof Uint8Array)throw new zr("unimplemented","Uint8Arrays are not available in this environment.")}function Hf(){if("undefined"==typeof atob)throw new zr("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Rr=e}(b.SDK_VERSION),(0,b._registerComponent)(new w.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Ap(r,new Yr(e.getProvider("auth-internal")),new Xr(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,b.registerVersion)(Pr,"3.4.5",e),(0,b.registerVersion)(Pr,"3.4.5","esm2017")}();class Gf{constructor(e){this._delegate=e}static fromBase64String(e){return Hf(),new Gf(Fp.fromBase64String(e))}static fromUint8Array(e){return zf(),new Gf(Fp.fromUint8Array(e))}toBase64(){return Hf(),this._delegate.toBase64()}toUint8Array(){return zf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $f(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Wf{enableIndexedDbPersistence(e,t){return function(e,t){Dp(e=fp(e,Ap));const n=Ip(e),r=e._freezeSettings(),i=new Ud;return Pp(n,i,new Ld(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Dp(e=fp(e,Ap));const t=Ip(e),n=e._freezeSettings(),r=new Ud;return Pp(t,r,new Zd(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new zr(Vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Hr;return e._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(n=(0,_.Z)(function*(e){if(!Ka.Vt())return Promise.resolve();const t=e+"main";yield Ka.delete(t)}),function(e){return n.apply(this,arguments)})(El(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class Yf{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ti||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=fp(e,yp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Zr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dr.MOCK_USER;else{t=(0,S.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zr(Vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dr(s)}e._authCredentials=new Wr(new Gr(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,_.Z)(function*(){const t=yield ep(e),n=yield np(e);return t.setNetworkEnabled(!0),function(e){const t=Br(e);return t.Ko.delete(0),Du(t)}(n)}))}(Ip(e=fp(e,Ap)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,_.Z)(function*(){const t=yield ep(e),n=yield np(e);return t.setNetworkEnabled(!1),(r=(0,_.Z)(function*(e){const t=Br(e);t.Ko.add(0),yield Fu(t),t.Qo.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Ip(e=fp(e,Ap)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,up("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){return od.apply(this,arguments)}(yield rp(e),t)})),t.promise}(Ip(e=fp(e,Ap)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new jd(t);return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){Br(e).Zo.add(t),t.next()}(yield ip(e),n)})),()=>{n.Jc(),e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){Br(e).Zo.delete(t)}(yield ip(e),n)}))}}(Ip(e=fp(e,Ap)),Ep(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new zr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lm(this,wp(this._delegate,e))}catch(t){throw tm(t,"collection()","Firestore.collection()")}}doc(e){try{return new em(this,Cp(this._delegate,e))}catch(t){throw tm(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new om(this,function(e,t){if(e=fp(e,yp),lp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zr(Vr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _p(e,null,function(e){return new ys(di.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tm(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const r=yield function(e){return Jd(e).then(e=>e.datastore)}(e);new zd(e.asyncQueue,r,t,n).run()})),n.promise}(Ip(e=fp(e,Ap)),n=>t(new Bf(e,n)))}(this._delegate,t=>e(new Qf(this,t)))}batch(){return Ip(this._delegate),new Jf(new Ff(this._delegate,e=>qf(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Ip(e=fp(e,Ap)),r=new kp;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Bd(e,t)}(function(e,t){if(e instanceof Uint8Array)return qd(e,t);if(e instanceof ArrayBuffer)return qd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xu(t));e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function(e,t,n){const r=Br(e);var i;(i=(0,_.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Br(e),r=Wo(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Kn.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Lh(r));const i=new Mh(r,e.localStore,t.O);let s=yield t.Kc();for(;s;){const e=yield i.lc(s);e&&n._updateProgress(e),s=yield t.Kc()}const o=yield i.complete();yield fd(e,o.ws,void 0),yield function(e,t){const n=Br(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Kn.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Zr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield rp(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,_.Z)(function*(){return function(e,t){const n=Br(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Kn.getNamedQuery(e,t))}(yield tp(e),t)}))}(Ip(e=fp(e,Ap)),t).then(t=>t?new _p(e,null,t.query):null)}(this._delegate,e).then(e=>e?new om(this,e):null)}}class Kf extends Pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gf(new Fp(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return em.forKey(t,this.firestore,null)}}class Qf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Kf(e)}get(e){const t=um(e);return this._delegate.get(t).then(e=>new im(this._firestore,new ff(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=um(e);return n?(Vf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=um(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=um(e);return this._delegate.delete(t),this}}class Jf{constructor(e){this._delegate=e}set(e,t,n){const r=um(e);return n?(Vf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=um(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=um(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xf{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new mf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sm(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Xf.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Xf(e,new Kf(e),t),r.set(t,i)),i}}Xf.INSTANCES=new WeakMap;class em{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kf(e)}static forPath(e,t,n){if(e.length%2!=0)throw new zr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new em(t,new vp(t._delegate,n,new Ii(e)))}static forKey(e,t,n){return new em(t,new vp(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new lm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lm(this.firestore,wp(this._delegate,e))}catch(t){throw tm(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,S.m9)(e))instanceof vp&&Sp(this._delegate,e)}set(e,t){t=Vf("DocumentReference.set",t);try{return t?Lf(this._delegate,e,t):Lf(this._delegate,e)}catch(n){throw tm(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Zf(this._delegate,e):Zf(this._delegate,e,t,...n)}catch(r){throw tm(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return qf(fp(e.firestore,Ap),[new uo(e._key,Qs.none())])}(this._delegate)}onSnapshot(...e){const t=nm(e),n=rm(e,e=>new im(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Uf(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=fp(e,vp);const t=fp(e.firestore,Ap),n=Ip(t),r=new Mf(t);return function(e,t){const n=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(r=(0,_.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Br(e);return n.persistence.runTransaction("read document","readonly",e=>n.Us.ys(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new zr(Vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=bh(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield tp(e),t,n);var r})),n.promise}(n,e._key).then(n=>new ff(t,r,e._key,n,new pf(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=fp(e,vp);const t=fp(e.firestore,Ap);return op(Ip(t),e._key,{source:"server"}).then(n=>jf(t,e,n))}(this._delegate):function(e){e=fp(e,vp);const t=fp(e.firestore,Ap);return op(Ip(t),e._key).then(n=>jf(t,e,n))}(this._delegate),t.then(e=>new im(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new em(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}function tm(e,t,n){return e.message=e.message.replace(t,n),e}function nm(e){for(const t of e)if("object"==typeof t&&!$f(t))return t;return{}}function rm(e,t){var n,r;let i;return i=$f(e[0])?e[0]:$f(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class im{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new em(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vf(this._delegate,e._delegate)}}class sm extends im{data(e){const t=this._delegate.data(e);return function(e,t){e||qr()}(void 0!==t),t}}class om{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kf(e)}where(e,t,n){try{return new om(this.firestore,wf(this._delegate,function(e,t,n){const r=t,i=df("where",e);return new Cf(i,r,n)}(e,t,n)))}catch(r){throw tm(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new om(this.firestore,wf(this._delegate,function(e,t="asc"){const n=t,r=df("orderBy",e);return new Sf(r,n)}(e,t)))}catch(n){throw tm(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new om(this.firestore,wf(this._delegate,function(e){return mp("limit",e),new xf("limit",e,"F")}(e)))}catch(t){throw tm(t,"limit()","Query.limit()")}}limitToLast(e){try{return new om(this.firestore,wf(this._delegate,function(e){return mp("limitToLast",e),new xf("limitToLast",e,"L")}(e)))}catch(t){throw tm(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new om(this.firestore,wf(this._delegate,function(...e){return new Tf("startAt",e,!0)}(...e)))}catch(t){throw tm(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new om(this.firestore,wf(this._delegate,function(...e){return new Tf("startAfter",e,!1)}(...e)))}catch(t){throw tm(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new om(this.firestore,wf(this._delegate,function(...e){return new Ef("endBefore",e,!1)}(...e)))}catch(t){throw tm(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new om(this.firestore,wf(this._delegate,function(...e){return new Ef("endAt",e,!0)}(...e)))}catch(t){throw tm(t,"endAt()","Query.endAt()")}}isEqual(e){return xp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=fp(e,_p);const t=fp(e.firestore,Ap),n=Ip(t),r=new Mf(t);return function(e,t){const n=new Hr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(r=(0,_.Z)(function*(e,t,n){try{const r=yield Vl(e,t,!0),i=new qh(t,r.Ks),s=i.Ic(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=bh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield tp(e),t,n);var r})),n.promise}(n,e._query).then(n=>new gf(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=fp(e,_p);const t=fp(e.firestore,Ap),n=Ip(t),r=new Mf(t);return ap(n,e._query,{source:"server"}).then(n=>new gf(t,r,e,n))}(this._delegate):function(e){e=fp(e,_p);const t=fp(e.firestore,Ap),n=Ip(t),r=new Mf(t);return _f(e._query),ap(n,e._query).then(n=>new gf(t,r,e,n))}(this._delegate),t.then(e=>new cm(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=nm(e),n=rm(e,e=>new cm(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Uf(this._delegate,t,n)}withConverter(e){return new om(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}class am{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new om(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new am(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new sm(this._firestore,n))})}isEqual(e){return vf(this._delegate,e._delegate)}}class lm extends om{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new em(this.firestore,e):null}doc(e){try{return new em(this.firestore,void 0===e?Cp(this._delegate):Cp(this._delegate,e))}catch(t){throw tm(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=fp(e.firestore,Ap),r=Cp(e),i=Df(e.converter,t);return qf(n,[zp(Vp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qs.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new em(this.firestore,e))}isEqual(e){return Sp(this._delegate,e._delegate)}withConverter(e){return new lm(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}function um(e){return fp(e,vp)}class hm{constructor(...e){this._delegate=new Rp(...e)}static documentId(){return new hm(fi.keyField().canonicalString())}isEqual(e){return(e=(0,S.m9)(e))instanceof Rp&&this._delegate._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._delegate=e}static serverTimestamp(){const e=new $p("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dm(e)}static delete(){const e=new Hp("deleteField");return e._methodName="FieldValue.delete",new dm(e)}static arrayUnion(...e){const t=function(...e){return new Wp("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new dm(t)}static arrayRemove(...e){const t=function(...e){return new Yp("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new dm(t)}static increment(e){const t=function(e){return new Kp("increment",e)}(e);return t._methodName="FieldValue.increment",new dm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pm={Firestore:Yf,GeoPoint:Mp,Timestamp:oi,Blob:Gf,Transaction:Qf,WriteBatch:Jf,DocumentReference:em,DocumentSnapshot:im,Query:om,QueryDocumentSnapshot:sm,QuerySnapshot:cm,CollectionReference:lm,FieldPath:hm,FieldValue:dm,setLogLevel:function(e){!function(e){Fr.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var fm;(fm=v.Z).INTERNAL.registerComponent(new w.wA("firestore-compat",e=>{return t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate(),new Yf(t,n,new Wf);var t,n},"PUBLIC").setServiceProps(Object.assign({},pm))),fm.registerVersion("@firebase/firestore-compat","0.1.14");var mm=n(3820),gm=n(4979);function ym(e,t){return function(e,t=s.z){return new o.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function vm(e,t){return ym(e,t).pipe((0,d.U)(e=>({payload:e,type:"query"})))}function _m(e,t){return vm(e,t).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function bm(e,t,n){return _m(e,n).pipe((0,p.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return wm(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return wm(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return wm(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,f.x)(),(0,d.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function wm(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Cm(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}n(8674);class Sm{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=_m(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,u.O)(void 0),(0,h.G)(),(0,m.h)(([e,t])=>t.length>0||!e),(0,d.U)(([e,t])=>t),l.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,p.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Cm(e);return bm(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return vm(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),l.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(l.iC)}add(e){return this.ref.add(e)}doc(e){return new xm(this.ref.doc(e),this.afs)}}class xm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=Om(n,t);return new Sm(r,i,this.afs)}snapshotChanges(){return ym(this.ref,this.afs.schedulers.outsideAngular).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(l.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,d.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,a.D)(this.ref.get(e)).pipe(l.iC)}}class Tm{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_m(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,m.h)(e=>e.length>0),l.iC):_m(this.query,this.afs.schedulers.outsideAngular).pipe(l.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,p.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Cm(e);return bm(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return vm(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),l.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(l.iC)}}const Em=new i.OlP("angularfire2.enableFirestorePersistence"),km=new i.OlP("angularfire2.firestore.persistenceSettings"),Am=new i.OlP("angularfire2.firestore.settings"),Im=new i.OlP("angularfire2.firestore.use-emulator");function Om(e,t=(e=>e)){return{query:t(e),ref:e}}let Pm=(()=>{class e{constructor(e,t,n,r,i,s,o,l,u,h,d,p,f,m,v,_,b){this.schedulers=o;const w=(0,g.on)(e,s,t),C=u;h&&(0,mm.nw)(w,s,d,f,m,v,p,_),[this.firestore,this.persistenceEnabled$]=(0,g.cc)(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const e=s.runOutsideAngular(()=>w.firestore());if(r&&e.settings(r),C&&e.useEmulator(...C),n&&!(0,y.PM)(i)){const t=()=>{try{return(0,a.D)(e.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,c.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,c.of)(!1)]},[r,C,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=Om(n,t),s=this.schedulers.ngZone.run(()=>r);return new Sm(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Tm(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new xm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(g.Dh),i.LFG(g.xv,8),i.LFG(Em,8),i.LFG(Am,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(l.HU),i.LFG(km,8),i.LFG(Im,8),i.LFG(mm.zQ,8),i.LFG(mm.Qv,8),i.LFG(mm.L6,8),i.LFG(mm._Q,8),i.LFG(mm.rT,8),i.LFG(mm.lh,8),i.LFG(mm.f7,8),i.LFG(gm.nm,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>c,cc:()=>g,on:()=>d,pX:()=>a});var r=n(7716),i=n(8674),s=n(7091);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})();function g(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7091:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Rn,iC:()=>$n,HU:()=>Hn,vb:()=>jn,JM:()=>qn});var r=n(7716),i=n(4431),s=n(6304),o=n(7776),a=n(839),c=n(3343),l=n(2189),u=n(5259);const h="@firebase/installations",d="0.5.5",p="w:0.5.5",f="FIS_v2",m=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return m.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function C(e,{refreshToken:t}){const n=w(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function S(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function T(e,t){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:w(e),body:JSON.stringify({fid:t,authVersion:f,appId:e.appId,sdkVersion:p})},i=yield S(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield _("Create Installation",i)})).apply(this,arguments)}function k(e){return new Promise(t=>{setTimeout(t,e)})}const A=/^[cdef][\w-]{21}$/;function I(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return A.test(t)?t:""}catch(e){return""}}function O(e){return`${e.appName}!${e.appId}`}const P=new Map;function D(e,t){const n=O(e);R(n,t),function(e,t){const n=(!F&&"BroadcastChannel"in self&&(F=new BroadcastChannel("[Firebase] FID Change"),F.onmessage=e=>{R(e.data.key,e.data.fid)}),F);n&&n.postMessage({key:e,fid:t}),0===P.size&&F&&(F.close(),F=null)}(n,t)}function R(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let F=null;const N="firebase-installations-store";let M=null;function L(){return M||(M=(0,u.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(N)}})),M}function Z(e,t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(e,t){const n=O(e),r=(yield L()).transaction(N,"readwrite"),i=r.objectStore(N),s=yield i.get(n);return yield i.put(t,n),yield r.complete,s&&s.fid===t.fid||D(e,t.fid),t})).apply(this,arguments)}function q(e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(e){const t=O(e),n=(yield L()).transaction(N,"readwrite");yield n.objectStore(N).delete(t),yield n.complete})).apply(this,arguments)}function B(e,t){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(e,t){const n=O(e),r=(yield L()).transaction(N,"readwrite"),i=r.objectStore(N),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||D(e,o.fid),o})).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(e){let t;const n=yield B(e,n=>{const r=G(n),i=$(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function G(e){return J(e||{fid:I(),registrationStatus:0})}function $(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(m.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return W.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Y(e)}:{installationEntry:t}}function W(){return(W=(0,s.Z)(function*(e,t){try{return Z(e,yield T(e,t))}catch(n){throw g(n)&&409===n.customData.serverCode?yield q(e):yield Z(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Y(e){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(e){let t=yield Q(e);for(;1===t.registrationStatus;)yield k(100),t=yield Q(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield z(e);return n||t}return t})).apply(this,arguments)}function Q(e){return B(e,e=>{if(!e)throw m.create("installation-not-found");return J(e)})}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=te(e,n),i=C(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:p}})},a=yield S(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(e,t=!1){let n;const r=yield B(e.appConfig,r=>{if(!le(r))throw m.create("not-registered");const i=r.authToken;if(!t&&ue(i))return r;if(1===i.requestStatus)return n=ie(e,t),r;{if(!navigator.onLine)throw m.create("app-offline");const t=he(r);return n=ae(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(e,t){let n=yield oe(e.appConfig);for(;1===n.authToken.requestStatus;)yield k(100),n=yield oe(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r})).apply(this,arguments)}function oe(e){return B(e,e=>{if(!le(e))throw m.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(e,t){try{const n=yield X(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield Z(e.appConfig,r),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Z(e.appConfig,n)}else yield q(e.appConfig);throw n}})).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield z(t.appConfig);return r?r.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield fe(n.appConfig),(yield ne(n,t)).token})).apply(this,arguments)}function fe(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield z(e);t&&(yield t)})).apply(this,arguments)}function ge(e){return m.create("missing-app-config-values",{valueName:e})}const ye="installations";(0,o._registerComponent)(new c.wA(ye,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ge("App Configuration");if(!e.name)throw ge("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ge(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new c.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ye).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ve="@firebase/remote-config",_e="0.3.4",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Ce(e=navigator){return e.languages&&e.languages[0]||e.language}class Se{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Ce()},a={method:"POST",headers:s,body:JSON.stringify(o)},c=fetch(i,a),l=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let u;try{yield Promise.race([c,l]),u=yield c}catch(m){let e="fetch-client-network";throw"AbortError"===m.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let p,f;if(200===u.status){let e;try{e=yield u.json()}catch(m){throw be.create("fetch-client-parse",{originalErrorMessage:m.message})}p=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:p}})()}}class xe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Te{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ee(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const ke="app_namespace_store";class Ae{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Ee(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(ke,{keyPath:"compositeKey"})}}}catch(n){t(be.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readonly").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ee(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ke],"readwrite").objectStore(ke),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ee(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(be.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readwrite").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ee(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oe(){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:c}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!c)throw be.create("registration-app-id");const u=new Ae(c,n.name,t=t||"firebase"),h=new Ie(u),d=new l.Yd(ve);d.logLevel=l.in.ERROR;const p=new Se(r,o.SDK_VERSION,t,i,s,c),f=new xe(p,u),m=new we(f,u,h,d),g=new Te(n,m,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ve,_e),(0,o.registerVersion)(ve,_e,"esm2017");const De="/firebase-messaging-sw.js",Re="/firebase-cloud-messaging-push-scope",Fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Ne=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ne||(Ne={})),Ne))();function Me(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Le(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Ze="fcm_token_details_db",Ue="fcm_token_object_Store";function qe(e){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ze))return null;let t=null;return(yield(0,u.openDb)(Ze,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(Ue))return;const i=n.transaction.objectStore(Ue),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Me(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,u.deleteDb)(Ze),yield(0,u.deleteDb)("fcm_vapid_details_db"),yield(0,u.deleteDb)("undefined"),Be(t)?t:null})).apply(this,arguments)}function Be(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ve="firebase-messaging-store";let ze=null;function He(){return ze||(ze=(0,u.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Ve)}})),ze}function Ge(e){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(e){const t=Je(e),n=yield He(),r=yield n.transaction(Ve).objectStore(Ve).get(t);if(r)return r;{const t=yield qe(e.appConfig.senderId);if(t)return yield We(e,t),t}})).apply(this,arguments)}function We(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e,t){const n=Je(e),r=(yield He()).transaction(Ve,"readwrite");return yield r.objectStore(Ve).put(t,n),yield r.complete,t})).apply(this,arguments)}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(e){const t=Je(e),n=(yield He()).transaction(Ve,"readwrite");yield n.objectStore(Ve).delete(t),yield n.complete})).apply(this,arguments)}function Je({appConfig:e}){return e.appId}const Xe=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e,t){const n=yield at(e),r=lt(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=yield fetch(ot(e.appConfig),i);s=yield t.json()}catch(o){throw Xe.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(e,t){const n=yield at(e),r=lt(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${ot(e.appConfig)}/${t.token}`,i);s=yield n.json()}catch(o){throw Xe.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-update-no-token");return s.token})).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield at(e)};try{const r=yield fetch(`${ot(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw Xe.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Xe.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function ot({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function at(e){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lt({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Fe&&(i.web.applicationPubKey=r),i}const ut=6048e5;function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(e){const t=yield _t(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Me(t.getKey("auth")),p256dh:Me(t.getKey("p256dh"))},r=yield Ge(e.firebaseDependencies);if(r){if(wt(r.subscriptionOptions,n))return Date.now()>=r.createTime+ut?mt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield it(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return yt(e.firebaseDependencies,n)}return yt(e.firebaseDependencies,n)})).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(e){const t=yield Ge(e.firebaseDependencies);t&&(yield it(e.firebaseDependencies,t.token),yield Ke(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e,t){try{const n=yield nt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield We(e.firebaseDependencies,r),n}catch(n){throw yield pt(e),n}})).apply(this,arguments)}function yt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e,t){const n={token:yield et(e,t),createTime:Date.now(),subscriptionOptions:t};return yield We(e,n),n.token})).apply(this,arguments)}function _t(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Le(t)})})).apply(this,arguments)}function wt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Ct(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function St(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function xt(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Tt(e){return Xe.create("missing-app-config-values",{valueName:e})}xt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Et{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Tt("App Configuration Object");if(!e.name)throw Tt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Tt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function kt(e){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(De,{scope:Re}),e.swRegistration.update().catch(()=>{})}catch(t){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function It(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield kt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Pt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Fe)})).apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){if(!navigator)throw Xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xe.create("permission-blocked");return yield Pt(e,null==t?void 0:t.vapidKey),yield It(e,null==t?void 0:t.serviceWorkerRegistration),ht(e)})).apply(this,arguments)}function Ft(e,t,n){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(e,t,n){const r=Mt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mt(e){switch(e){case Ne.NOTIFICATION_CLICKED:return"notification_open";case Ne.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lt(){return(Lt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Ne.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ct(n)):e.onMessageHandler.next(Ct(n)));const r=n.data;St(r)&&"1"===r["google.c.a.e"]&&(yield Ft(e,n.messageType,r))})).apply(this,arguments)}const Zt="@firebase/messaging",Ut="0.9.8";function qt(){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(){try{yield(0,a.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,a.hl)()&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("messaging",e=>{const t=new Et(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Lt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new c.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Rt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Zt,Ut),(0,o.registerVersion)(Zt,Ut,"esm2017");const Bt="analytics",Vt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zt="https://www.googletagmanager.com/gtag/js",Ht=new l.Yd("@firebase/analytics");function Gt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function $t(e,t){const n=document.createElement("script");n.src=`${zt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Wt(e,t,n,r,i,s){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Gt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Ht.error(a)}e("config",i,s)})).apply(this,arguments)}function Kt(e,t,n,r,i){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Gt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Ht.error(s)}})).apply(this,arguments)}function Jt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(zt))return t;return null}const Xt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),en=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:tn(r)},s=Vt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function sn(e){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(e,t=en,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Xt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Xt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new hn;return setTimeout((0,s.Z)(function*(){c.abort()}),void 0!==n?n:6e4),an({appId:r,apiKey:i,measurementId:o},a,c,t)})).apply(this,arguments)}function an(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=en){const{appId:s,measurementId:o}=e;try{yield ln(r,t)}catch(c){if(o)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}try{const t=yield nn(e);return i.deleteThrottleMetadata(s),t}catch(c){if(!un(c)){if(i.deleteThrottleMetadata(s),o)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}const t=503===Number(c.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,l),Ht.debug(`Calling attemptFetch again in ${t} millis`),an(e,l,r,i)}})).apply(this,arguments)}function ln(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function un(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class hn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function dn(){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(){if(!(0,a.hl)())return Ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const c=sn(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Ht.error(e)),t.push(c);const l=dn().then(e=>e?r.getId():void 0),[u,h]=yield Promise.all([c,l]);Jt()||$t(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class mn{constructor(e){this.app=e}_delete(){return delete gn[this.app.options.appId],Promise.resolve()}}let gn={},yn=[];const vn={};let _n,bn,wn="dataLayer",Cn=!1;function Sn(){return(Sn=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function xn(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const En="@firebase/analytics",kn="0.7.5";(0,o._registerComponent)(new c.wA(Bt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:t});Ht.warn(n.message)}}();const r=e.options.appId;if(!r)throw Xt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Xt.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gn[r])throw Xt.create("already-exists",{id:r});if(!Cn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Kt(e,t,n,s,o):"config"===i?yield Wt(e,t,n,r,s,o):e("set",s)}catch(a){Ht.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(gn,yn,vn);bn=e,_n=t,Cn=!0}return gn[r]=function(e,t,n,r,i,s,o){return fn.apply(this,arguments)}(e,yn,vn,t,_n,wn,n),new mn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new c.wA("analytics-internal",function(e){try{const t=e.getProvider(Bt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return Sn.apply(this,arguments)}(bn,gn[e.app.options.appId],t,n,r).catch(e=>Ht.error(e))}(t,e,n,r)}}catch(t){throw Xt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(En,kn),(0,o.registerVersion)(En,kn,"esm2017");var An=n(7771),In=n(3637),On=n(3342),Pn=n(9673),Dn=n(6136);const Rn=new r.GfV("7.2.1"),Fn="__angularfire_symbol__analyticsIsSupportedValue",Nn="__angularfire_symbol__analyticsIsSupported",Mn="__angularfire_symbol__remoteConfigIsSupportedValue",Ln="__angularfire_symbol__remoteConfigIsSupported",Zn="__angularfire_symbol__messagingIsSupportedValue",Un="__angularfire_symbol__messagingIsSupported";function qn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Nn]||(globalThis[Nn]=xn().then(e=>globalThis[Fn]=e).catch(()=>globalThis[Fn]=!1)),globalThis[Un]||(globalThis[Un]=qt().then(e=>globalThis[Zn]=e).catch(()=>globalThis[Zn]=!1)),globalThis[Ln]||(globalThis[Ln]=Oe().then(e=>globalThis[Mn]=e).catch(()=>globalThis[Mn]=!1));const jn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Bn(){}class Vn{constructor(e,t=An.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class zn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)),t.pipe((0,On.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Vn(Zone.current)),this.insideAngular=e.run(()=>new Vn(Zone.current,In.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function $n(e){return Gn(),(t=Gn(),function(e){return(e=e.lift(new zn(t.ngZone))).pipe((0,Pn.R)(t.outsideAngular),(0,Dn.QV)(t.insideAngular))})(e);var t}},3679:(e,t,n)=>{"use strict";n.d(t,{gN:()=>F,Fj:()=>p,qu:()=>we,u:()=>ve,sg:()=>ge,Cf:()=>g,JU:()=>u,a5:()=>N,JJ:()=>L,JL:()=>Z,F:()=>le,wV:()=>de,UX:()=>be,kI:()=>_,_Y:()=>ue});var r=n(7716),i=n(8583),s=n(4402),o=n(5758),a=n(8002);let c=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),l=(()=>{class e extends c{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const u=new r.OlP("NgValueAccessor"),h={provide:u,useExisting:(0,r.Gpc)(()=>p),multi:!0},d=new r.OlP("CompositionEventMode");let p=(()=>{class e extends c{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(d,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([h]),r.qOj]}),e})();function f(e){return null==e||0===e.length}function m(e){return null!=e&&"number"==typeof e.length}const g=new r.OlP("NgValidators"),y=new r.OlP("NgAsyncValidators"),v=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _{static min(e){return function(e){return t=>{if(f(t.value)||f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(f(t.value)||f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return f(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return f(e.value)||v.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>f(t.value)||!m(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>m(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return b;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(f(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return E(e)}static composeAsync(e){return A(e)}}function b(e){return null}function w(e){return null!=e}function C(e){const t=(0,r.QGY)(e)?(0,s.D)(e):e;return(0,r.CqO)(t),t}function S(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function x(e,t){return t.map(t=>t(e))}function T(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function E(e){if(!e)return null;const t=e.filter(w);return 0==t.length?null:function(e){return S(x(e,t))}}function k(e){return null!=e?E(T(e)):null}function A(e){if(!e)return null;const t=e.filter(w);return 0==t.length?null:function(e){const n=x(e,t).map(C);return(0,o.D)(n).pipe((0,a.U)(S))}}function I(e){return null!=e?A(T(e)):null}function O(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function P(e){return e._rawValidators}function D(e){return e._rawAsyncValidators}let R=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=k(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),F=(()=>{class e extends R{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class N extends R{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class M{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let L=(()=>{class e extends M{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(N,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Z=(()=>{class e extends M{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function U(e,t){B(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&z(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&z(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function q(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),V(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function j(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function B(e,t){const n=P(e);null!==t.validator?e.setValidators(O(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=D(e);null!==t.asyncValidator?e.setAsyncValidators(O(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();j(t._rawValidators,i),j(t._rawAsyncValidators,i)}function V(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=P(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=D(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return j(t._rawValidators,r),j(t._rawAsyncValidators,r),n}function z(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function H(e,t){B(e,t)}function G(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function $(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const W="VALID",Y="INVALID",K="PENDING",Q="DISABLED";function J(e){return(ne(e)?e.validators:e)||null}function X(e){return Array.isArray(e)?k(e):e||null}function ee(e,t){return(ne(t)?t.asyncValidators:e)||null}function te(e){return Array.isArray(e)?I(e):e||null}function ne(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class re{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=X(this._rawValidators),this._composedAsyncValidatorFn=te(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===W}get invalid(){return this.status===Y}get pending(){return this.status==K}get disabled(){return this.status===Q}get enabled(){return this.status!==Q}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=X(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=te(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Q,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=W,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==W&&this.status!==K||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q:W}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof se?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof oe&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Q:this.errors?Y:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K)?K:this._anyControlsHaveStatus(Y)?Y:W}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ne(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ie extends re{constructor(e=null,t,n){super(J(t),ee(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class se extends re{constructor(e,t,n){super(J(t),ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ie?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class oe extends re{constructor(e,t,n){super(J(t),ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ie?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ae={provide:F,useExisting:(0,r.Gpc)(()=>le)},ce=(()=>Promise.resolve(null))();let le=(()=>{class e extends F{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new se({},k(e),I(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ce.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),U(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ce.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),$(this._directives,e)})}addFormGroup(e){ce.then(()=>{const t=this._findContainer(e.path),n=new se({});H(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ce.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ce.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,G(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g,10),r.Y36(y,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ae]),r.qOj]}),e})(),ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const he={provide:u,useExisting:(0,r.Gpc)(()=>de),multi:!0};let de=(()=>{class e extends l{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[r._Bn([he]),r.qOj]}),e})(),pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const fe=new r.OlP("NgModelWithFormControlWarning"),me={provide:F,useExisting:(0,r.Gpc)(()=>ge)};let ge=(()=>{class e extends F{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(V(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return U(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){q(e.control||null,e,!1),$(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,G(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(q(t||null,e),n instanceof ie&&(U(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);H(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return V(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B(this.form,this),this._oldForm&&V(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g,10),r.Y36(y,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([me]),r.qOj,r.TTD]}),e})();const ye={provide:N,useExisting:(0,r.Gpc)(()=>ve)};let ve=(()=>{class e extends N{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===p?n=e:Object.getPrototypeOf(e.constructor)===l?r=e:i=e}),i||r||n||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return e=null==this.name?this.name:this.name.toString(),[...this._parent.path,e];var e}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,13),r.Y36(g,10),r.Y36(y,10),r.Y36(u,10),r.Y36(fe,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([ye]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})(),_e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pe]]}),e})(),be=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:fe,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[_e]}),e})(),we=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new se(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new ie(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new oe(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof ie||e instanceof se||e instanceof oe?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:be}),e})()},1095:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,ot:()=>d});var r=n(2458),i=n(6237),s=n(7716),o=n(4765);const a=["mat-button",""],c=["*"],l=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],u=(0,r.pj)((0,r.Id)((0,r.Kr)(class{constructor(e){this._elementRef=e}})));let h=(()=>{class e extends u{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of l)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.tE),s.Y36(i.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&s.Gf(r.wG,5),2&e){let e;s.iGM(e=s.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("disabled",t.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:a,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[r.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.si,r.BQ],r.BQ]}),e})()},3738:(e,t,n)=>{"use strict";n.d(t,{a8:()=>d,dn:()=>c,G2:()=>h,QW:()=>p,$j:()=>u,n5:()=>l});var r=n(6237),i=n(2458),s=n(7716);const o=["*",[["mat-card-footer"]]],a=["*","mat-card-footer"];let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),e})(),d=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:a,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(o),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.BQ],i.BQ]}),e})()},2458:(e,t,n)=>{"use strict";n.d(t,{_A:()=>E,rD:()=>Z,sG:()=>k,K7:()=>ie,HF:()=>ee,BQ:()=>_,X2:()=>U,uc:()=>B,XK:()=>L,ey:()=>ce,Ng:()=>he,nP:()=>J,us:()=>X,wG:()=>K,si:()=>Q,CB:()=>le,jH:()=>ue,pj:()=>w,Kr:()=>C,Id:()=>b,FD:()=>x,sb:()=>S,E0:()=>q});var r=n(7716),i=n(4765),s=n(946);const o=new r.GfV("12.2.13");var a=n(8583),c=n(521),l=n(9490),u=n(9765),h=n(9761),d=n(6237),p=n(6461);function f(e,t){if(1&e&&r._UZ(0,"mat-pseudo-checkbox",4),2&e){const e=r.oxw();r.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function m(e,t){if(1&e&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const g=["*"],y=new r.GfV("12.2.13"),v=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||(0,c.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&y.full!==o.full&&console.warn("The Angular Material version ("+y.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.qm),r.LFG(v,8),r.LFG(a.K0))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.vT],s.vT]}),e})();function b(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}}}function w(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function C(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,l.Ig)(e)}}}function S(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?(0,l.su)(e):this.defaultTabIndex}}}function x(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new u.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}const T=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class E{constructor(){this._localeChanges=new u.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const k=new r.OlP("mat-date-formats");let A;try{A="undefined"!=typeof Intl}catch(de){A=!1}const I={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},O=R(31,e=>String(e+1)),P={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},D=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function R(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}let F=(()=>{class e extends E{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(A){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return R(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return I[e]}getDateNames(){if(A){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return R(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return O}getDayOfWeekNames(e){if(A){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return R(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return P[e]}getYearName(e){if(A){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(A){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(D.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date;return r.setFullYear(e,t,n),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(T,8),r.LFG(c.t4))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:E,useClass:F}],imports:[[c.ud]]}),e})();const M={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:k,useValue:M}],imports:[[N]]}),e})(),Z=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function q(e,t,n="mat"){e.changes.pipe((0,h.O)(e)).subscribe(({length:e})=>{j(t,`${n}-2-line`,!1),j(t,`${n}-3-line`,!1),j(t,`${n}-multi-line`,!1),2===e||3===e?j(t,`${n}-${e}-line`,!0):e>3&&j(t,`${n}-multi-line`,!0)})}function j(e,t,n){const r=e.nativeElement.classList;n?r.add(t):r.remove(t)}let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[_],_]}),e})();class V{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const z={enterDuration:225,exitDuration:150},H=(0,c.i$)({passive:!0}),G=["mousedown","touchstart"],$=["mouseup","mouseleave","touchend","touchcancel"];class W{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=(0,l.fI)(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},z),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new V(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},z),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=(0,l.fI)(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(G))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=(0,i.X6)(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!(0,i.yG)(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,H)})})}_removeTriggerEvents(){this._triggerElement&&(G.forEach(e=>{this._triggerElement.removeEventListener(e,this,H)}),this._pointerUpEventsRegistered&&$.forEach(e=>{this._triggerElement.removeEventListener(e,this,H)}))}}const Y=new r.OlP("mat-ripple-global-options");let K=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new W(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(c.t4),r.Y36(Y,8),r.Y36(d.Qb,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[_,c.ud],_]}),e})(),J=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(d.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[_]]}),e})();const ee=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),te=b(class{});let ne=0,re=(()=>{class e extends te{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+ne++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ee,8))},e.\u0275dir=r.lG2({type:e,inputs:{label:"label"},features:[r.qOj]}),e})();const ie=new r.OlP("MatOptgroup");let se=0;class oe{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let ae=(()=>{class e{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+se++,this.onSelectionChange=new r.vpe,this._stateChanges=new u.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){e.keyCode!==p.K5&&e.keyCode!==p.L_||(0,p.Vb)(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new oe(this,e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(void 0),r.Y36(re))},e.\u0275dir=r.lG2({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),ce=(()=>{class e extends ae{constructor(e,t,n,r){super(e,t,n,r)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(ee,8),r.Y36(ie,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(r.Ikx("id",t.id),r.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),r.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:g,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,f,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,m,2,1,"span",2),r._UZ(4,"div",3)),2&e&&(r.Q6J("ngIf",t.multiple),r.xp6(3),r.Q6J("ngIf",t.group&&t.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[a.O5,K,J],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function le(e,t,n){if(n.length){let r=t.toArray(),i=n.toArray(),s=0;for(let t=0;t<e+1;t++)r[t].group&&r[t].group===i[s]&&s++;return s}return 0}function ue(e,t,n,r){return e<n?e:e+t>n+r?Math.max(0,e-r+t):n}let he=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Q,a.ez,_,X]]}),e})()},2238:(e,t,n)=>{"use strict";n.d(t,{uw:()=>D,H8:()=>L,ZT:()=>F,xY:()=>M,Is:()=>U,so:()=>T,uh:()=>N});var r=n(625),i=n(7636),s=n(7716),o=n(2458),a=n(946),c=n(8583),l=n(9765),u=n(1439),h=n(5917),d=n(5435),p=n(5257),f=n(9761),m=n(521),g=n(7238),y=n(6461),v=n(4765);function _(e,t){}class b{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const w={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1}))),(0,g.eR)("* => void, * => exit",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})))])};let C=(()=>{class e extends i.en{constructor(e,t,n,r,i,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=i,this._focusMonitor=o,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=(0,m.ht)(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=(0,m.ht)();return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(v.qV),s.Y36(s.sBO),s.Y36(c.K0,8),s.Y36(b),s.Y36(v.tE))},e.\u0275dir=s.lG2({type:e,viewQuery:function(e,t){if(1&e&&s.Gf(i.Pl,7),2&e){let e;s.iGM(e=s.CRH())&&(t._portalOutlet=e.first)}},features:[s.qOj]}),e})(),S=(()=>{class e extends C{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&s.WFA("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(s.Ikx("id",t._id),s.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),s.d8E("@dialogContainer",t._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.YNc(0,_,0,0,"ng-template",0)},directives:[i.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[w.dialogContainer]}}),e})(),x=0;class T{constructor(e,t,n="mat-dialog-"+x++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new l.xQ,this._afterClosed=new l.xQ,this._beforeClosed=new l.xQ,this._state=0,t._id=n,t._animationStateChanged.pipe((0,d.h)(e=>"opened"===e.state),(0,p.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,d.h)(e=>"closed"===e.state),(0,p.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe((0,d.h)(e=>e.keyCode===y.hY&&!this.disableClose&&!(0,y.Vb)(e))).subscribe(e=>{e.preventDefault(),E(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():E(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,d.h)(e=>"closing"===e.state),(0,p.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function E(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const k=new s.OlP("MatDialogData"),A=new s.OlP("mat-dialog-default-options"),I=new s.OlP("mat-dialog-scroll-strategy"),O={provide:I,deps:[r.aV],useFactory:function(e){return()=>e.scrollStrategies.block()}};let P=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new l.xQ,this._afterOpenedAtThisLevel=new l.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new b)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new r.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:b,useValue:t}]}),r=new i.C5(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(r).instance}_attachDialogContent(e,t,n,r){const o=new this._dialogRefConstructor(n,t,r.id);if(e instanceof s.Rgc)t.attachTemplatePortal(new i.UE(e,null,{$implicit:r.data,dialogRef:o}));else{const n=this._createInjector(r,o,t),s=t.attachComponentPortal(new i.C5(e,r.viewContainerRef,n));o.componentInstance=s.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(e,t,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||r&&r.get(a.Is,null,s.XFs.Optional)||i.push({provide:a.Is,useValue:{value:e.direction,change:(0,h.of)()}}),s.zs3.create({parent:r||this._injector,providers:i})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(r.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},e.\u0275dir=s.lG2({type:e}),e})(),D=(()=>{class e extends P{constructor(e,t,n,r,i,s,o){super(e,t,r,s,o,i,T,S,k)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.aV),s.LFG(s.zs3),s.LFG(c.Ye,8),s.LFG(A,8),s.LFG(I),s.LFG(e,12),s.LFG(r.Xj))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),R=0,F=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Z(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){E(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(T,8),s.Y36(s.SBq),s.Y36(D))},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t._onButtonClick(e)}),2&e&&s.uIk("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),e})(),N=(()=>{class e{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id="mat-dialog-title-"+R++}ngOnInit(){this._dialogRef||(this._dialogRef=Z(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(T,8),s.Y36(s.SBq),s.Y36(D))},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&s.Ikx("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e})();function Z(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[D,O],imports:[[r.U8,i.eL,o.BQ],o.BQ]}),e})()},8295:(e,t,n)=>{"use strict";n.d(t,{G_:()=>K,TO:()=>L,KE:()=>Q,Eo:()=>U,lN:()=>J,hX:()=>j,qo:()=>z,R9:()=>G});var r=n(8553),i=n(8583),s=n(7716),o=n(2458),a=n(9490),c=n(9765),l=n(6682),u=n(2759),h=n(9761),d=n(6782),p=n(5257),f=n(7238),m=n(6237),g=n(946),y=n(521);const v=["underline"],_=["connectionContainer"],b=["inputContainer"],w=["label"];function C(e,t){1&e&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function S(e,t){1&e&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function x(e,t){if(1&e&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&e){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function T(e,t){1&e&&s.Hsn(0,3,["*ngSwitchCase","true"])}function E(e,t){1&e&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function k(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,x,4,1,"ng-container",12),s.YNc(3,T,1,0,"ng-content",12),s.YNc(4,E,2,0,"span",22),s.qZA()}if(2&e){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function A(e,t){1&e&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function I(e,t){if(1&e&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function O(e,t){if(1&e&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function P(e,t){if(1&e&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function D(e,t){if(1&e&&(s.TgZ(0,"div",28),s.YNc(1,P,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const R=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let N=0;const M=new s.OlP("MatError");let L=(()=>{class e{constructor(e,t){this.id="mat-error-"+N++,e||t.nativeElement.setAttribute("aria-live","polite")}}return e.\u0275fac=function(t){return new(t||e)(s.$8M("aria-live"),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&s.uIk("id",t.id)},inputs:{id:"id"},features:[s._Bn([{provide:M,useExisting:e}])]}),e})();const Z={transitionMessages:(0,f.X$)("transitionMessages",[(0,f.SB)("enter",(0,f.oB)({opacity:1,transform:"translateY(0%)"})),(0,f.eR)("void => enter",[(0,f.oB)({opacity:0,transform:"translateY(-5px)"}),(0,f.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e}),e})();const q=new s.OlP("MatHint");let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-label"]]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const V=new s.OlP("MatPrefix");let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:V,useExisting:e}])]}),e})();const H=new s.OlP("MatSuffix");let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:H,useExisting:e}])]}),e})(),$=0;const W=(0,o.pj)(class{constructor(e){this._elementRef=e}},"primary"),Y=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),K=new s.OlP("MatFormField");let Q=(()=>{class e extends W{constructor(e,t,n,r,i,s,o,a){super(e),this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new c.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$++,this._labelId="mat-form-field-label-"+$++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,a.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,d.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,l.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,u.R)(this._label.nativeElement,"transitionend").pipe((0,p.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let e=0;e<o.length;e++)c+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(g.Is,8),s.Y36(Y,8),s.Y36(y.t4),s.Y36(s.R0b),s.Y36(m.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,U,5),s.Suo(n,U,7),s.Suo(n,j,5),s.Suo(n,j,7),s.Suo(n,B,5),s.Suo(n,M,5),s.Suo(n,q,5),s.Suo(n,V,5),s.Suo(n,H,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._controlNonStatic=e.first),s.iGM(e=s.CRH())&&(t._controlStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildNonStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildStatic=e.first),s.iGM(e=s.CRH())&&(t._placeholderChild=e.first),s.iGM(e=s.CRH())&&(t._errorChildren=e),s.iGM(e=s.CRH())&&(t._hintChildren=e),s.iGM(e=s.CRH())&&(t._prefixChildren=e),s.iGM(e=s.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(s.Gf(v,5),s.Gf(_,7),s.Gf(b,5),s.Gf(w,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.underlineRef=e.first),s.iGM(e=s.CRH())&&(t._connectionContainerRef=e.first),s.iGM(e=s.CRH())&&(t._inputContainerRef=e.first),s.iGM(e=s.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:K,useExisting:e}]),s.qOj],ngContentSelectors:F,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(s.F$t(R),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),s.YNc(3,C,9,0,"ng-container",3),s.YNc(4,S,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,k,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,A,2,0,"div",9),s.qZA(),s.YNc(11,I,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,O,2,1,"div",12),s.YNc(14,D,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==t.appearance),s.xp6(1),s.Q6J("ngIf",t._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",t._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",t._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=t.appearance),s.xp6(1),s.Q6J("ngSwitch",t._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[i.O5,i.RF,i.n9,r.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Z.transitionMessages]},changeDetection:0}),e})(),J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.BQ,r.Q8],o.BQ]}),e})()},1552:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>W,Ps:()=>Y});var r=n(7716),i=n(2458),s=n(9490),o=n(8583),a=n(5917),c=n(205),l=n(5758),u=n(5319),h=n(3342),d=n(8002),p=n(5304),f=n(197),m=n(8819),g=n(5257),y=(n(7574),n(4612)),v=n(5435);class _{}class b{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof b?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new b;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof b?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class w{encodeKey(e){return C(e)}encodeValue(e){return C(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function C(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function S(e){return`${e}`}class x{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new w,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new x({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(S(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(S(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class T{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function E(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function k(e){return"undefined"!=typeof Blob&&e instanceof Blob}function A(e){return"undefined"!=typeof FormData&&e instanceof FormData}class I{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new b),this.context||(this.context=new T),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new x,this.urlWithParams=t}serializeBody(){return null===this.body?null:E(this.body)||k(this.body)||A(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof x?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||A(this.body)?null:k(this.body)?this.body.type||null:E(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof x?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new I(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var O=(()=>((O=O||{})[O.Sent=0]="Sent",O[O.UploadProgress=1]="UploadProgress",O[O.ResponseHeader=2]="ResponseHeader",O[O.DownloadProgress=3]="DownloadProgress",O[O.Response=4]="Response",O[O.User=5]="User",O))();class P extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new b,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=O.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new P({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function D(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let R=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof I)r=e;else{let i,s;i=n.headers instanceof b?n.headers:new b(n.headers),n.params&&(s=n.params instanceof x?n.params:new x({fromObject:n.params})),r=new I(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,a.of)(r).pipe((0,y.b)(e=>this.handler.handle(e)));if(e instanceof I||"events"===n.observe)return i;const s=i.pipe((0,v.h)(e=>e instanceof P));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,d.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,d.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,d.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,d.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new x).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,D(n,t))}post(e,t,n={}){return this.request("POST",e,D(n,t))}put(e,t,n={}){return this.request("PUT",e,D(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var F=n(9075);const N=["*"];function M(e){return Error(`Unable to find icon with the name "${e}"`)}function L(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Z(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class U{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let q=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new U(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw Z(n);return this._addSvgIconConfig(e,t,new U("",s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new U(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw Z(t);return this._addSvgIconSetConfig(e,new U("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw L(e);const n=this._cachedIconsByUrl.get(t);return n?(0,a.of)(j(n)):this._loadSvgIconFromConfig(new U(e,null)).pipe((0,h.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,d.U)(e=>j(e)))}getNamedSvgIcon(e,t=""){const n=B(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):(0,c._)(M(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,a.of)(j(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,d.U)(e=>j(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);if(n)return(0,a.of)(n);const i=t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe((0,p.K)(t=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),(0,a.of)(null)})));return(0,l.D)(i).pipe((0,d.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw M(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,h.b)(t=>e.svgText=t),(0,d.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,a.of)(null):this._fetchIcon(e).pipe((0,h.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,s=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw L(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,f.x)(()=>this._inProgressUrlFetches.delete(o)),(0,m.B)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(B(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](t,e);if(i)return(n=i).url&&n.options?new U(i.url,null,i.options):new U(i,null)}var n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(R,8),r.LFG(F.H7),r.LFG(o.K0,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(R,8),r.LFG(F.H7),r.LFG(o.K0,8),r.LFG(r.qLn))},token:e,providedIn:"root"}),e})();function j(e){return e.cloneNode(!0)}function B(e,t){return e+":"+t}const V=(0,i.pj)(class{constructor(e){this._elementRef=e}}),z=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(o.K0),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),H=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],G=H.map(e=>`[${e}]`).join(", "),$=/^url\(['"]?#(.*?)['"]?\)$/;let W=(()=>{class e extends V{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=u.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=(0,s.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(G),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)H.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match($):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe((0,g.q)(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(q),r.$8M("aria-hidden"),r.Y36(z),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:N,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.BQ],i.BQ]}),e})()},3166:(e,t,n)=>{"use strict";n.d(t,{Jk:()=>h,Nt:()=>m,c:()=>g});var r=n(6109),i=n(7716),s=n(9490),o=n(521),a=n(2458),c=n(8295),l=n(9765),u=n(3679);const h=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),d=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let p=0;const f=(0,a.FD)(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});let m=(()=>{class e extends f{constructor(e,t,n,r,i,s,a,c,u,h){super(s,r,i,n),this._elementRef=e,this._platform=t,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+p++,this.focused=!1,this.stateChanges=new l.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>(0,o.qK)().has(e));const d=this._elementRef.nativeElement,f=d.nodeName.toLowerCase();this._inputValueAccessor=a||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;t.value||0!==t.selectionStart||0!==t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,s.Ig)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=(0,s.Ig)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&(0,o.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,s.Ig)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){d.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(o.t4),i.Y36(u.a5,10),i.Y36(u.F,8),i.Y36(u.sg,8),i.Y36(a.rD),i.Y36(h,10),i.Y36(r.Lq),i.Y36(i.R0b),i.Y36(c.G_,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&i.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Ikx("disabled",t.disabled)("required",t.required),i.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),i.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i._Bn([{provide:c.Eo,useExisting:e}]),i.qOj,i.TTD]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[a.rD],imports:[[r.Ky,c.lN,a.BQ],r.Ky,c.lN]}),e})()},9992:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>b,ie:()=>w,Hk:()=>y});var r=n(8583),i=n(7716),s=n(2458),o=n(9490),a=n(9765),c=n(6782);n(9761),n(4765),n(8345),n(6461),n(3679);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.BQ],s.BQ]}),e})();const u=["*"],h=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],d=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],p=(0,s.Id)((0,s.Kr)(class{})),f=(0,s.Kr)(class{}),m=new i.OlP("MatList"),g=new i.OlP("MatNavList");let y=(()=>{class e extends p{constructor(){super(...arguments),this._stateChanges=new a.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[i._Bn([{provide:g,useExisting:e}]),i.qOj,i.TTD],ngContentSelectors:u,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),b=(()=>{class e extends f{constructor(e,t,n,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new a.xQ,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,c.R)(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=(0,o.Ig)(e)}ngAfterContentInit(){(0,s.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(g,8),i.Y36(m,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,v,5),i.Suo(n,_,5),i.Suo(n,s.X2,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._avatar=e.first),i.iGM(e=i.CRH())&&(t._icon=e.first),i.iGM(e=i.CRH())&&(t._lines=e)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&i.ekj("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.qOj],ngContentSelectors:d,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(i.F$t(h),i.TgZ(0,"div",0),i._UZ(1,"div",1),i.Hsn(2),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.Hsn(5,2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[s.wG],encapsulation:2,changeDetection:0}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.uc,s.si,s.BQ,s.us,r.ez],s.uc,s.BQ,s.us,l]}),e})()},7441:(e,t,n)=>{"use strict";n.d(t,{gD:()=>H,LD:()=>G});var r=n(625),i=n(8583),s=n(7716),o=n(2458),a=n(8295),c=n(2692),l=n(4765),u=n(9490),h=n(8345),d=n(6461),p=n(9765),f=n(1439),m=n(6682),g=n(9761),y=n(3190),v=n(5257),_=n(5435),b=n(8002),w=n(7519),C=n(6782),S=n(7238),x=n(946),T=n(3679);const E=["trigger"],k=["panel"];function A(e,t){if(1&e&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function I(e,t){if(1&e&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function O(e,t){1&e&&s.Hsn(0,0,["*ngSwitchCase","true"])}function P(e,t){if(1&e&&(s.TgZ(0,"span",9),s.YNc(1,I,2,1,"span",10),s.YNc(2,O,1,0,"ng-content",11),s.qZA()),2&e){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function D(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",14,15),s.NdJ("@transformPanel.done",function(t){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return s.CHM(e),s.oxw()._handleKeydown(t)}),s.Hsn(3,1),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const R=[[["mat-select-trigger"]],"*"],F=["mat-select-trigger","*"],N={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,S.SB)("showing",(0,S.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,S.SB)("showing-multiple",(0,S.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,S.eR)("void => *",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,S.eR)("* => void",(0,S.jt)("100ms 25ms linear",(0,S.oB)({opacity:0})))])};let M=0;const L=256,Z=new s.OlP("mat-select-scroll-strategy"),U=new s.OlP("MAT_SELECT_CONFIG"),q={provide:Z,deps:[r.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class j{constructor(e,t){this.source=e,this.value=t}}const B=(0,o.Kr)((0,o.sb)((0,o.Id)((0,o.FD)(class{constructor(e,t,n,r,i){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}})))),V=new s.OlP("MatSelectTrigger");let z=(()=>{class e extends B{constructor(e,t,n,r,i,o,a,c,l,u,h,d,w,C){var S,x,T;super(i,r,a,c,u),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=o,this._parentFormField=l,this._liveAnnouncer=w,this._defaultOptions=C,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+M++,this._triggerAriaLabelledBy=null,this._destroy=new p.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+M++,this._panelDoneAnimatingStream=new p.xQ,this._overlayPanelClass=(null===(S=this._defaultOptions)||void 0===S?void 0:S.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(T=null===(x=this._defaultOptions)||void 0===x?void 0:x.disableOptionCentering)&&void 0!==T&&T,this.ariaLabel="",this.optionSelectionChanges=(0,f.P)(()=>{const e=this.options;return e?e.changes.pipe((0,g.O)(e),(0,y.w)(()=>(0,m.T)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe((0,v.q)(1),(0,y.w)(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe((0,_.h)(e=>e),(0,b.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,_.h)(e=>!e),(0,b.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==C?void 0:C.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=C.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=(0,u.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,u.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,u.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,u.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,w.x)(),(0,C.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,C.R)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe((0,g.O)(null),(0,C.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=t===d.JH||t===d.LH||t===d.oh||t===d.SV,r=t===d.K5||t===d.L_,i=this._keyManager;if(!i.isTyping()&&r&&!(0,d.Vb)(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;i.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,r=n===d.JH||n===d.LH,i=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(i||n!==d.K5&&n!==d.L_||!t.activeItem||(0,d.Vb)(e))if(!i&&this._multiple&&n===d.A&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,v.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{if(this._selectionModel.isSelected(t))return!1;try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new l.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,C.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,m.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,C.R)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,m.T)(...this.options.map(e=>e._stateChanges)).pipe((0,C.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.rL),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(o.rD),s.Y36(s.SBq),s.Y36(x.Is,8),s.Y36(T.F,8),s.Y36(T.sg,8),s.Y36(a.G_,8),s.Y36(T.a5,10),s.$8M("tabindex"),s.Y36(Z),s.Y36(l.Kd),s.Y36(U,8))},e.\u0275dir=s.lG2({type:e,viewQuery:function(e,t){if(1&e&&(s.Gf(E,5),s.Gf(k,5),s.Gf(r.pI,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.trigger=e.first),s.iGM(e=s.CRH())&&(t.panel=e.first),s.iGM(e=s.CRH())&&(t._overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),e})(),H=(()=>{class e extends z{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,v.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const t=(0,o.CB)(e,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===t?0:(0,o.jH)((e+t)*n,n,this.panel.nativeElement.scrollTop,L)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new j(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let e=this._selectionModel.selected[0]||this.options.first;i=e&&e.group?32:16}n||(i*=-1);const s=0-(e.left+i-(n?r:0)),o=e.right+i-t.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this._overlayDir.offsetX=Math.round(i),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(L/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?e*r:this._scrollTop===n?(e-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-L)%r):t-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,L)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,L),r=t*e-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=(0,o.CB)(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,V,5),s.Suo(n,o.ey,5),s.Suo(n,o.K7,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.customTrigger=e.first),s.iGM(e=s.CRH())&&(t.options=e),s.iGM(e=s.CRH())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&s.NdJ("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(s.uIk("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),s.ekj("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:a.Eo,useExisting:e},{provide:o.HF,useExisting:e}]),s.qOj],ngContentSelectors:F,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(s.F$t(R),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return t.toggle()}),s.TgZ(3,"div",2),s.YNc(4,A,2,1,"span",3),s.YNc(5,P,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.qZA(),s.YNc(8,D,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=s.MAs(1);s.uIk("aria-owns",t.panelOpen?t.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",t.empty),s.uIk("id",t._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[r.xu,i.RF,i.n9,r.pI,i.ED,i.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[N.transformPanelWrap,N.transformPanel]},changeDetection:0}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[q],imports:[[i.ez,r.U8,o.Ng,o.BQ],c.ZD,a.lN,o.Ng,o.BQ]}),e})()},3017:(e,t,n)=>{"use strict";n.d(t,{JX:()=>H,TM:()=>G,Rh:()=>z,SJ:()=>$});var r=n(521),i=n(2692),s=n(8583),o=n(7716),a=n(2458),c=n(9490),l=n(6461),u=n(9765),h=n(2759),d=n(6682),p=n(7393);function f(e){return t=>t.lift(new m(e))}class m{constructor(e){this.value=e}call(e,t){return t.subscribe(new g(e,this.value))}}class g extends p.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var y=n(5435),v=n(8002),_=n(6782),b=n(7519),w=n(5257),C=n(9761),S=n(4395),x=n(7238),T=n(6237),E=n(4765),k=n(946);const A=["*"];function I(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function O(e,t){1&e&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const P=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],D=["mat-drawer","mat-drawer-content","*"];function R(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function F(e,t){1&e&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const N=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],M=["mat-sidenav","mat-sidenav-content","*"],L=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Z={transformDrawer:(0,x.X$)("transform",[(0,x.SB)("open, open-instant",(0,x.oB)({transform:"none",visibility:"visible"})),(0,x.SB)("void",(0,x.oB)({"box-shadow":"none",visibility:"hidden"})),(0,x.eR)("void => open-instant",(0,x.jt)("0ms")),(0,x.eR)("void <=> open, open-instant => void",(0,x.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},U=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),q=new o.OlP("MAT_DRAWER_CONTAINER");let j=(()=>{class e extends i.PQ{constructor(e,t,n,r,i){super(n,r,i),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>V)),o.Y36(o.SBq),o.Y36(i.mF),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:A,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),B=(()=>{class e{constructor(e,t,n,r,i,s,a){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=r,this._ngZone=i,this._doc=s,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new u.xQ,this._animationEnd=new u.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe((0,y.h)(e=>e),(0,v.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,y.h)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),f(void 0)),this._closedStream=this.openedChange.pipe((0,y.h)(e=>!e),(0,v.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,y.h)(e=>e.fromState!==e.toState&&"void"===e.toState),f(void 0)),this._destroyed=new u.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new u.xQ,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,h.R)(this._elementRef.nativeElement,"keydown").pipe((0,y.h)(e=>e.keyCode===l.hY&&!this.disableClose&&!(0,l.Vb)(e)),(0,_.R)(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe((0,b.x)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,c.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=(0,c.Ig)(e)}get opened(){return this._opened}set opened(e){this.toggle((0,c.Ig)(e))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,n="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe((0,w.q)(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(E.qV),o.Y36(E.tE),o.Y36(r.t4),o.Y36(o.R0b),o.Y36(s.K0,8),o.Y36(q,8))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&o.WFA("@transform.start",function(e){return t._animationStartListener(e)})("@transform.done",function(e){return t._animationDoneListener(e)}),2&e&&(o.uIk("align",null),o.d8E("@transform",t._animationState),o.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:A,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[i.PQ],encapsulation:2,data:{animation:[Z.transformDrawer]},changeDetection:0}),e})(),V=(()=>{class e{constructor(e,t,n,r,i,s=!1,a){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=a,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new u.xQ,this._doCheckSubject=new u.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new u.xQ,e&&e.change.pipe((0,_.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe((0,_.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,c.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,c.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,C.O)(this._allDrawers),(0,_.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,C.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,S.b)(10),(0,_.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();t+=n,e-=n}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,y.h)(e=>e.fromState!==e.toState),(0,_.R)(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,_.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe((0,_.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,w.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,_.R)((0,d.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(k.Is,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(i.rL),o.Y36(U),o.Y36(T.Qb,8))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){if(1&e&&(o.Suo(n,j,5),o.Suo(n,B,5)),2&e){let e;o.iGM(e=o.CRH())&&(t._content=e.first),o.iGM(e=o.CRH())&&(t._allDrawers=e)}},viewQuery:function(e,t){if(1&e&&o.Gf(j,5),2&e){let e;o.iGM(e=o.CRH())&&(t._userContent=e.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:q,useExisting:e}])],ngContentSelectors:D,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(o.F$t(P),o.YNc(0,I,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,O,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",t.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!t._content))},directives:[s.O5,j],styles:[L],encapsulation:2,changeDetection:0}),e})(),z=(()=>{class e extends j{constructor(e,t,n,r,i){super(e,t,n,r,i)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>G)),o.Y36(o.SBq),o.Y36(i.mF),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:A,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),H=(()=>{class e extends B{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,c.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,c.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,c.su)(e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(o.uIk("align",null),o.Udp("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:A,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[i.PQ],encapsulation:2,data:{animation:[Z.transformDrawer]},changeDetection:0}),e})(),G=(()=>{class e extends V{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){if(1&e&&(o.Suo(n,z,5),o.Suo(n,H,5)),2&e){let e;o.iGM(e=o.CRH())&&(t._content=e.first),o.iGM(e=o.CRH())&&(t._allDrawers=e)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:q,useExisting:e}]),o.qOj],ngContentSelectors:M,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(o.F$t(N),o.YNc(0,R,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,F,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",t.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!t._content))},directives:[s.O5,z,i.PQ],styles:[L],encapsulation:2,changeDetection:0}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,a.BQ,r.ud,i.ZD],i.ZD,a.BQ]}),e})()},2522:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>h,g0:()=>d});var r=n(2458),i=n(8583),s=n(7716),o=n(521);const a=["*",[["mat-toolbar-row"]]],c=["*","mat-toolbar-row"],l=(0,r.pj)(class{constructor(e){this._elementRef=e}});let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),h=(()=>{class e extends l{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.t4),s.Y36(i.K0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){if(1&e&&s.Suo(n,u,5),2&e){let e;s.iGM(e=s.CRH())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&s.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(a),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.BQ],r.BQ]}),e})()},6237:(e,t,n)=>{"use strict";n.d(t,{Qb:()=>Dt,PW:()=>Mt});var r=n(7716),i=n(9075),s=n(7238);function o(){return"undefined"!=typeof window&&void 0!==window.document}function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function c(e){switch(e.length){case 0:return new s.ZN;case 1:return e[0];default:return new s.ZE(e)}}function l(e,t,n,r,i={},o={}){const a=[],c=[];let l=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==l,h=r&&u||{};Object.keys(e).forEach(n=>{let r=n,c=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),c){case s.k1:c=i[n];break;case s.l3:c=o[n];break;default:c=t.normalizeStyleValue(n,r,c,a)}h[r]=c}),r||c.push(h),u=h,l=n}),a.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${a.join(e)}`)}return c}function u(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&h(n,"start",e)));break;case"done":e.onDone(()=>r(n&&h(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&h(n,"destroy",e)))}}function h(e,t,n){const r=n.totalTime,i=d(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function d(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function p(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function f(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let m=(e,t)=>!1,g=(e,t)=>!1,y=(e,t,n)=>[];const v=a();(v||"undefined"!=typeof Element)&&(m=o()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),g=(()=>{if(v||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):g}})(),y=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let _=null,b=!1;function w(e){_||(_=("undefined"!=typeof document?document.body:null)||{},b=!!_.style&&"WebkitAppearance"in _.style);let t=!0;return _.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in _.style,!t&&b)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in _.style),t}const C=g,S=m,x=y;function T(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let E=(()=>{class e{validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return x(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],a){return new s.ZN(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class k{}k.NOOP=new E;const A="ng-enter",I="ng-leave",O="ng-trigger",P=".ng-trigger",D="ng-animating",R=".ng-animating";function F(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:N(parseFloat(t[1]),t[2])}function N(e,t){switch(t){case"s":return 1e3*e;default:return e}}function M(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=N(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=N(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function L(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Z(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else L(e,n);return n}function U(e,t,n){return n?t+":"+n+";":""}function q(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=U(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=U(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function j(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Y(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),a()&&q(e))}function B(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Y(t);e.style[n]=""}),a()&&q(e))}function V(e){return Array.isArray(e)?1==e.length?e[0]:(0,s.vP)(e):e}const z=new RegExp("{{\\s*(.+?)\\s*}}","g");function H(e){let t=[];if("string"==typeof e){let n;for(;n=z.exec(e);)t.push(n[1]);z.lastIndex=0}return t}function G(e,t,n){const r=e.toString(),i=r.replace(z,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function $(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const W=/-+([a-z0-9])/g;function Y(e){return e.replace(W,(...e)=>e[1].toUpperCase())}function K(e,t){return 0===e||0===t}function Q(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=X(e,t)})}}return t}function J(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function X(e,t){return window.getComputedStyle(e)[t]}const ee="*";function te(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(ie(i,o)),"<"!=s[0]||i==ee&&o==ee||t.push(ie(o,i))}(e,n,t)):n.push(e),n}const ne=new Set(["true","1"]),re=new Set(["false","0"]);function ie(e,t){const n=ne.has(e)||re.has(e),r=ne.has(t)||re.has(t);return(i,s)=>{let o=e==ee||e==i,a=t==ee||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?ne.has(e):re.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?ne.has(t):re.has(t)),o&&a}}const se=new RegExp("s*:selfs*,?","g");function oe(e,t,n){return new ae(e).build(t,n)}class ae{constructor(e){this._driver=e}build(e,t){const n=new ce(t);return this._resetContextStyleTimingState(n),J(this,V(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(le(e)){const t=e;Object.keys(t).forEach(e=>{H(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=$(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=J(this,V(e.animation),t);return{type:1,matchers:te(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>J(this,e,t)),options:ue(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=J(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:ue(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return he(M(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=he(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||M(r,t),he(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:(0,s.oB)({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=(0,s.oB)(e)}t.currentTime+=n.duration+n.delay;const a=this.visitStyle(i,t);a.isEmptyStep=o,r=a}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==s.l3?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(le(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=H(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(le(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(le(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;r>0&&r<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return c.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:J(this,V(e.animation),t),options:ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ue(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(se,"")),[e=e.replace(/@\*/g,P).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,R),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,p(t.collectedStyles,t.currentQuerySelector,{});const o=J(this,V(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:M(e.timings,t.errors,!0);return{type:12,animation:J(this,V(e.animation),t),timings:n,options:null}}}class ce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function le(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){var t;return e?(e=L(e)).params&&(e.params=(t=e.params)?L(t):null):e={},e}function he(e,t,n){return{duration:e,delay:t,easing:n}}function de(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pe{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fe=new RegExp(":enter","g"),me=new RegExp(":leave","g");function ge(e,t,n,r,i,s={},o={},a,c,l=[]){return(new ye).buildKeyframes(e,t,n,r,i,s,o,a,c,l)}class ye{buildKeyframes(e,t,n,r,i,s,o,a,c,l=[]){c=c||new pe;const u=new _e(e,t,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),J(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[de(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?F(n.duration):null,s=null!=n.delay?F(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),J(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ve);const e=F(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>J(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?F(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),J(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return M(t.params?G(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?F(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ve);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),J(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;J(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ve={};class _e{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ve,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new be(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=F(n.duration)),null!=n.delay&&(r.delay=F(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=G(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new _e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=ve,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(fe,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class be{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new be(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||s.l3,this._currentKeyframe[e]=s.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=s.l3})):Z(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=G(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:s.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const a=Z(i,!0);Object.keys(a).forEach(n=>{const r=a[n];r==s.k1?e.add(n):r==s.l3&&t.add(n)}),n||(a.offset=o/this.duration),r.push(a)});const i=e.size?$(e.values()):[],o=t.size?$(t.values()):[];if(n){const e=r[0],t=L(e);e.offset=0,t.offset=1,r=[e,t]}return de(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class we extends be{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=Z(e[0],!1);a.offset=0,i.push(a);const c=Z(e[0],!1);c.offset=Ce(o),i.push(c);const l=e.length-1;for(let r=1;r<=l;r++){let o=Z(e[r],!1);o.offset=Ce((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return de(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Ce(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Se{}class xe extends Se{normalizePropertyName(e,t){return Y(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(Te[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const Te=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ee(e,t,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const ke={};class Ae{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||ke,d=this.buildStyles(n,o&&o.params||ke,u),f=a&&a.params||ke,m=this.buildStyles(r,f,u),g=new Set,y=new Map,v=new Map,_="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=l?[]:ge(e,t,this.ast.animation,i,s,d,m,b,c,u);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return Ee(t,this._triggerName,n,r,_,d,m,[],[],y,v,C,u);w.forEach(e=>{const n=e.element,r=p(y,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=p(v,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const S=$(g.values());return Ee(t,this._triggerName,n,r,_,d,m,w,S,y,v,C)}}class Ie{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=L(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=G(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class Oe{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Ie(e.style,e.options&&e.options.params||{},n)}),Pe(this.states,"true","1"),Pe(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ae(e,t,this.states))}),this.fallbackTransition=new Ae(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Pe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const De=new pe;class Re{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=oe(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=l(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const a=new Map;if(i?(o=ge(this._driver,t,i,A,I,{},{},n,De,r),o.forEach(e=>{const t=p(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,s.l3)})});const l=c(o.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=d(t,"","","");return u(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Fe="ng-animate-queued",Ne="ng-animate-disabled",Me=".ng-animate-disabled",Le=[],Ze={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class qe{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=L(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const je="void",Be=new qe(je);class Ve{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ke(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=p(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=p(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Ke(e,O),Ke(e,"ng-trigger-"+t),a[t]=Be),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new He(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Ke(e,O),Ke(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new qe(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a||(a=Be),c.value!==je&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,c.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{B(e,n),j(e,r)})}return}const l=p(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Ke(e,Fe),s.onStart(()=>{Qe(e,Fe)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),l.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,P,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,je,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&c(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Be,a=new qe(je),c=new He(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==Ze||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Ke(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=d(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,u(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class ze{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Ve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(Ge(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!Ge(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ke(e,Ne)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qe(e,Ne))}removeNode(e,t,n,r){if(Ge(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return Ge(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,P,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,R,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return c(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Ze,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Me)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Me,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ke(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?c(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new pe,r=[],i=new Map,o=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)h.add(t[n])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Ye(f,this.collectedEnterElements),g=new Map;let y=0;m.forEach((e,t)=>{const n=A+y++;g.set(t,n),e.forEach(e=>Ke(e,n))});const v=[],_=new Set,b=new Set;for(let s=0;s<this.collectedLeaveElements.length;s++){const e=this.collectedLeaveElements[s],t=e.__ng_removed;t&&t.setForRemoval&&(v.push(e),_.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>_.add(e)):b.add(e))}const w=new Map,C=Ye(f,Array.from(_));C.forEach((e,t)=>{const n=I+y++;w.set(t,n),e.forEach(e=>Ke(e,n))}),e.push(()=>{m.forEach((e,t)=>{const n=g.get(t);e.forEach(e=>Qe(e,n))}),C.forEach((e,t)=>{const n=w.get(t);e.forEach(e=>Qe(e,n))}),v.forEach(e=>{this.processLeaveNode(e)})});const S=[],x=[];for(let s=this._namespaceList.length-1;s>=0;s--)this._namespaceList[s].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(S.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const s=!d||!this.driver.containsElement(d,i),c=w.get(i),h=g.get(i),f=this._buildInstruction(e,n,h,c,s);if(f.errors&&f.errors.length)x.push(f);else{if(s)return t.onStart(()=>B(i,f.fromStyles)),t.onDestroy(()=>j(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>B(i,f.fromStyles)),t.onDestroy(()=>j(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>p(a,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=l.get(t);e||l.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=u.get(t);r||u.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(x.length){const e=[];x.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),S.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,E=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{p(T,t,[]).push(e),e.destroy()})});const k=v.filter(e=>et(e,l,u)),O=new Map;We(O,this.driver,b,u,s.l3).forEach(e=>{et(e,l,u)&&k.push(e)});const P=new Map;m.forEach((e,t)=>{We(P,this.driver,new Set(e),l,s.k1)}),k.forEach(e=>{const t=O.get(e),n=P.get(e);O.set(e,Object.assign(Object.assign({},t),n))});const D=[],F=[],N={};o.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(h.has(t))return s.onDestroy(()=>j(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=N;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,P,O);if(s.setRealPlayer(n),e===N)D.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=c(t)),r.push(s)}}else B(t,o.fromStyles),s.onDestroy(()=>j(t,o.toStyles)),F.push(s),h.has(t)&&r.push(s)}),F.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=c(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let s=0;s<v.length;s++){const e=v[s],t=e.__ng_removed;if(Qe(e,I),t&&t.hasAnimation)continue;let n=[];if(a.size){let t=a.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,R,!0);for(let e=0;e<r.length;e++){let t=a.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Je(this,e,r):this.processLeaveNode(e)}return v.length=0,D.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),D}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==je;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,c=p(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}B(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const a=t.triggerName,u=t.element,h=[],d=new Set,f=new Set,m=t.timelines.map(t=>{const c=t.element;d.add(c);const p=c.__ng_removed;if(p&&p.removedBeforeQueried)return new s.ZN(t.duration,t.delay);const m=c!==u,g=function(e){const t=[];return Xe(e,t),t}((n.get(c)||Le).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===c),y=i.get(c),v=o.get(c),_=l(0,this._normalizer,0,t.keyframes,y,v),b=this._buildPlayer(t,_,g);if(t.subTimeline&&r&&f.add(c),m){const t=new He(e,a,c);t.setRealPlayer(b),h.push(t)}return b});h.forEach(e=>{p(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),d.forEach(e=>Ke(e,D));const g=c(m);return g.onDestroy(()=>{d.forEach(e=>Qe(e,D)),j(u,t.toStyles)}),f.forEach(e=>{p(r,e,[]).push(g)}),g}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new s.ZN(e.duration,e.delay)}}class He{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new s.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>u(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){p(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ge(e){return e&&1===e.nodeType}function $e(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function We(e,t,n,r,i){const s=[];n.forEach(e=>s.push($e(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Ue,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>$e(e,s[a++])),o}function Ye(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function Ke(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Qe(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Je(e,t,n){c(n).onDone(()=>e.processLeaveNode(t))}function Xe(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof s.ZE?Xe(r.players,t):t.push(r)}}function et(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class tt{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new ze(e,t,n),this._timelineEngine=new Re(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=oe(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new Oe(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=f(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=f(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nt(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=it(t[0]),t.length>1&&(r=it(t[t.length-1]))):t&&(n=it(t)),n||r?new rt(e,n,r):null}class rt{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=rt.initialStylesByElement.get(e);r||rt.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&j(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(j(this._element,this._initialStyles),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rt.initialStylesByElement.delete(this._element),this._startStyles&&(B(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B(this._element,this._endStyles),this._endStyles=null),j(this._element,this._initialStyles),this._state=3)}}function it(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];st(i)&&(t=t||{},t[i]=e[i])}return t}function st(e){return"display"===e||"position"===e}rt.initialStylesByElement=new WeakMap;const ot="animation",at="animationend";class ct{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=ft(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),pt(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lt(this._element,this._name,"paused")}resume(){lt(this._element,this._name,"running")}setPosition(e){const t=ut(this._element,this._name);this._position=e*this._duration,pt(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=ft(e,"").split(","),r=ht(n,t);r>=0&&(n.splice(r,1),pt(e,"",n.join(",")))}(this._element,this._name))}}function lt(e,t,n){pt(e,"PlayState",n,ut(e,t))}function ut(e,t){const n=ft(e,"");return n.indexOf(",")>0?ht(n.split(","),t):ht([n],t)}function ht(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function dt(e,t,n){n?e.removeEventListener(at,t):e.addEventListener(at,t)}function pt(e,t,n,r){const i=ot+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function ft(e,t){return e.style[ot+t]||""}class mt{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ct(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:X(this.element,n))})}this.currentSnapshot=e}}class gt extends s.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=T(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class yt{constructor(){this._count=0}validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return x(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>T(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof mt),c={};K(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Q(e,t,c));if(0==n)return new gt(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=nt(e,t),p=new mt(e,t,u,n,r,i,l,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class vt{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:X(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class _t{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bt().toString()),this._cssKeyframesDriver=new yt}validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return x(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(e=>e instanceof vt);K(n,r)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=nt(e,t=Q(e,t=t.map(e=>Z(e,!1)),c));return new vt(e,t,a,u)}}function bt(){return o()&&Element.prototype.animate||{}}var wt=n(8583);let Ct=(()=>{class e extends s._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?(0,s.vP)(e):e;return Tt(this._renderer,null,t,"register",[n]),new St(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(wt.K0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class St extends s.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xt(this._id,e,t||{},this._renderer)}}class xt{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Tt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Tt(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Et="@",kt="@.disabled";let At=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new It("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Ot(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(tt),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class It{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Et&&t==kt?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ot extends It{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Et?"."==t.charAt(1)&&t==kt?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Et){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=Et&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Pt=(()=>{class e extends tt{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(wt.K0),r.LFG(k),r.LFG(Se))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Dt=new r.OlP("AnimationModuleType"),Rt=[{provide:s._j,useClass:Ct},{provide:Se,useFactory:function(){return new xe}},{provide:tt,useClass:Pt},{provide:r.FYo,useFactory:function(e,t,n){return new At(e,t,n)},deps:[i.se,tt,r.R0b]}],Ft=[{provide:k,useFactory:function(){return"function"==typeof bt()?new _t:new yt}},{provide:Dt,useValue:"BrowserAnimations"},...Rt],Nt=[{provide:k,useClass:E},{provide:Dt,useValue:"NoopAnimations"},...Rt];let Mt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Nt:Ft}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Ft,imports:[i.b2]}),e})()},9075:(e,t,n)=>{"use strict";n.d(t,{b2:()=>Z,H7:()=>R,q6:()=>M,se:()=>S});var r=n(8583),i=n(7716);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,c=null;const l=new i.OlP("TRANSITION_ID"),u=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[l,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const p=new i.OlP("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const _={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?w(e,i,n):(i=i.replace(b,e),n.push(i))}return n}function C(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let S=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new x(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new E(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=w(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f),i.LFG(y),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class x{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=_[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=_[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}class T extends x{constructor(e,t,n,r){super(e),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class E extends x{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let k=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O.hasOwnProperty(t)&&(t=O[t]))}return I[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,P[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(N)},token:e,providedIn:"root"}),e})();function F(e){return new N(e.get(r.K0))}let N=(()=>{class e extends R{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.q3G.NONE:return t;case i.q3G.HTML:return(0,i.qzn)(t,"HTML")?(0,i.z3N)(t):(0,i.EiD)(this._doc,String(t)).toString();case i.q3G.STYLE:return(0,i.qzn)(t,"Style")?(0,i.z3N)(t):t;case i.q3G.SCRIPT:if((0,i.qzn)(t,"Script"))return(0,i.z3N)(t);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(t),(0,i.qzn)(t,"URL")?(0,i.z3N)(t):(0,i.mCW)(String(t));case i.q3G.RESOURCE_URL:if((0,i.qzn)(t,"ResourceURL"))return(0,i.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=(0,i.Yz7)({factory:function(){return F((0,i.LFG)(i.gxx))},token:e,providedIn:"root"}),e})();const M=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),L=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:p,useClass:k,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:p,useClass:D,multi:!0,deps:[r.K0]},[],{provide:S,useClass:S,deps:[f,y,i.AFp]},{provide:i.FYo,useExisting:S},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:f,useClass:f,deps:[p,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let Z=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:l,useExisting:i.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:L,imports:[r.ez,i.hGG]}),e})();"undefined"!=typeof window&&window},8333:(e,t,n)=>{"use strict";n.d(t,{gz:()=>et,F0:()=>Sn,rH:()=>xn,yS:()=>Tn,Bz:()=>Ln,lC:()=>kn});var r=n(8583),i=n(7716),s=n(4869),o=n(9796),a=n(7393);class c extends a.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class l extends a.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=n(7444),h=n(7574);function d(e,t,n,r,i=new l(e,n,r)){if(!i.closed)return t instanceof h.y?t.subscribe(i):(0,u.s)(t)(i)}var p=n(6693);const f={};class m{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new g(e,this.resultSelector))}}class g extends c{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(f),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(d(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===f?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var y=n(4402),v=n(5917),_=n(6215),b=n(3410),w=n(8071),C=n(1439),S=n(9193),x=n(2441),T=n(9765),E=n(5435),k=n(7108);function A(e){return function(t){return 0===e?(0,S.c)():t.lift(new I(e))}}class I{constructor(e){if(this.total=e,this.total<0)throw new k.W}call(e,t){return t.subscribe(new O(e,this.total))}}class O extends a.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var P=n(4635),D=n(5242),R=n(4487),F=n(8002),N=n(3190),M=n(5257),L=n(9761),Z=n(2145),U=n(5304),q=n(4612),j=n(8049),B=n(9773),V=n(3342),z=n(1307),H=n(197),G=n(3282);class ${constructor(e,t){this.id=e,this.url=t}}class W extends ${constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Y extends ${constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class K extends ${constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Q extends ${constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J extends ${constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends ${constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee extends ${constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class te extends ${constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ne extends ${constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class re{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ie{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class se{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ce{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class le{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class he{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function de(e){return new he(e)}function pe(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function fe(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function me(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ge(e[i],t[i]))return!1;return!0}function ge(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function ye(e){return Array.prototype.concat.apply([],e)}function ve(e){return e.length>0?e[e.length-1]:null}function _e(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function be(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,y.D)(Promise.resolve(e)):(0,v.of)(e)}const we={exact:function e(t,n,r){if(!Oe(t.segments,n.segments))return!1;if(!Ee(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:xe},Ce={exact:function(e,t){return me(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ge(e[n],t[n]))},ignored:()=>!0};function Se(e,t,n){return we[n.paths](e.root,t.root,n.matrixParams)&&Ce[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xe(e,t,n){return Te(e,t,t.segments,n)}function Te(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Oe(i,n)&&!t.hasChildren()&&!!Ee(i,n,r)}if(e.segments.length===n.length){if(!Oe(e.segments,n))return!1;if(!Ee(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xe(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Oe(e.segments,i)&&!!Ee(e.segments,i,r)&&!!e.children.primary&&Te(e.children.primary,t,s,r)}}function Ee(e,t,n){return t.every((t,r)=>Ce[n](e[r].parameters,t.parameters))}class ke{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=de(this.queryParams)),this._queryParamMap}toString(){return Re.serialize(this)}}class Ae{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_e(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fe(this)}}class Ie{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=de(this.parameters)),this._parameterMap}toString(){return je(this)}}function Oe(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Pe{}class De{parse(e){const t=new Ge(e);return new ke(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Ne(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Le(t)}=${Le(e)}`).join("&"):`${Le(t)}=${Le(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Re=new De;function Fe(e){return e.segments.map(e=>je(e)).join("/")}function Ne(e,t){if(!e.hasChildren())return Fe(e);if(t){const t=e.children.primary?Ne(e.children.primary,!1):"",n=[];return _e(e.children,(e,t)=>{t!==ue&&n.push(`${t}:${Ne(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return _e(e.children,(e,r)=>{r===ue&&(n=n.concat(t(e,r)))}),_e(e.children,(e,r)=>{r!==ue&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===ue?[Ne(e.children.primary,!1)]:[`${n}:${Ne(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Fe(e)}/${t[0]}`:`${Fe(e)}/(${t.join("//")})`}}function Me(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Le(e){return Me(e).replace(/%3B/gi,";")}function Ze(e){return Me(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ue(e){return decodeURIComponent(e)}function qe(e){return Ue(e.replace(/\+/g,"%20"))}function je(e){return`${Ze(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Ze(e)}=${Ze(t[e])}`).join("")}`;var t}const Be=/^[^\/()?;=#]+/;function Ve(e){const t=e.match(Be);return t?t[0]:""}const ze=/^[^=?&#]+/,He=/^[^?&#]+/;class Ge{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ae(e,t)),n}parseSegment(){const e=Ve(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ie(Ue(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ve(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ve(this.remaining);e&&(n=e,this.capture(n))}e[Ue(t)]=Ue(n)}parseQueryParam(e){const t=function(e){const t=e.match(ze);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(He);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=qe(t),i=qe(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ve(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ue);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $e{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=We(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=We(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ye(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ye(e,this._root).map(e=>e.value)}}function We(e,t){if(e===t.value)return t;for(const n of t.children){const t=We(e,n);if(t)return t}return null}function Ye(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ye(e,n);if(r.length)return r.unshift(t),r}return[]}class Ke{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qe(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Je extends $e{constructor(e,t){super(e),this.snapshot=t,it(this,e)}toString(){return this.snapshot.toString()}}function Xe(e,t){const n=function(e,t){const n=new nt([],{},{},"",{},ue,t,null,e.root,-1,{});return new rt("",new Ke(n,[]))}(e,t),r=new _.X([new Ie("",{})]),i=new _.X({}),s=new _.X({}),o=new _.X({}),a=new _.X(""),c=new et(r,i,o,a,s,ue,t,n.root);return c.snapshot=n.root,new Je(new Ke(c,[]),n)}class et{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,F.U)(e=>de(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,F.U)(e=>de(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tt(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class nt{constructor(e,t,n,r,i,s,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=de(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=de(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rt extends $e{constructor(e,t){super(t),this.url=e,it(this,t)}toString(){return st(this._root)}}function it(e,t){t.value._routerState=e,t.children.forEach(t=>it(e,t))}function st(e){const t=e.children.length>0?` { ${e.children.map(st).join(", ")} } `:"";return`${e.value}${t}`}function ot(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,me(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),me(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!me(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),me(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function at(e,t){var n,r;return me(e.params,t.params)&&Oe(n=e.url,r=t.url)&&n.every((e,t)=>me(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||at(e.parent,t.parent))}function ct(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ct(e,t,r);return ct(e,t)})}(e,t,n);return new Ke(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return lt(t,e),e}}const n=new et(new _.X((r=t.value).url),new _.X(r.params),new _.X(r.queryParams),new _.X(r.fragment),new _.X(r.data),r.outlet,r.component,r),i=t.children.map(t=>ct(e,t));return new Ke(n,i)}var r}function lt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)lt(e.children[n],t.children[n])}function ut(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ht(e){return"object"==typeof e&&null!=e&&e.outlets}function dt(e,t,n,r,i){let s={};return r&&_e(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new ke(n.root===e?t:pt(n.root,e,t),s,i)}function pt(e,t,n){const r={};return _e(e.children,(e,i)=>{r[i]=e===t?n:pt(e,t,n)}),new Ae(e.segments,r)}class ft{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&ut(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ht);if(r&&r!==ve(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function gt(e,t,n){if(e||(e=new Ae([],{})),0===e.segments.length&&e.hasChildren())return yt(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(ht(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!wt(a,c,t))return s;r+=2}else{if(!wt(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Ae(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Ae(e.segments.slice(r.pathIndex),e.children),yt(t,0,i)}return r.match&&0===i.length?new Ae(e.segments,{}):r.match&&!e.hasChildren()?vt(e,t,n):r.match?yt(e,0,i):vt(e,t,n)}function yt(e,t,n){if(0===n.length)return new Ae(e.segments,{});{const r=function(e){return ht(e[0])?e[0].outlets:{[ue]:e}}(n),i={};return _e(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=gt(e.children[r],t,n))}),_e(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Ae(e.segments,i)}}function vt(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(ht(s)){const e=_t(s.outlets);return new Ae(r,e)}if(0===i&&ut(n[0])){r.push(new Ie(e.segments[t].path,bt(n[0]))),i++;continue}const o=ht(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ut(a)?(r.push(new Ie(o,bt(a))),i+=2):(r.push(new Ie(o,{})),i++)}return new Ae(r,{})}function _t(e){const t={};return _e(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=vt(new Ae([],{}),0,e))}),t}function bt(e){const t={};return _e(e,(e,n)=>t[n]=`${e}`),t}function wt(e,t,n){return e==n.path&&me(t,n.parameters)}class Ct{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ot(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Qe(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),_e(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Qe(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Qe(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new ce(e.value.snapshot))}),e.children.length&&this.forwardEvent(new oe(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(ot(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),St(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function St(e){ot(e.value),e.children.forEach(St)}class xt{constructor(e,t){this.routes=e,this.module=t}}function Tt(e){return"function"==typeof e}function Et(e){return e instanceof ke}const kt=Symbol("INITIAL_VALUE");function At(){return(0,N.w)(e=>function(...e){let t,n;return(0,s.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,p.n)(e,n).lift(new m(t))}(e.map(e=>e.pipe((0,M.q)(1),(0,L.O)(kt)))).pipe((0,Z.R)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==kt)return e;if(r===kt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Et(r))return r}return e},e)},kt),(0,E.h)(e=>e!==kt),(0,F.U)(e=>Et(e)?e:!0===e),(0,M.q)(1)))}let It=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[kn]},encapsulation:2}),e})();function Ot(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Pt(r,Dt(t,r))}}function Pt(e,t){e.children&&Ot(e.children,t)}function Dt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Rt(e){const t=e.children&&e.children.map(Rt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=It),n}function Ft(e){return e.outlet||ue}function Nt(e,t){const n=e.filter(e=>Ft(e)===t);return n.push(...e.filter(e=>Ft(e)!==t)),n}const Mt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Lt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Mt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||fe)(n,e,t);if(!i)return Object.assign({},Mt);const s={};_e(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Zt(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Ut(e,t,n)&&Ft(n)!==ue)}(e,n,r)){const i=new Ae(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ft(s)!==ue){const n=new Ae([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Ft(s)]=n}return i}(e,t,r,new Ae(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Ut(e,t,n))}(e,n,r)){const s=new Ae(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(Ut(e,n,a)&&!i[Ft(a)]){const n=new Ae([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ft(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ae(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Ut(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function qt(e,t,n,r){return!!(Ft(e)===r||r!==ue&&Ut(t,n,e))&&("**"===e.path||Lt(t,e,n).matched)}function jt(e,t,n){return 0===t.length&&!e.children[n]}class Bt{constructor(e){this.segmentGroup=e||null}}class Vt{constructor(e){this.urlTree=e}}function zt(e){return new h.y(t=>t.error(new Bt(e)))}function Ht(e){return new h.y(t=>t.error(new Vt(e)))}function Gt(e){return new h.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class $t{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Zt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ue).pipe((0,F.U)(e=>this.createUrlTree(Wt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,U.K)(e=>{if(e instanceof Vt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Bt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ue).pipe((0,F.U)(t=>this.createUrlTree(Wt(t),e.queryParams,e.fragment))).pipe((0,U.K)(e=>{if(e instanceof Bt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Ae([],{[ue]:e}):e;return new ke(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,F.U)(e=>new Ae([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,y.D)(r).pipe((0,q.b)(r=>{const i=n.children[r],s=Nt(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,F.U)(e=>({segment:e,outlet:r})))}),(0,Z.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,E.h)((t,n)=>e(t,n,r)):R.y,A(1),n?(0,D.d)(t):(0,P.T)(()=>new b.K))}())}expandSegment(e,t,n,r,i,s){return(0,y.D)(n).pipe((0,q.b)(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe((0,U.K)(e=>{if(e instanceof Bt)return(0,v.of)(null);throw e}))),(0,j.P)(e=>!!e),(0,U.K)((e,n)=>{if(e instanceof b.K||"EmptyError"===e.name){if(jt(t,r,i))return(0,v.of)(new Ae([],{}));throw new Bt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return qt(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):zt(t):zt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ht(i):this.lineralizeSegments(n,i).pipe((0,B.zg)(n=>{const i=new Ae(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Lt(t,r,i);if(!o)return zt(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Ht(u):this.lineralizeSegments(r,u).pipe((0,B.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,v.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,F.U)(e=>(n._loadedConfig=e,new Ae(r,{})))):(0,v.of)(new Ae(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Lt(t,n,r);if(!s)return zt(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,B.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:l}=Zt(t,o,c,s),u=new Ae(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,F.U)(e=>new Ae(o,e)));if(0===s.length&&0===l.length)return(0,v.of)(new Ae(o,{}));const h=Ft(n)===i;return this.expandSegment(r,u,s,l,h?ue:i,!0).pipe((0,F.U)(e=>new Ae(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,v.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,v.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,B.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,F.U)(e=>(t._loadedConfig=e,e))):function(e){return new h.y(t=>t.error(pe(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,v.of)(new xt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,v.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Tt(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Tt(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return be(s)});return(0,v.of)(i).pipe(At(),(0,V.b)(e=>{if(!Et(e))return;const t=pe(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,F.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,v.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Gt(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new ke(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return _e(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return _e(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Ae(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Wt(e){const t={};for(const n of Object.keys(e.children)){const r=Wt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ae(e.segments.concat(t.segments),t.children)}return e}(new Ae(e.segments,t))}class Yt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Kt{constructor(e,t){this.component=e,this.route=t}}function Qt(e,t,n){const r=e._root;return Xt(r,t?t._root:null,n,[r.value])}function Jt(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Xt(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qe(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Oe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Oe(e.url,t.url)||!me(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!at(e,t)||!me(e.queryParams,t.queryParams);case"paramsChange":default:return!at(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yt(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xt(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kt(a.outlet.component,o))}else o&&en(t,a,i),i.canActivateChecks.push(new Yt(r)),Xt(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),_e(s,(e,t)=>en(e,n.getContext(t),i)),i}function en(e,t,n){const r=Qe(e),i=e.value;_e(r,(e,r)=>{en(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Kt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class tn{}function nn(e){return new h.y(t=>t.error(e))}class rn{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Zt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ue);if(null===t)return null;const n=new nt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ke(n,t),i=new rt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=tt(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Nt(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=on(n);return r.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return jt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!qt(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?ve(n).parameters:{};i=new nt(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ln(e),Ft(e),e.component,e,an(t),cn(t)+n.length,un(e))}else{const r=Lt(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new nt(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ln(e),Ft(e),e.component,e,an(t),cn(t)+s.length,un(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Zt(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new Ke(i,e)]}if(0===a.length&&0===l.length)return[new Ke(i,[])];const u=Ft(e)===r,h=this.processSegment(a,c,l,u?ue:r);return null===h?null:[new Ke(i,h)]}}function sn(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function on(e){const t=[],n=new Set;for(const r of e){if(!sn(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=on(r.children);t.push(new Ke(r.value,e))}return t.filter(e=>!n.has(e))}function an(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function ln(e){return e.data||{}}function un(e){return e.resolve||{}}function hn(e){return(0,N.w)(t=>{const n=e(t);return n?(0,y.D)(n).pipe((0,F.U)(()=>t)):(0,v.of)(t)})}class dn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pn=new i.OlP("ROUTES");class fn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,F.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new xt(ye(r.injector.get(pn,void 0,i.XFs.Self|i.XFs.Optional)).map(Rt),r)}),(0,U.K)(e=>{throw t._loader$=void 0,e}));return t._loader$=new x.c(n,()=>new T.xQ).pipe((0,z.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,y.D)(this.loader.load(e)):be(e()).pipe((0,B.zg)(e=>e instanceof i.YKP?(0,v.of)(e):(0,y.D)(this.compiler.compileModuleAsync(e))))}}class mn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gn,this.attachRef=null}}class gn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new mn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vn(e){throw e}function _n(e,t,n){return t.parse("/")}function bn(e,t){return(0,v.of)(null)}const wn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sn=(()=>{class e{constructor(e,t,n,r,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new T.xQ,this.errorHandler=vn,this.malformedUriErrorHandler=_n,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bn,afterPreactivation:bn},this.urlHandlingStrategy=new yn,this.routeReuseStrategy=new dn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const l=s.get(i.R0b);this.isNgZoneEnabled=l instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ke(new Ae([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fn(o,a,e=>this.triggerEvent(new re(e)),e=>this.triggerEvent(new ie(e))),this.routerState=Xe(this.currentUrlTree,this.rootComponentType),this.transitions=new _.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,E.h)(e=>0!==e.id),(0,F.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,N.w)(e=>{let n=!1,r=!1;return(0,v.of)(e).pipe((0,V.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,N.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,v.of)(e).pipe((0,N.w)(e=>{const n=this.transitions.getValue();return t.next(new W(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?S.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,(0,N.w)(e=>function(e,t,n,r,i){return new $t(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,F.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,V.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,B.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new rn(e,t,n,r,i,s).recognize();return null===o?nn(new tn):(0,v.of)(o)}catch(o){return nn(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,F.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,V.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new J(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new W(n,this.serializeUrl(r),i,s);t.next(a);const c=Xe(r,this.rootComponentType).snapshot;return(0,v.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),S.E}),hn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,V.b)(e=>{const t=new X(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,F.U)(e=>Object.assign(Object.assign({},e),{guards:Qt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,B.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,v.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,y.D)(e).pipe((0,B.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,v.of)(!0);const o=s.map(s=>{const o=Jt(s,t,i);let a;if(function(e){return e&&Tt(e.canDeactivate)}(o))a=be(o.canDeactivate(e,t,n,r));else{if(!Tt(o))throw new Error("Invalid CanDeactivate guard");a=be(o(e,t,n,r))}return a.pipe((0,j.P)())});return(0,v.of)(o).pipe(At())}(e.component,e.route,n,t,r)),(0,j.P)(e=>!0!==e,!0))}(o,r,i,e).pipe((0,B.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,y.D)(t).pipe((0,q.b)(t=>(0,w.z)(function(e,t){return null!==e&&t&&t(new se(e)),(0,v.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new ae(e)),(0,v.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,C.P)(()=>{const i=t.guards.map(i=>{const s=Jt(i,t.node,n);let o;if(function(e){return e&&Tt(e.canActivateChild)}(s))o=be(s.canActivateChild(r,e));else{if(!Tt(s))throw new Error("Invalid CanActivateChild guard");o=be(s(r,e))}return o.pipe((0,j.P)())});return(0,v.of)(i).pipe(At())}));return(0,v.of)(i).pipe(At())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,v.of)(!0);const i=r.map(r=>(0,C.P)(()=>{const i=Jt(r,t,n);let s;if(function(e){return e&&Tt(e.canActivate)}(i))s=be(i.canActivate(t,e));else{if(!Tt(i))throw new Error("Invalid CanActivate guard");s=be(i(t,e))}return s.pipe((0,j.P)())}));return(0,v.of)(i).pipe(At())}(e,t.route,n))),(0,j.P)(e=>!0!==e,!0))}(r,s,e,t):(0,v.of)(n)),(0,F.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,V.b)(e=>{if(Et(e.guardsResult)){const t=pe(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,E.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),hn(e=>{if(e.guards.canActivateChecks.length)return(0,v.of)(e).pipe((0,V.b)(e=>{const t=new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,N.w)(e=>{let t=!1;return(0,v.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,B.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,v.of)(e);let s=0;return(0,y.D)(i).pipe((0,q.b)(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,v.of)({});const s={};return(0,y.D)(i).pipe((0,B.zg)(i=>function(e,t,n,r){const i=Jt(e,t,r);return be(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,V.b)(e=>{s[i]=e}))),A(1),(0,B.zg)(()=>Object.keys(s).length===i.length?(0,v.of)(s):S.E))}(e._resolve,e,t,r).pipe((0,F.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),tt(e,n).resolve),null)))}(e.route,t,n,r)),(0,V.b)(()=>s++),A(1),(0,B.zg)(t=>s===i.length?(0,v.of)(e):S.E))})),(0,V.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,V.b)(e=>{const t=new ne(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),hn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,F.U)(e=>{const t=function(e,t,n){const r=ct(e,t._root,n?n._root:void 0);return new Je(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,V.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),(0,F.U)(e=>(new Ct(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),(0,V.b)({next(){n=!0},complete(){n=!0}}),(0,H.x)(()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),(0,U.K)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Et(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new K(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new Q(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return S.E}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ot(e),this.config=e.map(Rt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return dt(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ft(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return _e(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new ft(n,t,r)}(n);if(s.toRoot())return dt(t.root,new Ae([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new mt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new mt(e,e===t.root,0)}const r=ut(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new mt(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?yt(o.segmentGroup,o.index,s.commands):gt(o.segmentGroup,o.index,s.commands);return dt(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Et(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},wn):!1===t?Object.assign({},Cn):t,Et(e))return Se(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Se(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new K(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(Pe),i.LFG(gn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),xn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new T.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Sn),i.Y36(et),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})(),Tn=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new T.xQ,this.subscription=e.events.subscribe(e=>{e instanceof Y&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Sn),i.Y36(et),i.Y36(r.S$))},e.\u0275dir=i.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Ikx("href",t.href,i.LSH),i.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function En(e){return""===e||!!e}let kn=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||ue,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new An(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(gn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class An{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===et?this.route:e===gn?this.childContexts:this.parent.get(e,t)}}class In{}class On{preload(e,t){return(0,v.of)(null)}}let Pn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new fn(t,n,t=>e.triggerEvent(new re(t)),t=>e.triggerEvent(new ie(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,E.h)(e=>e instanceof Y),(0,q.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,y.D)(n).pipe((0,G.J)(),(0,F.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,v.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,B.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Sn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(In))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Dn=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof W?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Y&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof le&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new le(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Sn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Rn=new i.OlP("ROUTER_CONFIGURATION"),Fn=new i.OlP("ROUTER_FORROOT_GUARD"),Nn=[r.Ye,{provide:Pe,useClass:De},{provide:Sn,useFactory:function(e,t,n,r,i,s,o,a={},c,l){const u=new Sn(null,e,t,n,r,i,s,ye(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Pe,gn,r.Ye,i.zs3,i.v3s,i.Sil,pn,Rn,[class{},new i.FiY],[class{},new i.FiY]]},gn,{provide:et,useFactory:function(e){return e.routerState.root},deps:[Sn]},{provide:i.v3s,useClass:i.EAV},Pn,On,class{preload(e,t){return t().pipe((0,U.K)(()=>(0,v.of)(null)))}},{provide:Rn,useValue:{enableTracing:!1}}];function Mn(){return new i.PXZ("Router",Sn)}let Ln=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Nn,jn(t),{provide:Fn,useFactory:qn,deps:[[Sn,new i.FiY,new i.tp0]]},{provide:Rn,useValue:n||{}},{provide:r.S$,useFactory:Un,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Rn]},{provide:Dn,useFactory:Zn,deps:[Sn,r.EM,Rn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:On},{provide:i.PXZ,multi:!0,useFactory:Mn},[Bn,{provide:i.ip1,multi:!0,useFactory:Vn,deps:[Bn]},{provide:Hn,useFactory:zn,deps:[Bn]},{provide:i.tb,multi:!0,useExisting:Hn}]]}}static forChild(t){return{ngModule:e,providers:[jn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Fn,8),i.LFG(Sn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function Zn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Dn(e,t,n)}function Un(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function qn(e){return"guarded"}function jn(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:pn,multi:!0,useValue:e}]}let Bn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new T.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Sn),r=this.injector.get(Rn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,v.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Rn),n=this.injector.get(Pn),r=this.injector.get(Dn),s=this.injector.get(Sn),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function Vn(e){return e.appInitializer.bind(e)}function zn(e){return e.bootstrapListener.bind(e)}const Hn=new i.OlP("Router Initializer")},8604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>r}),n(3854);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}},9306:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>l});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},3854:(e,t,n)=>{"use strict";n.d(t,{LL:()=>h,ZR:()=>u,tV:()=>i,ne:()=>y,pd:()=>g,m9:()=>b,z$:()=>s,ru:()=>a,xb:()=>p,w1:()=>l,uI:()=>o,b$:()=>c,xO:()=>f,zd:()=>m});const r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let l=(15&o)<<2|c>>6,u=63&c;a||(u=64,s||(l=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},i=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function o(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function a(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function c(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function l(){const e=s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class u extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(d,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new u(r,`${this.serviceName}: ${s} (${r}).`,n)}}const d=/\{\$([^}]+)}/g;function p(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function f(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function m(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function g(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function y(e,t){const n=new v(e,t);return n.subscribe.bind(n)}class v{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _(){}function b(e){return e&&e._delegate?e._delegate:e}},28:(e,t,n)=>{"use strict";var r=n(8814),i=n(2064),s=n(6427);function o(e,t,n){return new r(e,t,n)}o.version=n(44),o.AlgoliaSearchHelper=r,o.SearchParameters=i,o.SearchResults=s,e.exports=o},5107:(e,t,n)=>{"use strict";var r=n(5772);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}n(5683)(i,r),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},3764:(e,t,n)=>{"use strict";var r=n(7193),i=n(9890),s=n(2577),o={addRefinement:function(e,t,n){if(o.isRefined(e,t,n))return e;var i=""+n,s=e[t]?e[t].concat(i):[i],a={};return a[t]=s,r({},a,e)},removeRefinement:function(e,t,n){if(void 0===n)return o.clearRefinement(e,function(e,n){return t===n});var r=""+n;return o.clearRefinement(e,function(e,n){return t===n&&r===e})},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return o.isRefined(e,t,n)?o.removeRefinement(e,t,n):o.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return s(e)?{}:e;if("string"==typeof t)return i(e,[t]);if("function"==typeof t){var r=!1,o=Object.keys(e).reduce(function(i,s){var o=e[s]||[],a=o.filter(function(e){return!t(e,s,n)});return a.length!==o.length&&(r=!0),i[s]=a,i},{});return r?o:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;return void 0!==n&&r?-1!==e[t].indexOf(""+n):r}};e.exports=o},2064:(e,t,n)=>{"use strict";var r=n(7488),i=n(7193),s=n(4463),o=n(8247),a=n(8066),c=n(9890),l=n(2577),u=n(903),h=n(3764);function d(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return d(t[n],e)}):e===t}function p(e){var t=e?p._parseNumbers(e):{};void 0===t.userToken||u(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(e){-1===p.PARAMETERS.indexOf(e)&&void 0!==t[e]&&(n[e]=t[e])})}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(e){if(e instanceof p)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach(function(e){var i=r[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});n[t][e]=i})}),t.numericRefinements=n}return r({},e,t)},p.make=function(e){var t=new p(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},p.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&l(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):l(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var i=a(n);if(this.isNumericRefined(e,t,i))return this;var s=r({},this.numericRefinements);return s[e]=r({},s[e]),s[e][t]?(s[e][t]=s[e][t].slice(),s[e][t].push(i)):s[e][t]=[i],this.setQueryParameters({numericRefinements:s})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e&&r.op===t&&d(r.val,a(n))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,r){return r===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return l(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return c(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce(function(r,i){var s=n[i],o={};return s=s||{},Object.keys(s).forEach(function(n){var r=s[n]||[],a=[];r.forEach(function(t){e({val:t,op:n},i,"numeric")||a.push(t)}),a.length!==r.length&&(t=!0),o[n]=a}),r[i]=o,r},{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={},s=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n));return r[e]=s?-1===t.indexOf(n)?[]:[t.slice(0,t.lastIndexOf(n))]:[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,s=a(n),c=void 0!==(i=s,o(this.numericRefinements[e][t],function(e){return d(e,i)}));return r&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=s(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return s(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach(function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var n=this,r=p._parseNumbers(e),i=Object.keys(this).reduce(function(e,t){return e[t]=n[t],e},{}),s=Object.keys(r).reduce(function(e,t){var n=void 0!==r[t];return void 0===e[t]||n?(n&&(e[t]=r[t]),e):c(e,[t])},i);return new this.constructor(s)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return o(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}},e.exports=p},6034:(e,t,n)=>{"use strict";e.exports=function(e){return function(t,n){var o=e.hierarchicalFacets[n],l=e.hierarchicalFacetsRefinements[o.name]&&e.hierarchicalFacetsRefinements[o.name][0]||"",u=e._getHierarchicalFacetSeparator(o),h=e._getHierarchicalRootPath(o),d=e._getHierarchicalShowParentLevel(o),p=s(e._getHierarchicalFacetSortBy(o)),f=t.every(function(e){return e.exhaustive}),m=function(e,t,n,s,o){return function(l,u,h){var d=l;if(h>0){var p=0;for(d=l;p<h;){var f=d&&Array.isArray(d.data)?d.data:[];d=i(f,function(e){return e.isRefined}),p++}}if(d){var m=Object.keys(u.data).map(function(e){return[e,u.data[e]]}).filter(function(e){return function(e,t,n,r,i,s){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(s||0===e.indexOf(n)))}(e[0],d.path||n,o,t,n,s)});d.data=r(m.map(function(e){return function(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:a(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],e[0],t,c(o),u.exhaustive)}),e[0],e[1])}return l}}(p,u,h,d,l),g=t;return h&&(g=t.slice(h.split(u).length)),g.reduce(m,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}};var r=n(9480),i=n(8247),s=n(5482),o=n(7725),a=o.escapeFacetValue,c=o.unescapeFacetValue},6427:(e,t,n)=>{"use strict";var r=n(7488),i=n(7193),s=n(9480),o=n(2165),a=n(8247),c=n(9236),l=n(5482),u=n(7725),h=u.escapeFacetValue,d=u.unescapeFacetValue,p=n(6034);function f(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}function m(e,t,n){t&&t[n]&&(e.stats=t[n])}function g(e,t,n){var s=t[0];this._rawResults=t;var l=this;Object.keys(s).forEach(function(e){l[e]=s[e]}),Object.keys(n||{}).forEach(function(e){l[e]=n[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var u=e.getRefinedDisjunctiveFacets(),h=f(e.facets),g=f(e.disjunctiveFacets),y=1,v=s.facets||{};Object.keys(v).forEach(function(t){var n,r=v[t],i=(n=t,a(e.hierarchicalFacets,function(e){return(e.attributes||[]).indexOf(n)>-1}));if(i){var o=i.attributes.indexOf(t),u=c(e.hierarchicalFacets,function(e){return e.name===i.name});l.hierarchicalFacets[u][o]={attribute:t,data:r,exhaustive:s.exhaustiveFacetsCount}}else{var d,p=-1!==e.disjunctiveFacets.indexOf(t),f=-1!==e.facets.indexOf(t);p&&(l.disjunctiveFacets[d=g[t]]={name:t,data:r,exhaustive:s.exhaustiveFacetsCount},m(l.disjunctiveFacets[d],s.facets_stats,t)),f&&(l.facets[d=h[t]]={name:t,data:r,exhaustive:s.exhaustiveFacetsCount},m(l.facets[d],s.facets_stats,t))}}),this.hierarchicalFacets=o(this.hierarchicalFacets),u.forEach(function(n){var o=t[y],a=o&&o.facets?o.facets:{},u=e.getHierarchicalFacetByName(n);Object.keys(a).forEach(function(t){var n,h=a[t];if(u){n=c(e.hierarchicalFacets,function(e){return e.name===u.name});var p=c(l.hierarchicalFacets[n],function(e){return e.attribute===t});if(-1===p)return;l.hierarchicalFacets[n][p].data=r({},l.hierarchicalFacets[n][p].data,h)}else l.disjunctiveFacets[n=g[t]]={name:t,data:i({},h,s.facets&&s.facets[t]||{}),exhaustive:o.exhaustiveFacetsCount},m(l.disjunctiveFacets[n],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(r){!l.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(d(r))>-1&&(l.disjunctiveFacets[n].data[r]=0)})}),y++}),e.getRefinedHierarchicalFacets().forEach(function(n){var r=e.getHierarchicalFacetByName(n),s=e._getHierarchicalFacetSeparator(r),o=e.getHierarchicalRefinement(n);if(!(0===o.length||o[0].split(s).length<2)){var a=t[y],u=a&&a.facets?a.facets:{};Object.keys(u).forEach(function(t){var n=u[t],a=c(e.hierarchicalFacets,function(e){return e.name===r.name}),h=c(l.hierarchicalFacets[a],function(e){return e.attribute===t});if(-1!==h){var d={};if(o.length>0){var p=o[0].split(s)[0];d[p]=l.hierarchicalFacets[a][h].data[p]}l.hierarchicalFacets[a][h].data=i(d,n,l.hierarchicalFacets[a][h].data)}}),y++}}),Object.keys(e.facetsExcludes).forEach(function(t){var n=e.facetsExcludes[t],r=h[t];l.facets[r]={name:t,data:s.facets[t],exhaustive:s.exhaustiveFacetsCount},n.forEach(function(e){l.facets[r]=l.facets[r]||{name:t},l.facets[r].data=l.facets[r].data||{},l.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(p(e)),this.facets=o(this.facets),this.disjunctiveFacets=o(this.disjunctiveFacets),this._state=e}function y(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var s=t.data.map(function(t){return y(e,t,n,r+1)}),o=e(s,n[r]);return i({data:o},t)}function v(e,t){var n=a(e,function(e){return e.name===t});return n&&n.stats}function _(e,t,n,r,i){var s=a(i,function(e){return e.name===n});return{type:t,attributeName:n,name:r,count:s&&s.data&&s.data[r]?s.data[r]:0,exhaustive:s&&s.exhaustive||!1}}g.prototype.getFacetByName=function(e){function t(t){return t.name===e}return a(this.facets,t)||a(this.disjunctiveFacets,t)||a(this.hierarchicalFacets,t)},g.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],g.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=a(e.facets,n);return r?Object.keys(r.data).map(function(n){var i=h(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=a(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(n){var r=h(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}}):[]}if(e._state.isHierarchicalFacet(t))return a(e.hierarchicalFacets,n)}(this,e);if(n){var r=i({},t,{sortBy:g.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;return y(function(e,t){if(r.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(o,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce(function(e,t,n){return e[t]=n,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)}),n=n.filter(function(e){return e});var o,a=t.sortRemainingBy;return"hidden"===a?n:n.concat(s(r,(o="alpha"===a?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],o[1]))}(e,n)}if(Array.isArray(r.sortBy)){var i=l(r.sortBy,g.DEFAULT_SORT);return s(e,i[0],i[1])}if("function"==typeof r.sortBy)return function(e,t){return t.sort(e)}(r.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,Array.isArray(n)?[e]:o._state.getHierarchicalFacetByName(n.name).attributes)}},g.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?v(this.facets,e):this._state.isDisjunctiveFacet(e)?v(this.disjunctiveFacets,e):void 0},g.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(e){n.push(_(0,"facet",r,e,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(e){n.push(_(0,"exclude",r,e,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(e){n.push(_(0,"disjunctive",r,e,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),o=n.split(s),c=a(r,function(e){return e.name===t}),l=o.reduce(function(e,t){var n=e&&a(e.data,function(e){return e.name===t});return void 0!==n?n:e},c);return{type:"hierarchical",attributeName:t,name:l&&l.path||"",count:l&&l.count||0,exhaustive:l&&l.exhaustive||!1}}(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t];Object.keys(r).forEach(function(e){r[e].forEach(function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})})})}),e.tagRefinements.forEach(function(e){n.push({type:"tag",attributeName:"_tags",name:e})}),n},e.exports=g},8814:(e,t,n)=>{"use strict";var r=n(2064),i=n(6427),s=n(5107),o=n(7814),a=n(5772),c=n(5683),l=n(2577),u=n(9890),h=n(7488),d=n(44),p=n(7725).escapeFacetValue;function f(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.setClient(e);var i=n||{};i.index=t,this.state=r.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function m(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function g(){return this.state.page}c(f,a),f.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},f.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},f.prototype.getQuery=function(){return o._getHitsSearchParams(this.state)},f.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=o._getQueries(n.index,n),s=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then(function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),{content:new i(n,e.results),state:n,_originalResponse:e}},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),t(null,new i(n,e.results),n)}).catch(function(e){s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),t(e,null,n)})},f.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=h({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:u(o._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(s);var a=this.client.initIndex(r.index);if("function"!=typeof a.findAnswers)throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)},f.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(r||{}),a=s.isDisjunctiveFacet(e),c=o.getSearchForFacetQuery(e,t,n,s);this._currentNbQueries++;var l=this;return this.emit("searchForFacetValues",{state:s,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:s.index,params:c}]):this.client.initIndex(s.index).searchForFacetValues(c)).then(function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.escapedValue=p(t.value),t.isRefined=a?s.isDisjunctiveFacetRefined(e,t.escapedValue):s.isFacetRefined(e,t.escapedValue)}),t},function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e})},f.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},f.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},f.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},f.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},f.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},f.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},f.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},f.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},f.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},f.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},f.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},f.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},f.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},f.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},f.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},f.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},f.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},f.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},f.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},f.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},f.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},f.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},f.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},f.prototype.setCurrentPage=m,f.prototype.setPage=m,f.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},f.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},f.prototype.setState=function(e){return this._change({state:r.make(e),isPageReset:!1}),this},f.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new r(e),this},f.prototype.hasRefinements=function(e){return!!l(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},f.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},f.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},f.prototype.hasTag=function(e){return this.state.isTagRefined(e)},f.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},f.prototype.getIndex=function(){return this.state.index},f.prototype.getCurrentPage=g,f.prototype.getPage=g,f.prototype.getTags=function(){return this.state.tagRefinements},f.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach(function(e){t.push({value:n[e],operator:e,type:"numeric"})}),t},f.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},f.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},f.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=o._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(e){var r=e.getModifiedState(t),i=o._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;this._currentNbQueries++;try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(c){this.emit("error",{error:c})}},f.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach(function(e){var t=e.state,n=e.helper,s=r.splice(0,e.queriesCount),o=n.lastResults=new i(t,s);n.emit("result",{results:o,state:t})})}},f.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},f.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},f.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},f.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},f.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},f.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.client=e),this},f.prototype.getClient=function(){return this.client},f.prototype.derive=function(e){var t=new s(this,e);return this.derivedHelpers.push(t),t},f.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},f.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=f},2165:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},7193:e=>{"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])}),e},{})}},7725:e=>{"use strict";e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},8247:e=>{"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},9236:e=>{"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},5482:(e,t,n)=>{"use strict";var r=n(8247);e.exports=function(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var i=t.split(":"),s=r(n,function(e){return e[0]===i[0]});return i.length>1||!s?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(s[0]),e[1].push(s[1]),e)},[[],[]])}},5683:e=>{"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},4463:e=>{"use strict";e.exports=function(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}},7488:e=>{"use strict";function t(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,r){if(e===r)return e;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&"__proto__"!==i){var s=r[i],o=e[i];void 0!==o&&void 0===s||(e[i]=t(o)&&t(s)?n(o,s):"object"==typeof(a=s)&&null!==a?n(Array.isArray(a)?[]:{},a):a)}var a;return e}e.exports=function(e){t(e)||(e={});for(var r=1,i=arguments.length;r<i;r++){var s=arguments[r];t(s)&&n(e,s)}return e}},2577:e=>{"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},9890:e=>{"use strict";e.exports=function(e,t){if(null===e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}},9480:e=>{"use strict";function t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,s=null===t;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}e.exports=function(e,n,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var i=e.map(function(e,t){return{criteria:n.map(function(t){return e[t]}),index:t,value:e}});return i.sort(function(e,n){for(var i=-1;++i<e.criteria.length;){var s=t(e.criteria[i],n.criteria[i]);if(s)return i>=r.length?s:"desc"===r[i]?-s:s}return e.index-n.index}),i.map(function(e){return e.value})}},8066:e=>{"use strict";e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},7814:(e,t,n)=>{"use strict";var r=n(7488),i={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:i._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(r){n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r)})}),t.getRefinedHierarchicalFacets().forEach(function(r){var s=t.getHierarchicalFacetByName(r),o=t.getHierarchicalRefinement(r),a=t._getHierarchicalFacetSeparator(s);o.length>0&&o[0].split(a).length>1&&n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r,!0)})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(i._getHitsHierarchicalFacetsAttributes(e)),n=i._getFacetFilters(e),s=i._getNumericFilters(e),o=i._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:o};return n.length>0&&(a.facetFilters=n),s.length>0&&(a.numericFilters=s),r({},e.getQueryParams(),a)},_getDisjunctiveFacetSearchParams:function(e,t,n){var s=i._getFacetFilters(e,t,n),o=i._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:i._getTagFilters(e),analytics:!1,clickAnalytics:!1},c=e.getHierarchicalFacetByName(t);return a.facets=c?i._getDisjunctiveHierarchicalFacetAttribute(e,c,n):t,o.length>0&&(a.numericFilters=o),s.length>0&&(a.facetFilters=s),r({},e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(e){t!==r&&(i[e]||[]).forEach(function(t){if(Array.isArray(t)){var i=t.map(function(t){return r+e+t});n.push(i)}else n.push(r+e+t)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(e){(i[e]||[]).forEach(function(t){r.push(e+":"+t)})});var s=e.facetsExcludes||{};Object.keys(s).forEach(function(e){(s[e]||[]).forEach(function(t){r.push(e+":-"+t)})});var o=e.disjunctiveFacetsRefinements||{};Object.keys(o).forEach(function(e){var n=o[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach(function(t){i.push(e+":"+t)}),r.push(i)}});var a=e.hierarchicalFacetsRefinements||{};return Object.keys(a).forEach(function(i){var s=(a[i]||[])[0];if(void 0!==s){var o,c,l=e.getHierarchicalFacetByName(i),u=e._getHierarchicalFacetSeparator(l),h=e._getHierarchicalRootPath(l);if(t===i){if(-1===s.indexOf(u)||!h&&!0===n||h&&h.split(u).length===s.split(u).length)return;h?(c=h.split(u).length-1,s=h):(c=s.split(u).length-2,s=s.slice(0,s.lastIndexOf(u))),o=l.attributes[c]}else c=s.split(u).length-1,o=l.attributes[c];o&&r.push([o+":"+s])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),s=r.split(i).length,o=n.attributes.slice(0,s+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,s){var o=s.isDisjunctiveFacet(e)?s.clearRefinements(e):s,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),r({},i._getHitsSearchParams(o),a)}};e.exports=i},903:e=>{"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},44:e=>{"use strict";e.exports="3.8.2"},5213:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){e(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){var t,n="algoliasearch-client-js-".concat(e.key),i=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},s=function(){return JSON.parse(i().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=s()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=r(e,2),i=t[0];return Promise.all([i,t[1]||n.miss(i)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var r=s();return r[JSON.stringify(e)]=t,i().setItem(n,JSON.stringify(r)),t})},delete:function(e){return Promise.resolve().then(function(){var t=s();delete t[JSON.stringify(e)],i().setItem(n,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(n)})}}}function o(e){var t=i(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch(function(){return o({caches:t}).get(e,r,i)})},set:function(e,r){return n.set(e,r).catch(function(){return o({caches:t}).set(e,r)})},delete:function(e){return n.delete(e).catch(function(){return o({caches:t}).delete(e)})},clear:function(){return n.clear().catch(function(){return o({caches:t}).clear()})}}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);var o=r(),a=i&&i.miss||function(){return Promise.resolve()};return o.then(function(e){return a(e)}).then(function(){return o})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function l(e,t){return t?(Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e):e}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[i++])})}function h(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var d={Read:1,Write:2,Any:3};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function f(e){return"string"==typeof e?{protocol:"https",url:e,accept:d.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||d.Any}}var m="GET",g="POST";function y(e,t,r,s){var o=[],a=function(e,t){if(e.method!==m&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,s),c=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach(function(e){var t=r[e];i[e.toLowerCase()]=t}),i}(e,s),l=r.method,u=r.method!==m?{}:n(n({},r.data),s.data),h=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),u),s.queryParameters),d=0,g=function t(n,i){var u=n.pop();if(void 0===u)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:w(o)};var f={data:a,headers:c,method:l,url:_(u,r.path,h),connectTimeout:i(d,e.timeouts.connect),responseTimeout:i(d,s.timeout)},m=function(e){var t={request:f,response:e,host:u,triesLeft:n.length};return o.push(t),t},g={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var s=m(r);return r.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",C(s)),e.hostsCache.set(u,p(u,r.isTimedOut?3:2))]).then(function(){return t(n,i)})},onFail:function(e){throw m(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,w(o))}};return e.requester.send(f).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){return!e.isTimedOut&&0==~~e.status}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,g)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(p(t))})})).then(function(e){var n=e.filter(function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)}),r=e.filter(function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)}),s=[].concat(i(n),i(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:s.length>0?s.map(function(e){return f(e)}):t}})}(e.hostsCache,t).then(function(e){return g(i(e.statelessHosts).reverse(),e.getTimeout)})}function v(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function _(e,t,n){var r=b(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function b(e){return Object.keys(e).map(function(t){return u("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function w(e){return e.map(function(e){return C(e)})}function C(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var S=function(e){return function(t,n){return t.method===m?e.transporter.read(t,n):e.transporter.write(t,n)}},x=function(e){return function(t){return l({transporter:e.transporter,appId:e.appId,indexName:t},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},T=function(e){return function(t,r){var i=t.map(function(e){return n(n({},e),{},{params:b(e.params||{})})});return e.transporter.read({method:g,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},E=function(e){return function(t,r){return Promise.all(t.map(function(t){var i=t.params,s=i.facetName,o=i.facetQuery,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,["facetName","facetQuery"]);return x(e)(t.indexName,{methods:{searchForFacetValues:I}}).searchForFacetValues(s,o,n(n({},r),a))}))}},k=function(e){return function(t,n,r){return e.transporter.read({method:g,path:u("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},A=function(e){return function(t,n){return e.transporter.read({method:g,path:u("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},I=function(e){return function(t,n,r){return e.transporter.read({method:g,path:u("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}};function O(e,t,i){var u={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,i=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},s=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(s),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(s),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(s),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:a(),requestsCache:a({serializable:!1}),hostsCache:o({caches:[s({key:"".concat("4.13.0","-").concat(e)}),a()]}),userAgent:v("4.13.0").add({segment:"Browser",version:"lite"}),authMode:0};return function(e){var t=e.appId,i=function(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return 1===e?r:{}},queryParameters:function(){return 0===e?r:{}}}}(void 0!==e.authMode?e.authMode:1,t,e.apiKey),s=function(e){var t={hostsCache:e.hostsCache,logger:e.logger,requester:e.requester,requestsCache:e.requestsCache,responsesCache:e.responsesCache,timeouts:e.timeouts,userAgent:e.userAgent,headers:e.headers,queryParameters:e.queryParameters,hosts:e.hosts.map(function(e){return f(e)}),read:function(e,n){var i=h(n,t.timeouts.read),s=function(){return y(t,t.hosts.filter(function(e){return 0!=(e.accept&d.Read)}),e,i)};if(!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable))return s();var o={request:e,mappedRequestOptions:i,transporter:{queryParameters:t.queryParameters,headers:t.headers}};return t.responsesCache.get(o,function(){return t.requestsCache.get(o,function(){return t.requestsCache.set(o,s()).then(function(e){return Promise.all([t.requestsCache.delete(o),e])},function(e){return Promise.all([t.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){return r(e,2)[1]})})},{miss:function(e){return t.responsesCache.set(o,e)}})},write:function(e,n){return y(t,t.hosts.filter(function(e){return 0!=(e.accept&d.Write)}),e,h(n,t.timeouts.write))}};return t}(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:d.Read},{url:"".concat(t,".algolia.net"),accept:d.Write}].concat(c([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},i.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},i.queryParameters()),e.queryParameters)}));return l({transporter:s,appId:t,addAlgoliaAgent:function(e,t){s.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(function(){})}},e.methods)}(n(n(n({},u),i),{},{methods:{search:T,searchForFacetValues:E,multipleQueries:T,multipleSearchForFacetValues:E,customRequest:S,initIndex:function(e){return function(t){return x(e)(t,{methods:{search:A,searchForFacetValues:I,findAnswers:k}})}}}}))}return O.version="4.13.0",O}()},7778:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){e(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},s=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=s()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=i(e,2),r=t[0];return Promise.all([r,t[1]||n.miss(r)])}).then(function(e){return i(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var i=s();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t})},delete:function(e){return Promise.resolve().then(function(){var t=s();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){r().removeItem(n)})}}}function a(e){var t=s(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return i(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch(function(){return a({caches:t}).get(e,r,i)})},set:function(e,r){return n.set(e,r).catch(function(){return a({caches:t}).set(e,r)})},delete:function(e){return n.delete(e).catch(function(){return a({caches:t}).delete(e)})},clear:function(){return n.clear().catch(function(){return a({caches:t}).clear()})}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);var o=r(),a=i&&i.miss||function(){return Promise.resolve()};return o.then(function(e){return a(e)}).then(function(){return o})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function l(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===m.WithinHeaders?r:{}},queryParameters:function(){return e===m.WithinQueryParameters?r:{}}}}function u(e){var t=0;return e(function n(){return t++,new Promise(function(r){setTimeout(function(){r(e(n))},Math.min(100*t,1e3))})})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return h(e.then(function(e){return Promise.all([t(e,n),e])}).then(function(e){return e[1]}))}})}function d(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function p(e,t){return t?(Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e):e}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[i++])})}var m={WithinQueryParameters:0,WithinHeaders:1};function g(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var y={Read:1,Write:2,Any:3};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function _(e){return"string"==typeof e?{protocol:"https",url:e,accept:y.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||y.Any}}var b="DELETE",w="GET",C="POST",S="PUT";function x(e,t,r,i){var o=[],a=function(e,t){if(e.method!==w&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),c=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach(function(e){var t=r[e];i[e.toLowerCase()]=t}),i}(e,i),l=r.method,u=r.method!==w?{}:n(n({},r.data),i.data),h=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),u),i.queryParameters),d=0,p=function t(n,s){var u=n.pop();if(void 0===u)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:I(o)};var p={data:a,headers:c,method:l,url:k(u,r.path,h),connectTimeout:s(d,e.timeouts.connect),responseTimeout:s(d,i.timeout)},f=function(e){var t={request:p,response:e,host:u,triesLeft:n.length};return o.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=f(r);return r.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",O(i)),e.hostsCache.set(u,v(u,r.isTimedOut?3:2))]).then(function(){return t(n,s)})},onFail:function(e){throw f(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,I(o))}};return e.requester.send(p).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){return!e.isTimedOut&&0==~~e.status}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(v(t))})})).then(function(e){var n=e.filter(function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)}),r=e.filter(function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)}),i=[].concat(s(n),s(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map(function(e){return _(e)}):t}})}(e.hostsCache,t).then(function(e){return p(s(e.statelessHosts).reverse(),e.getTimeout)})}function T(e){var t={hostsCache:e.hostsCache,logger:e.logger,requester:e.requester,requestsCache:e.requestsCache,responsesCache:e.responsesCache,timeouts:e.timeouts,userAgent:e.userAgent,headers:e.headers,queryParameters:e.queryParameters,hosts:e.hosts.map(function(e){return _(e)}),read:function(e,n){var r=g(n,t.timeouts.read),s=function(){return x(t,t.hosts.filter(function(e){return 0!=(e.accept&y.Read)}),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return s();var o={request:e,mappedRequestOptions:r,transporter:{queryParameters:t.queryParameters,headers:t.headers}};return t.responsesCache.get(o,function(){return t.requestsCache.get(o,function(){return t.requestsCache.set(o,s()).then(function(e){return Promise.all([t.requestsCache.delete(o),e])},function(e){return Promise.all([t.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){return i(e,2)[1]})})},{miss:function(e){return t.responsesCache.set(o,e)}})},write:function(e,n){return x(t,t.hosts.filter(function(e){return 0!=(e.accept&y.Write)}),e,g(n,t.timeouts.write))}};return t}function E(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function k(e,t,n){var r=A(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function A(e){return Object.keys(e).map(function(t){return f("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function I(e){return e.map(function(e){return O(e)})}function O(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var P=function(e){return function(t,n){return e.transporter.write({method:C,path:"2/abtests",data:t},n)}},D=function(e){return function(t,n){return e.transporter.write({method:b,path:f("2/abtests/%s",t)},n)}},R=function(e){return function(t,n){return e.transporter.read({method:w,path:f("2/abtests/%s",t)},n)}},F=function(e){return function(t){return e.transporter.read({method:w,path:"2/abtests"},t)}},N=function(e){return function(t,n){return e.transporter.write({method:C,path:f("2/abtests/%s/stop",t)},n)}},M=function(e){return function(t){return e.transporter.read({method:w,path:"1/strategies/personalization"},t)}},L=function(e){return function(t,n){return e.transporter.write({method:C,path:"1/strategies/personalization",data:t},n)}};function Z(e){return function t(n){return e.request(n).then(function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return t(r.cursor?{cursor:r.cursor}:{page:(n.page||0)+1})})}({})}var U=function(e){return function(t,i){var s=i||{},o=s.queryParameters,a=r(s,["queryParameters"]),c=n({acl:t},void 0!==o?{queryParameters:o}:{});return h(e.transporter.write({method:C,path:"1/keys",data:c},a),function(t,n){return u(function(r){return K(e)(t.key,n).catch(function(e){if(404!==e.status)throw e;return r()})})})}},q=function(e){return function(t,n,r){var i=g(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:C,path:"1/clusters/mapping",data:{cluster:n}},i)}},j=function(e){return function(t,n,r){return e.transporter.write({method:C,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},B=function(e){return function(t,n){return h(e.transporter.write({method:C,path:f("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},n),function(t,n){return we(e)(t.taskID,n)})}},V=function(e){return function(t,n,r){return h(e.transporter.write({method:C,path:f("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),function(n,r){return re(e)(t,{methods:{waitTask:at}}).waitTask(n.taskID,r)})}},z=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[lt.Rules]}))}},H=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[lt.Settings]}))}},G=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[lt.Synonyms]}))}},$=function(e){return function(t,n){return t.method===w?e.transporter.read(t,n):e.transporter.write(t,n)}},W=function(e){return function(t,n){return h(e.transporter.write({method:b,path:f("1/keys/%s",t)},n),function(n,r){return u(function(n){return K(e)(t,r).then(n).catch(function(e){if(404!==e.status)throw e})})})}},Y=function(e){return function(t,n,r){var i=n.map(function(e){return{action:"deleteEntry",body:{objectID:e}}});return h(e.transporter.write({method:C,path:f("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),function(t,n){return we(e)(t.taskID,n)})}},K=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/keys/%s",t)},n)}},Q=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/task/%s",t.toString())},n)}},J=function(e){return function(t){return e.transporter.read({method:w,path:"/1/dictionaries/*/settings"},t)}},X=function(e){return function(t){return e.transporter.read({method:w,path:"1/logs"},t)}},ee=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters/mapping/top"},t)}},te=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/clusters/mapping/%s",t)},n)}},ne=function(e){return function(t){var n=t||{},i=n.retrieveMappings,s=r(n,["retrieveMappings"]);return!0===i&&(s.getClusters=!0),e.transporter.read({method:w,path:"1/clusters/mapping/pending"},s)}},re=function(e){return function(t){return p({transporter:e.transporter,appId:e.appId,indexName:t},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},ie=function(e){return function(t){return e.transporter.read({method:w,path:"1/keys"},t)}},se=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters"},t)}},oe=function(e){return function(t){return e.transporter.read({method:w,path:"1/indexes"},t)}},ae=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters/mapping"},t)}},ce=function(e){return function(t,n,r){return h(e.transporter.write({method:C,path:f("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),function(n,r){return re(e)(t,{methods:{waitTask:at}}).waitTask(n.taskID,r)})}},le=function(e){return function(t,n){return h(e.transporter.write({method:C,path:"1/indexes/*/batch",data:{requests:t}},n),function(t,n){return Promise.all(Object.keys(t.taskID).map(function(r){return re(e)(r,{methods:{waitTask:at}}).waitTask(t.taskID[r],n)}))})}},ue=function(e){return function(t,n){return e.transporter.read({method:C,path:"1/indexes/*/objects",data:{requests:t}},n)}},he=function(e){return function(t,r){var i=t.map(function(e){return n(n({},e),{},{params:A(e.params||{})})});return e.transporter.read({method:C,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},de=function(e){return function(t,i){return Promise.all(t.map(function(t){var s=t.params,o=s.facetName,a=s.facetQuery,c=r(s,["facetName","facetQuery"]);return re(e)(t.indexName,{methods:{searchForFacetValues:rt}}).searchForFacetValues(o,a,n(n({},i),c))}))}},pe=function(e){return function(t,n){var r=g(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:b,path:"1/clusters/mapping"},r)}},fe=function(e){return function(t,n,r){var i=n.map(function(e){return{action:"addEntry",body:e}});return h(e.transporter.write({method:C,path:f("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},r),function(t,n){return we(e)(t.taskID,n)})}},me=function(e){return function(t,n){return h(e.transporter.write({method:C,path:f("1/keys/%s/restore",t)},n),function(n,r){return u(function(n){return K(e)(t,r).catch(function(e){if(404!==e.status)throw e;return n()})})})}},ge=function(e){return function(t,n,r){var i=n.map(function(e){return{action:"addEntry",body:e}});return h(e.transporter.write({method:C,path:f("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),function(t,n){return we(e)(t.taskID,n)})}},ye=function(e){return function(t,n,r){return e.transporter.read({method:C,path:f("/1/dictionaries/%s/search",t),data:{query:n},cacheable:!0},r)}},ve=function(e){return function(t,n){return e.transporter.read({method:C,path:"1/clusters/mapping/search",data:{query:t}},n)}},_e=function(e){return function(t,n){return h(e.transporter.write({method:S,path:"/1/dictionaries/*/settings",data:t},n),function(t,n){return we(e)(t.taskID,n)})}},be=function(e){return function(t,n){var i=Object.assign({},n),s=n||{},o=s.queryParameters,a=r(s,["queryParameters"]),c=o?{queryParameters:o}:{},l=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return h(e.transporter.write({method:S,path:f("1/keys/%s",t),data:c},a),function(n,r){return u(function(n){return K(e)(t,r).then(function(e){return function(e){return Object.keys(i).filter(function(e){return-1!==l.indexOf(e)}).every(function(t){return e[t]===i[t]})}(e)?Promise.resolve():n()})})})}},we=function(e){return function(t,n){return u(function(r){return Q(e)(t,n).then(function(e){return"published"!==e.status?r():void 0})})}},Ce=function(e){return function(t,n){return h(e.transporter.write({method:C,path:f("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),function(t,n){return at(e)(t.taskID,n)})}},Se=function(e){return function(t){return Z(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:C,path:f("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},xe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return Z(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return it(e)("",n(n({},r),t)).then(function(e){return n(n({},e),{},{hits:e.hits.map(function(e){return delete e._highlightResult,e})})})}}))}},Te=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return Z(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return st(e)("",n(n({},r),t)).then(function(e){return n(n({},e),{},{hits:e.hits.map(function(e){return delete e._highlightResult,e})})})}}))}},Ee=function(e){return function(t,n,i){var s=i||{},o=s.batchSize,a=r(s,["batchSize"]),c={taskIDs:[],objectIDs:[]};return h(function r(){var i,s=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(s.push(t[i]),s.length!==(o||1e3));i++);return 0===s.length?Promise.resolve(c):Ce(e)(s.map(function(e){return{action:n,body:e}}),a).then(function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,r(i)})}(),function(t,n){return Promise.all(t.taskIDs.map(function(t){return at(e)(t,n)}))})}},ke=function(e){return function(t){return h(e.transporter.write({method:C,path:f("1/indexes/%s/clear",e.indexName)},t),function(t,n){return at(e)(t.taskID,n)})}},Ae=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,s=g(r(n,["forwardToReplicas"]));return i&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:C,path:f("1/indexes/%s/rules/clear",e.indexName)},s),function(t,n){return at(e)(t.taskID,n)})}},Ie=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,s=g(r(n,["forwardToReplicas"]));return i&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:C,path:f("1/indexes/%s/synonyms/clear",e.indexName)},s),function(t,n){return at(e)(t.taskID,n)})}},Oe=function(e){return function(t,n){return h(e.transporter.write({method:C,path:f("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),function(t,n){return at(e)(t.taskID,n)})}},Pe=function(e){return function(t){return h(e.transporter.write({method:b,path:f("1/indexes/%s",e.indexName)},t),function(t,n){return at(e)(t.taskID,n)})}},De=function(e){return function(t,n){return h(Re(e)([t],n).then(function(e){return{taskID:e.taskIDs[0]}}),function(t,n){return at(e)(t.taskID,n)})}},Re=function(e){return function(t,n){var r=t.map(function(e){return{objectID:e}});return Ee(e)(r,ct.DeleteObject,n)}},Fe=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,o=g(r(i,["forwardToReplicas"]));return s&&(o.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:b,path:f("1/indexes/%s/rules/%s",e.indexName,t)},o),function(t,n){return at(e)(t.taskID,n)})}},Ne=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,o=g(r(i,["forwardToReplicas"]));return s&&(o.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:b,path:f("1/indexes/%s/synonyms/%s",e.indexName,t)},o),function(t,n){return at(e)(t.taskID,n)})}},Me=function(e){return function(t){return Ve(e)(t).then(function(){return!0}).catch(function(e){if(404!==e.status)throw e;return!1})}},Le=function(e){return function(t,n,r){return e.transporter.read({method:C,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Ze=function(e){return function(t,s){var o=s||{},a=o.query,c=o.paginate,l=r(o,["query","paginate"]),u=0;return function r(){return nt(e)(a||"",n(n({},l),{},{page:u})).then(function(e){for(var n=0,s=Object.entries(e.hits);n<s.length;n++){var o=i(s[n],2),a=o[0],l=o[1];if(t(l))return{object:l,position:parseInt(a,10),page:u}}if(u++,!1===c||u>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()})}()}},Ue=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/indexes/%s/%s",e.indexName,t)},n)}},qe=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var s=i(r[n],2);if(s[1].objectID===t)return parseInt(s[0],10)}return-1}},je=function(e){return function(t,i){var s=i||{},o=s.attributesToRetrieve,a=r(s,["attributesToRetrieve"]),c=t.map(function(t){return n({indexName:e.indexName,objectID:t},o?{attributesToRetrieve:o}:{})});return e.transporter.read({method:C,path:"1/indexes/*/objects",data:{requests:c}},a)}},Be=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/indexes/%s/rules/%s",e.indexName,t)},n)}},Ve=function(e){return function(t){return e.transporter.read({method:w,path:f("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},ze=function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},He=function(e){return function(t,n){return h(Ge(e)([t],n).then(function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}}),function(t,n){return at(e)(t.taskID,n)})}},Ge=function(e){return function(t,n){var i=n||{},s=i.createIfNotExists,o=r(i,["createIfNotExists"]),a=s?ct.PartialUpdateObject:ct.PartialUpdateObjectNoCreate;return Ee(e)(t,a,o)}},$e=function(e){return function(t,o){var a=o||{},c=a.safe,l=a.autoGenerateObjectIDIfNotExist,u=a.batchSize,d=r(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(t,n,r,i){return h(e.transporter.write({method:C,path:f("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),function(t,n){return at(e)(t.taskID,n)})},m=Math.random().toString(36).substring(7),g="".concat(e.indexName,"_tmp_").concat(m),y=Qe({appId:e.appId,transporter:e.transporter,indexName:g}),v=[],_=p(e.indexName,g,"copy",n(n({},d),{},{scope:["settings","synonyms","rules"]}));return v.push(_),h((c?_.wait(d):_).then(function(){var e=y(t,n(n({},d),{},{autoGenerateObjectIDIfNotExist:l,batchSize:u}));return v.push(e),c?e.wait(d):e}).then(function(){var t=p(g,e.indexName,"move",d);return v.push(t),c?t.wait(d):t}).then(function(){return Promise.all(v)}).then(function(e){var t=i(e,3),n=t[1],r=t[2];return{objectIDs:n.objectIDs,taskIDs:[t[0].taskID].concat(s(n.taskIDs),[r.taskID])}}),function(e,t){return Promise.all(v.map(function(e){return e.wait(t)}))})}},We=function(e){return function(t,r){return Xe(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Ye=function(e){return function(t,r){return tt(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},Ke=function(e){return function(t,n){return h(Qe(e)([t],n).then(function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}}),function(t,n){return at(e)(t.taskID,n)})}},Qe=function(e){return function(t,n){var i=n||{},s=i.autoGenerateObjectIDIfNotExist,o=r(i,["autoGenerateObjectIDIfNotExist"]),a=s?ct.AddObject:ct.UpdateObject;if(a===ct.UpdateObject){var c=!0,l=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(c=(d=p.next()).done);c=!0)if(void 0===d.value.objectID)return h(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){l=!0,u=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}}return Ee(e)(t,a,o)}},Je=function(e){return function(t,n){return Xe(e)([t],n)}},Xe=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,o=i.clearExistingRules,a=g(r(i,["forwardToReplicas","clearExistingRules"]));return s&&(a.queryParameters.forwardToReplicas=1),o&&(a.queryParameters.clearExistingRules=1),h(e.transporter.write({method:C,path:f("1/indexes/%s/rules/batch",e.indexName),data:t},a),function(t,n){return at(e)(t.taskID,n)})}},et=function(e){return function(t,n){return tt(e)([t],n)}},tt=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,o=i.clearExistingSynonyms,a=i.replaceExistingSynonyms,c=g(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return s&&(c.queryParameters.forwardToReplicas=1),(a||o)&&(c.queryParameters.replaceExistingSynonyms=1),h(e.transporter.write({method:C,path:f("1/indexes/%s/synonyms/batch",e.indexName),data:t},c),function(t,n){return at(e)(t.taskID,n)})}},nt=function(e){return function(t,n){return e.transporter.read({method:C,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},rt=function(e){return function(t,n,r){return e.transporter.read({method:C,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},it=function(e){return function(t,n){return e.transporter.read({method:C,path:f("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},st=function(e){return function(t,n){return e.transporter.read({method:C,path:f("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},ot=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,o=g(r(i,["forwardToReplicas"]));return s&&(o.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:S,path:f("1/indexes/%s/settings",e.indexName),data:t},o),function(t,n){return at(e)(t.taskID,n)})}},at=function(e){return function(t,n){return u(function(r){return function(e){return function(t,n){return e.transporter.read({method:w,path:f("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then(function(e){return"published"!==e.status?r():void 0})})}},ct={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},lt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"};function ut(e,t,r){var i={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,i=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},s=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(s),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(s),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(s),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:a({caches:[o({key:"".concat("4.13.0","-").concat(e)}),c()]}),userAgent:E("4.13.0").add({segment:"Browser"})},s=n(n({},i),r),u=function(){return function(e){return function(e){var t=e.region||"us",r=l(m.WithinHeaders,e.appId,e.apiKey),i=T(n(n({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(n(n(n({},i),e),{},{methods:{getPersonalizationStrategy:M,setPersonalizationStrategy:L}}))}};return function(e){var t=e.appId,r=l(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),i=T(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:y.Read},{url:"".concat(t,".algolia.net"),accept:y.Write}].concat(d([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then(function(){})}},e.methods)}(n(n({},s),{},{methods:{search:he,searchForFacetValues:de,multipleBatch:le,multipleGetObjects:ue,multipleQueries:he,copyIndex:V,copySettings:H,copySynonyms:G,copyRules:z,moveIndex:ce,listIndices:oe,getLogs:X,listClusters:se,multipleSearchForFacetValues:de,getApiKey:K,addApiKey:U,listApiKeys:ie,updateApiKey:be,deleteApiKey:W,restoreApiKey:me,assignUserID:q,assignUserIDs:j,getUserID:te,searchUserIDs:ve,listUserIDs:ae,getTopUserIDs:ee,removeUserID:pe,hasPendingMappings:ne,clearDictionaryEntries:B,deleteDictionaryEntries:Y,getDictionarySettings:J,getAppTask:Q,replaceDictionaryEntries:fe,saveDictionaryEntries:ge,searchDictionaryEntries:ye,setDictionarySettings:_e,waitAppTask:we,customRequest:$,initIndex:function(e){return function(t){return re(e)(t,{methods:{batch:Ce,delete:Pe,findAnswers:Le,getObject:Ue,getObjects:je,saveObject:Ke,saveObjects:Qe,search:nt,searchForFacetValues:rt,waitTask:at,setSettings:ot,getSettings:Ve,partialUpdateObject:He,partialUpdateObjects:Ge,deleteObject:De,deleteObjects:Re,deleteBy:Oe,clearObjects:ke,browseObjects:Se,getObjectPosition:qe,findObject:Ze,exists:Me,saveSynonym:et,saveSynonyms:tt,getSynonym:ze,searchSynonyms:st,browseSynonyms:Te,deleteSynonym:Ne,clearSynonyms:Ie,replaceAllObjects:$e,replaceAllSynonyms:Ye,searchRules:it,getRule:Be,deleteRule:Fe,saveRule:Je,saveRules:Xe,replaceAllRules:We,browseRules:xe,clearRules:Ae}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=l(m.WithinHeaders,e.appId,e.apiKey),i=T(n(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(n(n(n({},i),e),{},{methods:{addABTest:P,getABTest:R,getABTests:F,stopABTest:N,deleteABTest:D}}))}},initPersonalization:u,initRecommendation:function(){return function(e){return s.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),u()(e)}}}}))}return ut.version="4.13.0",ut}()},4323:(e,t)=>{var n,r;void 0===(r="function"==typeof(n=function(){"use strict";function e(e){e.preventDefault()}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){n>0&&(s(e,t),setTimeout(function(){o(e,t)},n))}function r(e){return Array.isArray(e)?e:[e]}function i(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function s(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function o(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function c(e,t){return 100/(t-e)}function l(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,n,r){var i;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider (10.1.0): 'range' contains invalid value.");if(!t(i="min"===e?0:"max"===e?100:parseFloat(e))||!t(n[0]))throw new Error("noUiSlider (10.1.0): 'range' value isn't numeric.");r.xPct.push(i),r.xVal.push(n[0]),i?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1]),r.xHighestCompleteStep.push(0)}function d(e,t,n){if(!t)return!0;n.xSteps[e]=l([n.xVal[e],n.xVal[e+1]],t)/c(n.xPct[e],n.xPct[e+1]);var r=Math.ceil(Number(((n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e]).toFixed(3))-1);n.xHighestCompleteStep[e]=n.xVal[e]+n.xNumSteps[e]*r}function p(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var r,i=[];for(r in e)e.hasOwnProperty(r)&&i.push([e[r],r]);for(i.sort(i.length&&"object"==typeof i[0][0]?function(e,t){return e[0][0]-t[0][0]}:function(e,t){return e[0]-t[0]}),r=0;r<i.length;r++)h(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)d(r,this.xNumSteps[r],this)}p.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider (10.1.0): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&l(this.xVal,e)},p.prototype.toStepping=function(e){return function(e,t,n){if(n>=e.slice(-1)[0])return 100;var r,i,s=u(n,e);return i=t[s],(r=t[s-1])+function(e,t){return l(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([e[s-1],e[s]],n)/c(r,i)}(this.xVal,this.xPct,e)},p.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var r,i=u(n,t);return function(e,t){return t*(e[1]-e[0])/100+e[0]}([e[i-1],e[i]],(n-(r=t[i-1]))*c(r,t[i]))}(this.xVal,this.xPct,e)},p.prototype.getStep=function(e){return function(e,t,n,r){if(100===r)return r;var i,s,o=u(r,e);return n?r-(i=e[o-1])>((s=e[o])-i)/2?s:i:t[o-1]?e[o-1]+function(e,t){return Math.round(e/t)*t}(r-e[o-1],t[o-1]):r}(this.xPct,this.xSteps,this.snap,e)},p.prototype.getNearbySteps=function(e){var t=u(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},p.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(i);return Math.max.apply(null,e)},p.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var f={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function m(e){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(e))return!0;throw new Error("noUiSlider (10.1.0): 'format' requires 'to' and 'from' methods.")}function g(e,n){if(!t(n))throw new Error("noUiSlider (10.1.0): 'step' is not numeric.");e.singleStep=n}function y(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider (10.1.0): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider (10.1.0): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider (10.1.0): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new p(t,e.snap,e.singleStep)}function v(e,t){if(t=r(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider (10.1.0): 'start' option is incorrect.");e.handles=t.length,e.start=t}function _(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider (10.1.0): 'snap' option must be a boolean.")}function b(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider (10.1.0): 'animate' option must be a boolean.")}function w(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider (10.1.0): 'animationDuration' option must be a number.")}function C(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider (10.1.0): 'connect' option doesn't match handle count.");r=t}e.connect=r}function S(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider (10.1.0): 'orientation' option is invalid.")}}function x(e,n){if(!t(n))throw new Error("noUiSlider (10.1.0): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider (10.1.0): 'margin' option is only supported on linear sliders.")}function T(e,n){if(!t(n))throw new Error("noUiSlider (10.1.0): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider (10.1.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function E(e,n){if(!t(n))throw new Error("noUiSlider (10.1.0): 'padding' option must be numeric.");if(0!==n){if(e.padding=e.spectrum.getMargin(n),!e.padding)throw new Error("noUiSlider (10.1.0): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider (10.1.0): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider (10.1.0): 'padding' option must be less than half the range.")}}function k(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider (10.1.0): 'direction' option was not recognized.")}}function A(e,t){if("string"!=typeof t)throw new Error("noUiSlider (10.1.0): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,s=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider (10.1.0): 'fixed' behaviour must be used with 2 handles");x(e,e.start[1]-e.start[0])}e.events={tap:n||s,drag:r,fixed:i,snap:s,hover:o}}function I(e,t){if(e.multitouch=t,"boolean"!=typeof t)throw new Error("noUiSlider (10.1.0): 'multitouch' option must be a boolean.")}function O(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=r(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider (10.1.0): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider (10.1.0): 'tooltips' must be passed a formatter or 'false'.")})}}function P(e,t){e.ariaFormat=t,m(t)}function D(e,t){e.format=t,m(t)}function R(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider (10.1.0): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function F(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider (10.1.0): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var n in e.cssClasses={},t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n]);else e.cssClasses=t}function N(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider (10.1.0): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function M(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:f,format:f},n={step:{r:!1,t:g},start:{r:!0,t:v},connect:{r:!0,t:C},direction:{r:!0,t:k},snap:{r:!1,t:_},animate:{r:!1,t:b},animationDuration:{r:!1,t:w},range:{r:!0,t:y},orientation:{r:!1,t:S},margin:{r:!1,t:x},limit:{r:!1,t:T},padding:{r:!1,t:E},behaviour:{r:!0,t:A},multitouch:{r:!0,t:I},ariaFormat:{r:!1,t:P},format:{r:!1,t:D},tooltips:{r:!1,t:O},cssPrefix:{r:!1,t:R},cssClasses:{r:!1,t:F},useRequestAnimationFrame:{r:!1,t:N}},r={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(i){if(void 0===e[i]&&void 0===r[i]){if(n[i].r)throw new Error("noUiSlider (10.1.0): '"+i+"' is required.");return!0}n[i].t(t,void 0===e[i]?r[i]:e[i])}),t.pips=e.pips;var i=[["left","top"],["right","bottom"]];return t.style=i[t.dir][t.ort],t.styleOposite=i[t.dir?0:1][t.ort],t}function L(t,i,c){var l,u,h,d,p,f,m,g=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},y=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}(),v=t,_=[],b=[],w=0,C=i.spectrum,S=[],x={},T=t.ownerDocument,E=T.documentElement,k=T.body;function A(e,t){var n=T.createElement("div");return t&&s(n,t),e.appendChild(n),n}function I(e,t){var n=A(e,i.cssClasses.origin),r=A(n,i.cssClasses.handle);return r.setAttribute("data-handle",t),r.setAttribute("tabindex","0"),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===t?s(r,i.cssClasses.handleLower):t===i.handles-1&&s(r,i.cssClasses.handleUpper),n}function O(e,t){return!!t&&A(e,i.cssClasses.connect)}function P(){var e;p&&((e=p).parentElement.removeChild(e),p=null)}function D(e){P();var t=e.mode,n=e.filter||!1,r=function(e,t,n){var r,i={},s=C.xVal[0],o=C.xVal[C.xVal.length-1],a=!1,c=!1,l=0;return(r=n.slice().sort(function(e,t){return e-t}),n=r.filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==s&&(n.unshift(s),a=!0),n[n.length-1]!==o&&(n.push(o),c=!0),n.forEach(function(r,s){var o,u,h,d,p,f,m,g,y=r,v=n[s+1];if("steps"===t&&(o=C.xNumSteps[s]),o||(o=v-y),!1!==y&&void 0!==v)for(o=Math.max(o,1e-7),u=y;u<=v;u=(u+o).toFixed(7)/1){for(g=(p=(d=C.toStepping(u))-l)/(m=Math.round(p/e)),h=1;h<=m;h+=1)i[(l+h*g).toFixed(5)]=["x",0];f=n.indexOf(u)>-1?1:"steps"===t?2:0,!s&&a&&(f=0),u===v&&c||(i[d.toFixed(5)]=[u,f]),l=d}}),i}(e.density||1,t,function(e,t,n){if("range"===e||"steps"===e)return C.xVal;if("count"===e){if(!t)throw new Error("noUiSlider (10.1.0): 'values' required for mode 'count'.");var r,i=100/(t-1),s=0;for(t=[];(r=s++*i)<=100;)t.push(r);e="positions"}return"positions"===e?t.map(function(e){return C.fromStepping(n?C.getStep(e):e)}):"values"===e?n?t.map(function(e){return C.fromStepping(C.getStep(C.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return p=v.appendChild(function(e,t,n){var r=T.createElement("div"),o=[i.cssClasses.valueNormal,i.cssClasses.valueLarge,i.cssClasses.valueSub],a=[i.cssClasses.markerNormal,i.cssClasses.markerLarge,i.cssClasses.markerSub],c=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],l=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function u(e,t){var n=t===i.cssClasses.value;return t+" "+(n?c:l)[i.ort]+" "+(n?o:a)[e]}return s(r,i.cssClasses.pips),s(r,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(e).forEach(function(s){!function(e,s){s[1]=s[1]&&t?t(s[0],s[1]):s[1];var o=A(r,!1);o.className=u(s[1],i.cssClasses.marker),o.style[i.style]=e+"%",s[1]&&((o=A(r,!1)).className=u(s[1],i.cssClasses.value),o.style[i.style]=e+"%",o.innerText=n.to(s[0]))}(s,e[s])}),r}(r,n,o))}function R(){var e=l.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||l[t]:e.height||l[t]}function F(e,t,n,r){var s=function(s){return!v.hasAttribute("disabled")&&(c=i.cssClasses.tap,!((o=v).classList?o.classList.contains(c):new RegExp("\\b"+c+"\\b").test(o.className)))&&!!(s=function(e,t,n){var r,s,o=0===e.type.indexOf("touch"),c=0===e.type.indexOf("mouse"),l=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(l=!0),o&&i.multitouch){var u=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var h=Array.prototype.filter.call(e.touches,u);if(h.length>1)return!1;r=h[0].pageX,s=h[0].pageY}else{var d=Array.prototype.find.call(e.changedTouches,u);if(!d)return!1;r=d.pageX,s=d.pageY}}else if(o){if(e.touches.length>1)return!1;r=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY}return t=t||a(T),(c||l)&&(r=e.clientX+t.x,s=e.clientY+t.y),e.pageOffset=t,e.points=[r,s],e.cursor=c||l,e}(s,r.pageOffset,r.target||t))&&!(e===g.start&&void 0!==s.buttons&&s.buttons>1)&&(!r.hover||!s.buttons)&&(y||s.preventDefault(),s.calcPoint=s.points[i.ort],void n(s,r));var o,c},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,s,!!y&&{passive:!0}),o.push([e,s])}),o}function N(e){var t,n,r,s,o,c,u=100*(e-(n=i.ort,r=(t=l).getBoundingClientRect(),o=(s=t.ownerDocument).documentElement,c=a(s),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),n?r.top+c.y-o.clientTop:r.left+c.x-o.clientLeft))/R();return i.dir?100-u:u}function L(e,t,n,r){var i=n.slice(),s=[!e,e],o=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach(function(e,n){var r=V(i,e,i[e]+t,s[n],o[n],!1);!1===r?t=0:(t=r-i[e],i[e]=r)}):s=o=[!0];var a=!1;r.forEach(function(e,r){a=G(e,n[e]+t,s[r],o[r])||a}),a&&r.forEach(function(e){Z("update",e),Z("slide",e)})}function Z(e,t,n){Object.keys(x).forEach(function(r){var s=r.split(".")[0];e===s&&x[r].forEach(function(e){e.call(d,S.map(i.format.to),t,S.slice(),n||!1,_.slice())})})}function U(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&j(e,t)}function q(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return j(e,t);var n=(i.dir?-1:1)*(e.calcPoint-t.startCalcPoint);L(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function j(t,n){n.handle&&(o(n.handle,i.cssClasses.active),w-=1),n.listeners.forEach(function(e){E.removeEventListener(e[0],e[1])}),0===w&&(o(v,i.cssClasses.drag),H(),t.cursor&&(k.style.cursor="",k.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(e){Z("change",e),Z("set",e),Z("end",e)})}function B(t,n){var r;if(1===n.handleNumbers.length){var o=u[n.handleNumbers[0]];if(o.hasAttribute("disabled"))return!1;w+=1,s(r=o.children[0],i.cssClasses.active)}t.stopPropagation();var a=[],c=F(g.move,E,q,{target:t.target,handle:r,listeners:a,startCalcPoint:t.calcPoint,baseSize:R(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:_.slice()}),l=F(g.end,E,j,{target:t.target,handle:r,listeners:a,handleNumbers:n.handleNumbers}),h=F("mouseout",E,U,{target:t.target,handle:r,listeners:a,handleNumbers:n.handleNumbers});a.push.apply(a,c.concat(l,h)),t.cursor&&(k.style.cursor=getComputedStyle(t.target).cursor,u.length>1&&s(v,i.cssClasses.drag),k.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(e){Z("start",e)})}function V(e,t,n,r,s,o){return u.length>1&&(r&&t>0&&(n=Math.max(n,e[t-1]+i.margin)),s&&t<u.length-1&&(n=Math.min(n,e[t+1]-i.margin))),u.length>1&&i.limit&&(r&&t>0&&(n=Math.min(n,e[t-1]+i.limit)),s&&t<u.length-1&&(n=Math.max(n,e[t+1]-i.limit))),i.padding&&(0===t&&(n=Math.max(n,i.padding)),t===u.length-1&&(n=Math.min(n,100-i.padding))),a=n=C.getStep(n),!((n=Math.max(Math.min(a,100),0))===e[t]&&!o)&&n;var a}function z(e){return e+"%"}function H(){b.forEach(function(e){u[e].childNodes[0].style.zIndex=3+(u.length+(_[e]>50?-1:1)*e)})}function G(e,t,n,r){return!1!==(t=V(_,e,t,n,r,!1))&&(function(e,t){_[e]=t,S[e]=C.fromStepping(t);var n=function(){u[e].style[i.style]=z(t),$(e),$(e+1)};window.requestAnimationFrame&&i.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(e,t),!0)}function $(e){if(h[e]){var t=0,n=100;0!==e&&(t=_[e-1]),e!==h.length-1&&(n=_[e]),h[e].style[i.style]=z(t),h[e].style[i.styleOposite]=z(100-n)}}function W(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=i.format.from(e))||isNaN(e)||G(t,C.toStepping(e),!1,!1))}function Y(e,t){var s=r(e),o=void 0===_[0];t=void 0===t||!!t,s.forEach(W),i.animate&&!o&&n(v,i.cssClasses.tap,i.animationDuration),b.forEach(function(e){G(e,_[e],!0,!1)}),H(),b.forEach(function(e){Z("update",e),null!==s[e]&&t&&Z("set",e)})}function K(){var e=S.map(i.format.to);return 1===e.length?e[0]:e}function Q(e,t){x[e]=x[e]||[],x[e].push(t),"update"===e.split(".")[0]&&u.forEach(function(e,t){Z("update",t)})}if(v.noUiSlider)throw new Error("noUiSlider (10.1.0): Slider was already initialized.");return function(e){s(e,i.cssClasses.target),s(e,0===i.dir?i.cssClasses.ltr:i.cssClasses.rtl),s(e,0===i.ort?i.cssClasses.horizontal:i.cssClasses.vertical),l=A(e,i.cssClasses.base)}(v),function(e,t){u=[],(h=[]).push(O(t,e[0]));for(var n=0;n<i.handles;n++)u.push(I(t,n)),b[n]=n,h.push(O(t,e[n+1]))}(i.connect,l),d={destroy:function(){for(var e in i.cssClasses)i.cssClasses.hasOwnProperty(e)&&o(v,i.cssClasses[e]);for(;v.firstChild;)v.removeChild(v.firstChild);delete v.noUiSlider},steps:function(){return _.map(function(e,t){var n=C.getNearbySteps(e),r=S[t],i=n.thisStep.step,s=null;!1!==i&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),s=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?i=null:0===e&&(s=null);var o=C.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(o))),null!==s&&!1!==s&&(s=Number(s.toFixed(o))),[s,i]})},on:Q,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(x).forEach(function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||delete x[e]})},get:K,set:Y,reset:function(e){Y(i.start,e)},__moveHandles:function(e,t,n){L(e,t,_,n)},options:c,updateOptions:function(e,t){var n=K(),r=["margin","limit","padding","range","animate","snap","step","format"];r.forEach(function(t){void 0!==e[t]&&(c[t]=e[t])});var s=M(c);r.forEach(function(t){void 0!==e[t]&&(i[t]=s[t])}),C=s.spectrum,i.margin=s.margin,i.limit=s.limit,i.padding=s.padding,i.pips&&D(i.pips),_=[],Y(e.start||n,t)},target:v,removePips:P,pips:D},(m=i.events).fixed||u.forEach(function(e,t){F(g.start,e.children[0],B,{handleNumbers:[t]})}),m.tap&&F(g.start,l,function(e){e.stopPropagation();var t=N(e.calcPoint),r=function(e){var t=100,n=!1;return u.forEach(function(r,i){if(!r.hasAttribute("disabled")){var s=Math.abs(_[i]-e);s<t&&(n=i,t=s)}}),n}(t);if(!1===r)return!1;i.events.snap||n(v,i.cssClasses.tap,i.animationDuration),G(r,t,!0,!0),H(),Z("slide",r,!0),Z("update",r,!0),Z("change",r,!0),Z("set",r,!0),i.events.snap&&B(e,{handleNumbers:[r]})},{}),m.hover&&F(g.move,l,function(e){var t=N(e.calcPoint),n=C.getStep(t),r=C.fromStepping(n);Object.keys(x).forEach(function(e){"hover"===e.split(".")[0]&&x[e].forEach(function(e){e.call(d,r)})})},{hover:!0}),m.drag&&h.forEach(function(e,t){if(!1!==e&&0!==t&&t!==h.length-1){var n=u[t-1],r=u[t],o=[e];s(e,i.cssClasses.draggable),m.fixed&&(o.push(n.children[0]),o.push(r.children[0])),o.forEach(function(e){F(g.start,e,B,{handles:[n,r],handleNumbers:[t-1,t]})})}}),Y(i.start),i.pips&&D(i.pips),i.tooltips&&(f=u.map(function(e,t){return!!i.tooltips[t]&&A(e.firstChild,i.cssClasses.tooltip)}),Q("update",function(e,t,n){if(f[t]){var r=e[t];!0!==i.tooltips[t]&&(r=i.tooltips[t].to(n[t])),f[t].innerHTML=r}})),Q("update",function(e,t,n,r,s){b.forEach(function(e){var t=u[e],r=V(_,e,0,!0,!0,!0),o=V(_,e,100,!0,!0,!0),a=s[e],c=i.ariaFormat.to(n[e]);t.children[0].setAttribute("aria-valuemin",r.toFixed(1)),t.children[0].setAttribute("aria-valuemax",o.toFixed(1)),t.children[0].setAttribute("aria-valuenow",a.toFixed(1)),t.children[0].setAttribute("aria-valuetext",c)})}),d}return{version:"10.1.0",create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider (10.1.0): create requires a single element, got: "+e);var n=L(e,M(t),t);return e.noUiSlider=n,n}}})?n.apply(t,[]):n)||(e.exports=r)},8157:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},9009:(e,t,n)=>{"use strict";var r=n(5672),i=n(9913),s=n(8157);e.exports={formats:s,parse:i,stringify:r}},9913:(e,t,n)=>{"use strict";var r=n(6835),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,n,r){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(s),l=a?s.slice(0,a.index):s,u=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var h=0;n.depth>0&&null!==(a=o.exec(s))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+s.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:c(t,n),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(l,10);n.parseArrays||""!==l?!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=i:"__proto__"!==l&&(o[l]=i):o={0:i}}i=o}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:void 0===e.charset?o.charset:e.charset,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,l={},u=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),h=-1,d=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?d="utf-8":"utf8=%26%2310003%3B"===u[n]&&(d="iso-8859-1"),h=n,n=u.length);for(n=0;n<u.length;++n)if(n!==h){var p,f,m=u[n],g=m.indexOf("]="),y=-1===g?m.indexOf("="):g+1;-1===y?(p=t.decoder(m,o.decoder,d,"key"),f=t.strictNullHandling?null:""):(p=t.decoder(m.slice(0,y),o.decoder,d,"key"),f=r.maybeMap(c(m.slice(y+1),t),function(e){return t.decoder(e,o.decoder,d,"value")})),f&&t.interpretNumericEntities&&"iso-8859-1"===d&&(f=a(f)),m.indexOf("[]=")>-1&&(f=s(f)?[f]:f),l[p]=i.call(l,p)?r.combine(l[p],f):f}return l}(e,n):e,h=n.plainObjects?Object.create(null):{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],m=l(f,u[f],n,"string"==typeof e);h=r.merge(h,m,n)}return r.compact(h)}},5672:(e,t,n)=>{"use strict";var r=n(6835),i=n(8157),s=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=String.prototype.split,l=Array.prototype.push,u=function(e,t){l.apply(e,a(t)?t:[t])},h=Date.prototype.toISOString,d=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,i,s,o,l,h,d,f,m,g,y,v,_){var b,w=t;if("function"==typeof h?w=h(n,w):w instanceof Date?w=m(w):"comma"===i&&a(w)&&(w=r.maybeMap(w,function(e){return e instanceof Date?m(e):e})),null===w){if(s)return l&&!v?l(n,p.encoder,_,"key",g):n;w=""}if("string"==typeof(b=w)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(w)){if(l){var C=v?n:l(n,p.encoder,_,"key",g);if("comma"===i&&v){for(var S=c.call(String(w),","),x="",T=0;T<S.length;++T)x+=(0===T?"":",")+y(l(S[T],p.encoder,_,"value",g));return[y(C)+"="+x]}return[y(C)+"="+y(l(w,p.encoder,_,"value",g))]}return[y(n)+"="+y(String(w))]}var E,k=[];if(void 0===w)return k;if("comma"===i&&a(w))E=[{value:w.length>0?w.join(",")||null:void 0}];else if(a(h))E=h;else{var A=Object.keys(w);E=d?A.sort(d):A}for(var I=0;I<E.length;++I){var O=E[I],P="object"==typeof O&&void 0!==O.value?O.value:w[O];if(!o||null!==P){var D=a(w)?"function"==typeof i?i(n,O):n:n+(f?"."+O:"["+O+"]");u(k,e(P,D,i,s,o,l,h,d,f,m,g,y,v,_))}}return k};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return p;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!s.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=p.filter;return("function"==typeof e.filter||a(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):a(c.filter)&&(n=c.filter);var l=[];if("object"!=typeof r||null===r)return"";var h=o[t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices"];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var d=0;d<n.length;++d){var m=n[d];c.skipNulls&&null===r[m]||u(l,f(r[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var g=l.join(c.delimiter),y=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&(y+="iso-8859-1"===c.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),g.length>0?y+g:""}},6835:(e,t,n)=>{"use strict";var r=n(8157),i=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],u=o[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(s(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,s){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",l=0;l<a.length;++l){var u=a.charCodeAt(l);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===r.RFC1738&&(40===u||41===u)?c+=a.charAt(l):u<128?c+=o[u]:u<2048?c+=o[192|u>>6]+o[128|63&u]:u<55296||u>=57344?c+=o[224|u>>12]+o[128|u>>6&63]+o[128|63&u]:(u=65536+((1023&u)<<10|1023&a.charCodeAt(l+=1)),c+=o[240|u>>18]+o[128|u>>12&63]+o[128|u>>6&63]+o[128|63&u])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(s(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return s(t)&&!s(n)&&(o=a(t,r)),s(t)&&s(n)?(n.forEach(function(n,s){if(i.call(t,s)){var o=t[s];o&&"object"==typeof o&&n&&"object"==typeof n?t[s]=e(o,n,r):t.push(n)}else t[s]=n}),t):Object.keys(n).reduce(function(t,s){var o=n[s];return t[s]=i.call(t,s)?e(t[s],o,r):o,t},o)}}},9083:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,o,a){return s=s||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(i(e),function(i){var a=encodeURIComponent(t(i))+o;return n(e[i])?r(e[i],function(e){return a+encodeURIComponent(t(e))}).join(s):a+encodeURIComponent(t(e[i]))}).join(s):a?encodeURIComponent(t(a))+o+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},6215:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(9765),i=n(7971);class s extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(e){super.next(this._value=e)}}},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),c=n(2494);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>u});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),c=n(9181);class l extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),c=n(4449);class l extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new l(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>c});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>c});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},8071:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(5917),i=n(3282);function s(...e){return(0,i.J)(1)((0,r.of)(...e))}},1439:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(7574),i=n(4402),s=n(9193);function o(e){return new r.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.D)(n):(0,s.c)()).subscribe(t)})}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},5758:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(7574),i=n(9796),s=n(8002),o=n(1555),a=n(4402);function c(...e){if(1===e.length){const t=e[0];if((0,i.k)(t))return l(t,null);if((0,o.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return l(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return l(e=1===e.length&&(0,i.k)(e[0])?e[0]:e,null).pipe((0,s.U)(e=>t(...e)))}return l(e,null)}function l(e,t){return new r.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let c=0;c<r;c++){const l=(0,a.D)(e[c]);let u=!1;n.add(l.subscribe({next:e=>{u||(u=!0,o++),i[c]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),c=n(377),l=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,l.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},2759:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),i=n(9796),s=n(9105),o=n(8002);function a(e,t,n,l){return(0,s.m)(n)&&(l=n,n=void 0),l?a(e,t,n).pipe((0,o.U)(e=>(0,i.k)(e)?l(...e):l(e))):new r.y(r=>{c(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function c(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)c(e[s],t,n,r,i)}r.add(s)}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(7574);function i(e,t){return new r.y(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},628:(e,t,n)=>{"use strict";n.d(t,{e:()=>h});var r=n(3637),i=n(5345);class s{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new o(e,this.durationSelector))}}class o extends i.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=(0,i.ft)(n,new i.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n(7574),c=n(6561),l=n(4869);function u(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function h(e,t=r.P){return n=()=>function(e=0,t,n){let i=-1;return(0,c.k)(t)?i=Number(t)<1?1:Number(t):(0,l.K)(t)&&(n=t),(0,l.K)(n)||(n=r.P),new a.y(t=>{const r=(0,c.k)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new s(n))};var n}},5304:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(5345);function i(e){return function(t){const n=new s(e),r=t.lift(n);return n.caught=r}}class s{constructor(e){this.selector=e}call(e,t){return t.subscribe(new o(e,this.selector,this.caught))}}class o extends r.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new r.IY(this);this.add(i);const s=(0,r.ft)(n,i);s!==i&&this.add(s)}}}},4612:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(9773);function i(e,t){return(0,r.zg)(e,t,1)}},4395:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(7393),i=n(3637);function s(e,t=i.P){return n=>n.lift(new o(e,t))}class o{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends r.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function c(e){e.debouncedNext()}},5242:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(7393);function i(e=null){return t=>t.lift(new s(e))}class s{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(e,t){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},5435:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(7393);function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},197:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393),i=n(5319);function s(e){return t=>t.lift(new o(e))}class o{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends r.L{constructor(e,t){super(e),this.add(new i.w(t))}}},8049:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(3410),i=n(5435),s=n(5257),o=n(5242),a=n(4635),c=n(4487);function l(e,t){const n=arguments.length>=2;return l=>l.pipe(e?(0,i.h)((t,n)=>e(t,n,l)):c.y,(0,s.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(e,t,n)=>{"use strict";n.d(t,{ht:()=>u,QV:()=>c});var r=n(7393),i=n(9193),s=n(5917),o=n(205);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new l(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class l{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))}}class u extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},9328:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(7393);function i(){return e=>e.lift(new s)}class s{call(e,t){return t.subscribe(new o(e))}}class o extends r.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2145:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(7393);function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},8819:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2441),i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return e=>{return(0,i.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},2066:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var r=n(9765),i=n(7771),s=n(5319),o=n(6136),a=n(7971),c=n(8858);class l extends r.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let l;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?l=s.w.EMPTY:(this.observers.push(e),l=new c.W(this,e)),r&&e.add(e=new o.ht(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||i.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class u{constructor(e,t){this.time=e,this.value=t}}function h(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let h;o++,!i||a?(a=!1,i=new l(e,t,r),h=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):h=i.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}},9761:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(8071),i=n(4869);function s(...e){const t=e[e.length-1];return(0,i.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},9673:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),i=n(4581),s=n(6561);class o extends r.y{constructor(e,t=0,n=i.e){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,s.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(e,t=0,n=i.e){return new o(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function a(e,t=0){return function(n){return n.lift(new c(e,t))}}class c{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new o(t,this.delay,this.scheduler).subscribe(e)}}},3190:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends s.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},5257:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(7393),i=n(7108),s=n(9193);function o(e){return t=>0===e?(0,s.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},6782:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(5345);function i(e){return t=>t.lift(new s(e))}class s{constructor(e){this.notifier=e}call(e,t){const n=new o(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class o extends r.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4635:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(3410),i=n(7393);function s(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends i.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new r.K}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},4581:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,E:()=>u});let r=1;const i=Promise.resolve(),s={};function o(e){return e in s&&(delete s[e],!0)}const a={setImmediate(e){const t=r++;return s[t]=!0,i.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var c=n(6465),l=n(6102);const u=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}),h=u},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},3410:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},6561:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9796);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5639:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(7574);function i(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),c=n(4072),l=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,l.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},5811:(e,t,n)=>{"use strict";n.d(t,{h:()=>E});var r=n(1095),i=n(3738),s=n(4765),o=n(625),a=n(7636),c=n(8583),l=n(7716),u=n(2692),h=n(2458),d=n(9765),p=(n(5319),n(6682),n(5917),n(6461),n(5257),n(9761),n(5435),n(9490),n(521),n(7238),n(3679),n(8295),n(3166));n(946);let f=(()=>{class e{constructor(){this.changes=new d.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const m={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[o.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[f,m],imports:[[c.ez,r.ot,o.U8,s.rt,a.eL,h.BQ],u.ZD]}),e})();var y=n(2238),v=n(1552),_=n(3017),b=n(2522);n(8345),n(4402),n(6215),n(5639),n(6782);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[u.Cl]]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[w,h.BQ],h.BQ]}),e})();var S=n(7441),x=n(9992),T=n(6109);let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[r.ot,i.QW,g,y.Is,v.Ps,p.c,_.SJ,h.XK,b.g0,x.ie,C,T.Ky,S.LD]}),e})()},332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AuthModule:()=>T});var r=n(8583),i=n(3679),s=n(8333),o=n(1741),a=n(6495),c=n(7716),l=n(9466),u=n(1095),h=n(1552),d=n(8295),p=n(3166);function f(e,t){1&e&&(c.TgZ(0,"mat-error"),c._uU(1,"Introducir un correo valido"),c.qZA())}function m(e,t){1&e&&(c.TgZ(0,"mat-error"),c._uU(1,"Campo requerido"),c.qZA())}function g(e,t){1&e&&(c.TgZ(0,"mat-error"),c._uU(1,"Campo requerido"),c.qZA())}function y(e,t){1&e&&(c.TgZ(0,"mat-error"),c._uU(1,"Campo requerido"),c.qZA())}function v(e,t){1&e&&(c.TgZ(0,"mat-error"),c._uU(1,"Las contrase\xf1as deben coincidir"),c.qZA())}const _=[{path:"",children:[{path:"login",component:o.G},{path:"register",component:(()=>{class e{constructor(e,t,n){this.fb=e,this.authservice=t,this.router=n,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.showPasswd=!0,this.imgURL="./assets/avatar-placeholder.png",this.files=[],this.registerForm=this.fb.group({file:[this.imgURL],email:["",[i.kI.required,i.kI.pattern(this.emailPattern)]],passwd:["123456",[i.kI.required,i.kI.minLength(6)]],passwdConfirm:["123456",[i.kI.required,i.kI.minLength(6)]],username:["nombrePrueba",[i.kI.required,i.kI.minLength(3)]]},{validator:(0,a.R)("passwd","passwdConfirm")})}validezCampo(e){return this.registerForm.controls[e].errors&&this.registerForm.controls[e].touched}matchPasswd(){return!(this.registerForm.controls.passwd.value===this.registerForm.controls.passwdConfirm.value||!this.registerForm.controls.passwd.touched||!this.registerForm.controls.passwdConfirm.touched)}uploadFile(e){let t=e.target.files,n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=()=>{this.imgURL=n.result}}register(){this.authservice.SignUp(this.registerForm.controls.email.value,this.registerForm.controls.passwd.value,this.registerForm.controls.username.value,this.imgURL).then(e=>{this.router.navigate(["/"])})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(i.qu),c.Y36(l.e),c.Y36(s.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-register"]],decls:57,vars:12,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"formGrid"],[1,"div1"],["alt","User Placeholder",3,"src"],["type","button","mat-raised-button","","color","primary",3,"click"],["matPrefix",""],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"div2"],[1,"example-full-width"],["type","email","formControlName","email","autocomplete","on","matInput",""],[4,"ngIf"],["type","text","formControlName","username","autocomplete","on","matInput",""],[1,"div3"],["formControlName","passwd","autocomplete","on","matInput","",3,"type"],["matSuffix","",3,"click"],["autocomplete","on","formControlName","passwdConfirm","matInput","",3,"type"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["routerLink","/auth/login"]],template:function(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h2"),c._uU(4,"Registro"),c.qZA(),c.qZA(),c.TgZ(5,"form",3),c.NdJ("ngSubmit",function(){return t.register()}),c.TgZ(6,"div",4),c.TgZ(7,"div",5),c._UZ(8,"img",6),c.TgZ(9,"button",7),c.NdJ("click",function(){return c.CHM(e),c.MAs(14).click()}),c.TgZ(10,"mat-icon",8),c._uU(11," image "),c.qZA(),c._uU(12," Subir imagen "),c.qZA(),c.TgZ(13,"input",9,10),c.NdJ("change",function(e){return t.uploadFile(e)}),c.qZA(),c.qZA(),c.TgZ(15,"div",11),c.TgZ(16,"mat-form-field",12),c.TgZ(17,"mat-label"),c.TgZ(18,"mat-icon",8),c._uU(19," email "),c.qZA(),c._uU(20," Correo electr\xf3nico "),c.qZA(),c._UZ(21,"input",13),c.YNc(22,f,2,0,"mat-error",14),c.qZA(),c.TgZ(23,"mat-form-field",12),c.TgZ(24,"mat-label"),c.TgZ(25,"mat-icon",8),c._uU(26," person_outline "),c.qZA(),c._uU(27," Nombre de usuario "),c.qZA(),c._UZ(28,"input",15),c.YNc(29,m,2,0,"mat-error",14),c.qZA(),c.qZA(),c.TgZ(30,"div",16),c.TgZ(31,"mat-form-field",12),c.TgZ(32,"mat-label"),c.TgZ(33,"mat-icon",8),c._uU(34," lock "),c.qZA(),c._uU(35," Contrase\xf1a "),c.qZA(),c._UZ(36,"input",17),c.TgZ(37,"mat-icon",18),c.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),c._uU(38),c.qZA(),c.YNc(39,g,2,0,"mat-error",14),c.qZA(),c.TgZ(40,"mat-form-field",12),c.TgZ(41,"mat-label"),c.TgZ(42,"mat-icon",8),c._uU(43," lock "),c.qZA(),c._uU(44," Repetir Contrase\xf1a "),c.qZA(),c._UZ(45,"input",19),c.TgZ(46,"mat-icon",18),c.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),c._uU(47),c.qZA(),c.YNc(48,y,2,0,"mat-error",14),c.qZA(),c.YNc(49,v,2,0,"mat-error",14),c.qZA(),c.qZA(),c.TgZ(50,"div"),c.TgZ(51,"button",20),c._uU(52," Registrarse en OnlinEbook "),c.qZA(),c.qZA(),c.TgZ(53,"span"),c._uU(54," \xbfYa tienes una cuenta? "),c.TgZ(55,"a",21),c._uU(56,"Inicia sesi\xf3n"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(5),c.Q6J("formGroup",t.registerForm),c.xp6(3),c.s9C("src",t.imgURL,c.LSH),c.xp6(14),c.Q6J("ngIf",t.validezCampo("email")),c.xp6(7),c.Q6J("ngIf",t.validezCampo("username")),c.xp6(7),c.Q6J("type",t.showPasswd?"password":"text"),c.xp6(2),c.Oqu(t.showPasswd?"visibility_off":"visibility"),c.xp6(1),c.Q6J("ngIf",t.validezCampo("passwd")),c.xp6(6),c.Q6J("type",t.showPasswd?"password":"text"),c.xp6(2),c.Oqu(t.showPasswd?"visibility_off":"visibility"),c.xp6(1),c.Q6J("ngIf",t.validezCampo("passwdConfirm")),c.xp6(1),c.Q6J("ngIf",t.matchPasswd()),c.xp6(2),c.Q6J("disabled",t.registerForm.invalid))},directives:[i._Y,i.JL,i.sg,u.lW,h.Hw,d.qo,d.KE,d.hX,i.Fj,p.Nt,i.JJ,i.u,r.O5,d.R9,s.yS,d.TO],styles:[".componentcontainer[_ngcontent-%COMP%]{height:90%}.componentcontainer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:13px 13px 11px -11px #000000bf;padding-top:0}.verifyContainer[_ngcontent-%COMP%]{padding:5%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#000}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}.div1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:5px;width:100px;height:100px;border-radius:150px;align-self:center}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 700px){.formGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:50px;grid-row-gap:20px;margin-bottom:5%}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}}button[_ngcontent-%COMP%]{width:100%;margin-bottom:1%}span[_ngcontent-%COMP%]{margin-top:.5rem;align-self:center;color:#708090;font-size:14px}a[_ngcontent-%COMP%]{color:#3f51b5}.file-upload[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:none}.file-upload[_ngcontent-%COMP%]{padding:0 6px;margin:6px 8px;min-width:88px;border-radius:3px;font-size:14px;text-align:center;text-transform:uppercase;border:none;outline:none;background-color:#3f51b5!important}"]}),e})()},{path:"**",redirectTo:"login"}]}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(_)],s.Bz]}),e})();var w=n(5811),C=n(8939),S=n(2340),x=n(3820);let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[l.e],imports:[[r.ez,b,w.h,i.UX,x.ww,C.hO.initializeApp(S.N.firebaseConfig)]]}),e})()},6495:(e,t,n)=>{"use strict";function r(e,t){return n=>{const r=n.controls[t];r.errors&&!r.errors.confirmedValidator||r.setErrors(n.controls[e].value!==r.value?{confirmedValidator:!0}:null)}}n.d(t,{R:()=>r})},5046:(e,t,n)=>{"use strict";n.d(t,{t:()=>c});var r=n(7716),i=n(2238),s=n(9466),o=n(1095);const a="div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;z-index:0}.buttonDialog[_ngcontent-%COMP%]{margin:auto}";let c=(()=>{class e{constructor(e,t){this.dialog=e,this.authservice=t,this.authservice.userStateObs().subscribe(e=>{e&&(e.emailVerified||this.dialog.open(l))})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.uw),r.Y36(s.e))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-dialog-verify"]],decls:0,vars:0,template:function(e,t){},styles:[a]}),e})(),l=(()=>{class e{constructor(e,t){this.dialogRef=e,this.authService=t}resendVerifyMail(){this.authService.SendVerificationMail()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.so),r.Y36(s.e))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dialog-Verify"]],decls:5,vars:0,consts:[["mat-raised-button","","color","primary",1,"buttonDialog",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div"),r.TgZ(1,"h1"),r._uU(2,"No has verificado tu cuenta"),r.qZA(),r.TgZ(3,"button",0),r.NdJ("click",function(){return t.resendVerifyMail()}),r._uU(4," Reenviar Correo "),r.qZA(),r.qZA())},directives:[o.lW],styles:[a]}),e})()},1741:(e,t,n)=>{"use strict";n.d(t,{G:()=>g});var r=n(3679),i=n(7716),s=n(9466),o=n(8333),a=n(2238),c=n(5046),l=n(8295),u=n(1552),h=n(3166),d=n(8583),p=n(1095);function f(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Introducir un correo valido"),i.qZA())}function m(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Campo requerido"),i.qZA())}let g=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.authservice=t,this.router=n,this.dialog=i,this.showPasswd=!0,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.loginForm=this.fb.group({email:["zegreo@gmail.com",[r.kI.required,r.kI.pattern(this.emailPattern)]],passwd:["carpediem",r.kI.required]}),this.authservice.userStateObs().subscribe(e=>{e&&this.router.navigate(["/"])})}validezCampo(e){return this.loginForm.controls[e].errors&&this.loginForm.controls[e].touched}forgotPasswd(){this.dialog.open(y)}login(){this.authservice.SignIn(this.loginForm.controls.email.value,this.loginForm.controls.passwd.value)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.qu),i.Y36(s.e),i.Y36(o.F0),i.Y36(a.uw))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login"]],decls:31,vars:6,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matPrefix",""],["type","email","matInput","","formControlName","email","placeholder","example@example.com"],[4,"ngIf"],["formControlName","passwd","matInput","",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"click"],["routerLink","/auth/register"]],template:function(e,t){1&e&&(i._UZ(0,"app-dialog-verify"),i.TgZ(1,"div",0),i.TgZ(2,"div",1),i.TgZ(3,"div",2),i.TgZ(4,"h2"),i._uU(5,"Inicio sesion"),i.qZA(),i.qZA(),i.TgZ(6,"form",3),i.NdJ("ngSubmit",function(){return t.login()}),i.TgZ(7,"mat-form-field",4),i.TgZ(8,"mat-label"),i.TgZ(9,"mat-icon",5),i._uU(10," email "),i.qZA(),i._uU(11," Correo electr\xf3nico "),i.qZA(),i._UZ(12,"input",6),i.YNc(13,f,4,0,"mat-error",7),i.qZA(),i.TgZ(14,"mat-form-field",4),i.TgZ(15,"mat-label"),i.TgZ(16,"mat-icon",5),i._uU(17," lock "),i.qZA(),i._uU(18," Contrase\xf1a "),i.qZA(),i._UZ(19,"input",8),i.TgZ(20,"mat-icon",9),i.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),i._uU(21),i.qZA(),i.YNc(22,m,4,0,"mat-error",7),i.qZA(),i.TgZ(23,"button",10),i._uU(24," Acceder "),i.qZA(),i.TgZ(25,"span",11),i.NdJ("click",function(){return t.forgotPasswd()}),i._uU(26," \xbfHas olvidado la contrase\xf1a? "),i.qZA(),i.TgZ(27,"span"),i._uU(28," \xbfNo tienes cuenta?"),i.TgZ(29,"a",12),i._uU(30," Registrate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("formGroup",t.loginForm),i.xp6(7),i.Q6J("ngIf",t.validezCampo("email")),i.xp6(6),i.Q6J("type",t.showPasswd?"password":"text"),i.xp6(2),i.Oqu(t.showPasswd?"visibility_off":"visibility"),i.xp6(1),i.Q6J("ngIf",t.validezCampo("passwd")),i.xp6(1),i.Q6J("disabled",t.loginForm.invalid))},directives:[c.t,r._Y,r.JL,r.sg,l.KE,l.hX,u.Hw,l.qo,h.Nt,r.Fj,r.JJ,r.u,d.O5,l.R9,p.lW,o.yS,l.TO],styles:[".componentcontainer[_ngcontent-%COMP%]{height:90%}.componentcontainer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:13px 13px 11px -11px #000000bf;padding-top:0}.verifyContainer[_ngcontent-%COMP%]{padding:5%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#000}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}.div1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:5px;width:100px;height:100px;border-radius:150px;align-self:center}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 700px){.formGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:50px;grid-row-gap:20px;margin-bottom:5%}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}}button[_ngcontent-%COMP%]{width:100%;margin-bottom:1%}span[_ngcontent-%COMP%]{margin-top:.5rem;align-self:center;color:#708090;font-size:14px}a[_ngcontent-%COMP%]{color:#3f51b5}.file-upload[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:none}.file-upload[_ngcontent-%COMP%]{padding:0 6px;margin:6px 8px;min-width:88px;border-radius:3px;font-size:14px;text-align:center;text-transform:uppercase;border:none;outline:none;background-color:#3f51b5!important}"]}),e})(),y=(()=>{class e{constructor(e,t,n){this.fb=e,this.authservice=t,this.dialogRef=n,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.passwdForm=this.fb.group({email:["",[r.kI.required,r.kI.pattern(this.emailPattern)]]})}forgotPasswd(){this.authservice.ForgotPassword(this.passwdForm.controls.email.value).then(e=>{this.dialogRef.close()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.qu),i.Y36(s.e),i.Y36(a.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-passwd-dialog"]],decls:14,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matPrefix",""],["type","email","matInput","","formControlName","email","placeholder","example@example.com"],["mat-dialog-actions",""],["mat-raised-button","","color","warn","type","submit",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Recupera tu cuenta"),i.qZA(),i.TgZ(2,"div",1),i._uU(3," Introduce tu correo electr\xf3nico "),i.TgZ(4,"form",2),i.NdJ("ngSubmit",function(){return t.forgotPasswd()}),i.TgZ(5,"mat-form-field",3),i.TgZ(6,"mat-label"),i.TgZ(7,"mat-icon",4),i._uU(8," email "),i.qZA(),i._uU(9," Correo electr\xf3nico "),i.qZA(),i._UZ(10,"input",5),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",6),i.TgZ(12,"button",7),i.NdJ("click",function(){return t.forgotPasswd()}),i._uU(13," Enviar correo "),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("formGroup",t.passwdForm))},directives:[a.uh,a.xY,r._Y,r.JL,r.sg,l.KE,l.hX,u.Hw,l.qo,h.Nt,r.Fj,r.JJ,r.u,a.H8,p.lW],encapsulation:2}),e})()},9466:(e,t,n)=>{"use strict";n.d(t,{e:()=>be});var r=n(6304),i=n(3854),s=n(7776),o=n(4762),a=n(9306),c=n(8604);const l=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new a.Yd("@firebase/auth");function h(e,...t){u.logLevel<=a.in.ERROR&&u.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function d(e,...t){throw m(e,...t)}function p(e,...t){return m(e,...t)}function f(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function m(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return l.create(e,...t)}function g(e,t,...n){if(!e)throw m(t,...n)}function y(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function v(e,t){e||y(t)}const _=new Map;function b(e){v(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},T=new C(3e4,6e4);function E(e,t,n,r){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e,t,n,s,o={}){return A(e,o,(0,r.Z)(function*(){let r={},o={};s&&("GET"===t?o=s:r={body:JSON.stringify(s)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),S.fetch()(O(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function A(e,t,n){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new P(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw D(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw D(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw D(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw f(e,a,o);d(e,a)}}catch(s){if(s instanceof i.ZR)throw s;d(e,"network-request-failed")}})).apply(this,arguments)}function O(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?function(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}(e.config,i):`${e.config.apiScheme}://${i}`}class P{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),T.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function D(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function R(){return(R=(0,r.Z)(function*(e,t){return E(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function F(e,t){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(e,t){return E(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function M(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function L(){return(L=(0,r.Z)(function*(e,t=!1){const n=(0,i.m9)(e),r=yield n.getIdToken(t),s=U(r);g(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:M(Z(s.auth_time)),issuedAtTime:M(Z(s.iat)),expirationTime:M(Z(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Z(e){return 1e3*Number(e)}function U(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(s){return h("Caught error parsing JWT payload as JSON",s),null}}function q(e,t){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof i.ZR&&B(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function B({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class V{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function H(e){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield q(e,F(n,{idToken:r}));g(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Y(s.providerUserInfo):[],a=W(e.providerData,o),c=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new z(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,l)})).apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e){const t=(0,i.m9)(e);yield H(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function W(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Y(e){return e.map(e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function K(){return(K=(0,r.Z)(function*(e,t){const n=yield A(e,{},(0,r.Z)(function*(){const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=O(e,r,"/v1/token",`key=${s}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){g(e.idToken,"internal-error"),g(void 0!==e.idToken,"internal-error"),g(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=U(e);return g(t,"internal-error"),g(void 0!==t.exp,"internal-error"),g(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return g(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return K.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Q;return n&&(g("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(g("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(g("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return y("not implemented")}}function J(e,t){g("string"==typeof e||void 0===e,"internal-error",{appName:t})}class X{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield q(t,t.stsTokenManager.getToken(t.auth,e));return g(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return L.apply(this,arguments)}(this,e)}reload(){return function(e){return $.apply(this,arguments)}(this)}_assign(e){this!==e&&(g(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new X(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){g(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield H(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield q(e,function(e,t){return R.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:S}=t;g(_&&S,e,"internal-error");const x=Q.fromJSON(this.name,S);g("string"==typeof _,e,"internal-error"),J(u,e.name),J(h,e.name),g("boolean"==typeof b,e,"internal-error"),g("boolean"==typeof w,e,"internal-error"),J(d,e.name),J(p,e.name),J(f,e.name),J(m,e.name),J(y,e.name),J(v,e.name);const T=new X({uid:_,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:x,createdAt:y,lastLoginAt:v});return C&&Array.isArray(C)&&(T.providerData=C.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new Q;r.updateFromServerResponse(t);const i=new X({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield H(i),i})()}}const ee=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function te(e,t,n){return`firebase:${e}:${t}:${n}`}class ne{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=te(this.userKey,r.apiKey,i),this.fullPersistenceKey=te("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?X._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new ne(b(ee),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||b(ee);const o=te(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=X._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(l){}const c=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(l){}});return function(t){return e.apply(this,arguments)}}())),new ne(s,e,n)):new ne(s,e,n)})()}}function re(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function(e=(0,i.z$)()){return/iemobile/i.test(e)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function(e=(0,i.z$)()){return/firefox\//i.test(e)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function(e=(0,i.z$)()){return/blackberry/i.test(e)}(t))return"Blackberry";if(function(e=(0,i.z$)()){return/webos/i.test(e)}(t))return"Webos";if(function(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function(e=(0,i.z$)()){return/crios\//i.test(e)}(t))&&!t.includes("edge/"))return"Chrome";if(function(e=(0,i.z$)()){return/android/i.test(e)}(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ie(e,t=[]){let n;switch(e){case"Browser":n=re((0,i.z$)());break;case"Worker":n=`${re((0,i.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class se{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oe(this),this.idTokenSubscription=new oe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield ne.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(g(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield H(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,i.m9)(e):null;return n&&g(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&g(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(b(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&b(e)||t._popupRedirectResolver;g(n,t,"argument-error"),t.redirectPersistenceManager=yield ne.create(t,[b(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return g(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return g(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}class oe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return g(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)(function*(e,t){return E(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function le(){return(le=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield q(e,ae(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}new WeakMap,Math.floor(1e6*Math.random()),new C(3e4,6e4),new C(2e3,1e4),new Map,new C(3e4,6e4),new C(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var ue,he="@firebase/auth",de="0.19.9";class pe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){g(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ue="Browser",(0,s._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{g(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),g(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ue,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ie(ue)},s=new se(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new c.wA("auth-internal",e=>{return(e=>new pe(e))((t=e.getProvider("auth").getImmediate(),(0,i.m9)(t)));var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(he,de,void 0),(0,s.registerVersion)(he,de,"esm2017");var fe=n(8674),me=(n(7084),n(2340)),ge=n(7716),ye=n(3820),ve=n(3071),_e=n(8333);fe.Z.initializeApp(me.N.firebaseConfig);let be=(()=>{class e{constructor(e,t,n){this.afAuth=e,this.userService=t,this.router=n,this.storageRef=fe.Z.app().storage().ref(),this.userStateObs().subscribe(e=>{e?(this.userState=e,localStorage.setItem("userOnlinebook",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("userOnlinebook"))):(localStorage.removeItem("userOnlinebook"),JSON.parse(localStorage.getItem("userOnlinebook")))})}userStateObs(){return this.afAuth.authState}getUser(){return this.userState}SignIn(e,t){return this.afAuth.signInWithEmailAndPassword(e,t).then(function(){}).catch(e=>{window.alert("Fallo en el inicio de sesion. Correo o contrase\xf1a incorreto")})}SignUp(e,t,n,r){return this.afAuth.createUserWithEmailAndPassword(e,t).then(e=>{this.afAuth.currentUser.then(e=>{this.SubirImagen(null==e?void 0:e.uid,r).then(t=>{this.userService.createUserTable(e.uid,t,n,e.email),null==e||e.updateProfile({displayName:n,photoURL:t}).then(t=>{e&&(this.userState=e,localStorage.setItem("userOnlinebook",JSON.stringify(this.userState)))}).then(e=>{this.SendVerificationMail()})})})}).catch(e=>{window.alert(e.message)})}SignOut(){return localStorage.removeItem("userOnlinebook"),this.afAuth.signOut()}SendVerificationMail(){var e=this;return(0,r.Z)(function*(){return yield e.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{console.log("se envia")}).catch()})()}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Enviado correo de recuperacion de cuenta")}).catch(e=>{window.alert(e)})}SubirImagen(e,t){var n=this;return(0,r.Z)(function*(){try{let r=yield n.storageRef.child("users/"+e).putString(t,"data_url");return yield r.ref.getDownloadURL()}catch(r){return window.alert(r),null}})()}UpdateUserInfo(e,t,n){var i=this;return(0,r.Z)(function*(){if(e)try{yield i.UpdateEmail(e)}catch(r){return 1}if(t)try{yield i.UpdateUserName(t)}catch(r){return 2}if(n)try{yield i.UpdateUserImage(n)}catch(r){return 3}return 0})()}UpdateEmail(e){return this.afAuth.currentUser.then(t=>t.updateEmail(e)).then(e=>this.SendVerificationMail().catch(e=>console.log(e)))}UpdateUserName(e){return this.afAuth.currentUser.then(t=>{null==t||t.updateProfile({displayName:e}).then(e=>{t&&(this.userState=t,localStorage.setItem("userOnlinebook",JSON.stringify(this.userState)))})})}UpdateUserImage(e){return this.afAuth.currentUser.then(t=>{this.SubirImagen(null==t?void 0:t.uid,e).then(e=>{null==t||t.updateProfile({photoURL:e}).then(e=>{t&&(this.userState=t,localStorage.setItem("userOnlinebook",JSON.stringify(this.userState)))})})}).catch(e=>{window.alert(e.message)})}reautenticateUser(e){var t=this;return(0,r.Z)(function*(){try{var n=yield t.afAuth.currentUser}catch(i){return!1}var r=fe.Z.auth.EmailAuthProvider.credential(null==n?void 0:n.email,e);try{yield null==n?void 0:n.reauthenticateWithCredential(r)}catch(i){return!1}return!0})()}updatePasswd(e,t){var n=this;return(0,r.Z)(function*(){try{var r=yield n.afAuth.currentUser}catch(o){return!1}var s=fe.Z.auth.EmailAuthProvider.credential(null==r?void 0:r.email,e);try{yield null==r?void 0:r.reauthenticateWithCredential(s)}catch(o){return!1}try{yield function(e,t){return function(e,t,n){return le.apply(this,arguments)}((0,i.m9)(e),null,t)}(r,t)}catch(o){return!1}return!0})()}}return e.\u0275fac=function(t){return new(t||e)(ge.LFG(ye.zQ),ge.LFG(ve.K),ge.LFG(_e.F0))},e.\u0275prov=ge.Yz7({token:e,factory:e.\u0275fac}),e})()},3071:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(8674),i=n(2340),s=n(7716),o=n(1775);r.Z.initializeApp(i.N.firebaseConfig);let a=(()=>{class e{constructor(e){this.firestore=e}getUserById(e){return this.firestore.collection("user").doc(e).valueChanges()}createUserTable(e,t,n,r){return this.firestore.collection("user").doc(e).set({email:r,rol:0,userName:n,img:t})}updateUser(e,t,n,r){return this.firestore.collection("user").doc(e).set({email:r,rol:0,userName:n,img:t})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.ST))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2340:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r={production:!0,useEmulators:!0,firebaseConfig:{apiKey:"AIzaSyB3_urIXwZSk1isy23ElkyVQjjk3WX751o",authDomain:"onlinebook-a779c.firebaseapp.com",projectId:"onlinebook-a779c",storageBucket:"onlinebook-a779c.appspot.com",messagingSenderId:"78846753008",appId:"1:78846753008:web:febda2147e03d20edd2a35",measurementId:"G-70HQSJZRDD"},algolia:{appId:"YOXBFV7TK8",apiKey:"9a76d971acc4ab2225df7b67d5c598e9",indexName:"OnlinEbook_post"}}},6850:(e,t,n)=>{"use strict";var r=n(9075),i=n(7716),s=n(8333),o=n(3738),a=n(1095);let c=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}goHome(){this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-error404"]],decls:13,vars:0,consts:[[1,"errorContainer"],[1,"header"],[1,"mat-card-subtittle-image"],["mat-card-image","","src","./assets/caratriste.png","alt","sad face"],[1,"card-button"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"mat-card-title",1),i._uU(2,"Oops!"),i.qZA(),i.TgZ(3,"div",2),i.TgZ(4,"mat-card-subtitle"),i._uU(5,"Error 404!"),i.qZA(),i._UZ(6,"img",3),i.qZA(),i.TgZ(7,"mat-card-content"),i.TgZ(8,"p"),i._uU(9,"No hemos podido encontrar la pagina que buscabas"),i.qZA(),i.qZA(),i.TgZ(10,"div",4),i.TgZ(11,"button",5),i.NdJ("click",function(){return t.goHome()}),i._uU(12," Volver a un lugar seguro "),i.qZA(),i.qZA(),i.qZA())},directives:[o.a8,o.n5,o.$j,o.G2,o.dn,a.lW],styles:[".errorContainer[_ngcontent-%COMP%]{max-width:400px;margin:auto;background:#fff;color:#000;padding:0;border-radius:8%;box-shadow:inset -10px -10px 18px -11px #000000a6}.header[_ngcontent-%COMP%]{background-color:#3f51b5;padding:5%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}mat-card-content[_ngcontent-%COMP%]{color:#000;margin-left:3%}mat-card-subtitle[_ngcontent-%COMP%]{font-weight:500;font-size:120%;color:#000;margin:3% 50px 3% 3%}.card-button[_ngcontent-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{margin-bottom:2%}img[_ngcontent-%COMP%]{max-width:100px;min-height:100px}.mat-card-subtittle-image[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}"]}),e})();var l=n(3679);var u=n(8295),h=n(1552),d=n(3166),p=n(8583),f=n(6304),m=n(8674),g=n(2340),y=(n(7084),n(5213)),v=n.n(y),_=n(1775);let b=(()=>{class e{constructor(e){this.firestore=e}addmessage(e,t,n,r){return this.firestore.collection("messages").add({mailFrom:e,rcptTo:t,Data:n,Subject:r})}getMessages(e){return this.firestore.collectionGroup("messages",t=>t.where("rcptTo","==",e)).valueChanges({idField:"eventId"})}removeMessage(e){return this.firestore.collection("messages").doc(e).delete()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.ST))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();m.Z.initializeApp(g.N.firebaseConfig);let w=(()=>{class e{constructor(e,t){this.firestore=e,this.messageService=t,this.storageRef=m.Z.app().storage().ref(),this.searchClient=v()("YOXBFV7TK8","9a76d971acc4ab2225df7b67d5c598e9"),this.items=e.collection("book").valueChanges({idField:"eventId"})}activateBook(e,t,n){var r="Su libro "+n.name+" ha sido a\xf1adido al catalogo";return this.firestore.collection("book").doc(e).update({active:!0}).then(e=>{this.messageService.addmessage(t,n.userOwner,r,"Libro aprobado")})}desactivateBook(e){return this.firestore.collection("book").doc(e).update({active:!1})}createBook(e,t,n,r,i,s,o,a,c,l){return this.SubirPortada(r,a).then(a=>{this.SubirPdf(r,c).then(c=>{var u={active:!1,author:e,categories:t,img:a,isbn:n,link:c,name:r,price:s,userOwner:o,year:i,abstract:l};return this.firestore.collection("book").add(u)})})}SubirPortada(e,t){var n=this;return(0,f.Z)(function*(){try{let r=yield n.storageRef.child("portadas/"+e).putString(t,"data_url");return yield r.ref.getDownloadURL()}catch(r){return window.alert(r),null}})()}SubirPdf(e,t){var n=this;return(0,f.Z)(function*(){try{let r=yield n.storageRef.child("pdf/"+e).putString(t,"data_url");return yield r.ref.getDownloadURL()}catch(r){return window.alert(r),null}})()}getBookById(e){return this.firestore.collection("book").doc(e).valueChanges({idField:"eventId"})}addAcquiredBook(e,t){return this.firestore.collection("acquired").add({user:e,book:t})}getAcquiredBook(e,t){return this.firestore.collectionGroup("acquired",n=>n.where("book","==",t).where("user","==",e)).valueChanges()}addFavoriteBook(e,t){return this.firestore.collection("favorites").add({user:e,book:t})}getFavoriteBook(e,t){return this.firestore.collectionGroup("favorites",n=>n.where("user",">=",e).where("book","==",t)).valueChanges({idField:"eventId"})}removeFavoriteBook(e){return this.firestore.collection("favorites").doc(e).delete()}addSlopesBook(e,t){return this.firestore.collection("slopes").add({user:e,book:t})}getSlopesBook(e,t){return this.firestore.collectionGroup("slopes",n=>n.where("user",">=",e).where("book","==",t)).valueChanges({idField:"eventId"})}removeSlopeBook(e){return this.firestore.collection("slopes").doc(e).delete()}addWantedBook(e,t){return this.firestore.collection("wanted").add({user:e,book:t})}getWantedBook(e,t){return this.firestore.collectionGroup("wanted",n=>n.where("user",">=",e).where("book","==",t)).valueChanges({idField:"eventId"})}removeWantedBook(e){return this.firestore.collection("wanted").doc(e).delete()}getMyBooks(e){var t=[];return this.firestore.collectionGroup("acquired",t=>t.where("user","==",e)).valueChanges({idField:"eventId"}).subscribe(e=>{e.forEach(e=>{this.getBookById(e.book).subscribe(e=>{t.push(e)})})}),t}getMyFavorites(e){var t=[];return this.firestore.collectionGroup("favorites",t=>t.where("user","==",e)).valueChanges({idField:"eventId"}).subscribe(e=>{e.forEach(e=>{this.getBookById(e.book).subscribe(e=>{t.push(e)})})}),t}getMySlopes(e){var t=[];return this.firestore.collectionGroup("slopes",t=>t.where("user","==",e)).valueChanges({idField:"eventId"}).subscribe(e=>{e.forEach(e=>{this.getBookById(e.book).subscribe(e=>{t.push(e)})})}),t}getMyWanted(e){var t=[];return this.firestore.collectionGroup("wanted",t=>t.where("user","==",e)).valueChanges({idField:"eventId"}).subscribe(e=>{e.forEach(e=>{this.getBookById(e.book).subscribe(e=>{t.push(e)})})}),t}getMyPublished(e){var t=[];return this.firestore.collectionGroup("book",t=>t.where("userOwner","==",e)).valueChanges({idField:"eventId"}).subscribe(e=>{e.forEach(e=>{t.push(e)})}),t}getDownloadCount(e){return this.firestore.collectionGroup("acquired",t=>t.where("book","==",e)).valueChanges({idField:"eventId"})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.ST),i.LFG(b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),C=(()=>{class e{constructor(e){this.BookService=e,this.book={},this.id=""}ngOnInit(){this.id=this.book.eventId?this.book.eventId:this.book.objectID}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-bookcard"]],inputs:{book:"book"},decls:16,vars:6,consts:[[1,"bookCard-top"],[1,"bookCard"],[1,"bookCard-cover"],[1,"bookCard_book"],[1,"bookCard_book-front"],[1,"bookCard-img"],[1,"bookCard_bookSide"],[1,"bookCard_info"],[1,"bookCard_title"],[1,"bookCard_author"],[1,"bookCard_button"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){1&e&&(i.TgZ(0,"main"),i._UZ(1,"div",0),i.TgZ(2,"div",1),i.TgZ(3,"div",2),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i._UZ(6,"div",5),i.qZA(),i._UZ(7,"div",6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i._uU(10),i.qZA(),i.TgZ(11,"div",9),i._uU(12),i.qZA(),i.TgZ(13,"div",10),i.TgZ(14,"button",11),i._uU(15," Ver m\xe1s... "),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Jzz("background:url(",t.book.img,") no-repeat center center; background-size: cover"),i.xp6(4),i.hij(" ",t.book.name," "),i.xp6(2),i.hij(" ",t.book.author," "),i.xp6(2),i.MGl("routerLink","/book/",t.id,""))},directives:[a.lW,s.rH],styles:["main[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;width:150px;box-shadow:15px 14px 24px 1px #00000070}.bookCard-top[_ngcontent-%COMP%]{width:150px;background-color:#fff;height:10px;border-radius:10px 10px 0 0}.bookCard-cover[_ngcontent-%COMP%]{position:relative;width:150px;height:300px;margin:0 auto;perspective:1000px}.bookCard-img[_ngcontent-%COMP%]{width:150px;height:300px;background-size:100% 100%;border-radius:0}@media (min-width: 750px){main[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;width:200px;box-shadow:15px 14px 24px 1px #00000070}.bookCard-top[_ngcontent-%COMP%]{width:200px;background-color:#fff;height:10px;border-radius:10px 10px 0 0}.bookCard-cover[_ngcontent-%COMP%]{position:relative;width:200px;height:300px;margin:0 auto;perspective:1000px}.bookCard-img[_ngcontent-%COMP%]{width:200px;height:300px;background-size:100% 100%;border-radius:0}.bookCard_info[_ngcontent-%COMP%]{background-color:#fff;margin-top:0;padding:3%;border-radius:0 0 10px 10px;width:94%;height:200px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(3,1fr)}}.bookCard_info[_ngcontent-%COMP%]{background-color:#fff;margin-top:0;padding:3%;border-radius:0 0 10px 10px;width:94%;height:150px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(3,1fr)}.bookCard_author[_ngcontent-%COMP%]{color:#757575;font-size:1em;text-align:center}.bookCard[_ngcontent-%COMP%]:hover   .bookCard_book[_ngcontent-%COMP%]{transform:rotate3d(0,-1,0,30deg) translate(-15px,-30px)}.bookCard[_ngcontent-%COMP%]:hover   .bookCard-img[_ngcontent-%COMP%]{border-radius:0}.bookCard[_ngcontent-%COMP%]:hover   .bookCard_bookSide[_ngcontent-%COMP%]{opacity:1}.bookCard_button[_ngcontent-%COMP%]{position:relative;bottom:0}.bookCard_img[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#e1e1e1}.bookCard_title[_ngcontent-%COMP%]{font-size:1.5em;display:block;text-align:center;color:#000;margin:10px auto}.bookCard_bookSide[_ngcontent-%COMP%]{position:absolute;top:5px;bottom:2px;right:-29px;width:40px;background-size:5px;background-color:#e1e1e1;background-image:linear-gradient(90deg,#ccc 35%,#e1e1e1 0);opacity:0;transform:rotateY(90deg)}.bookCard_book-front[_ngcontent-%COMP%]{position:absolute;height:100%}.bookCard_book[_ngcontent-%COMP%]{height:100%;transform-style:preserve-3d;transition:all .25s ease}.bookCard[_ngcontent-%COMP%]{margin-top:0;padding:0;border-radius:0;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}"]}),e})();function S(e,t){if(1&e&&(i.TgZ(0,"div",12),i._UZ(1,"app-bookcard",13),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}let x=(()=>{class e{constructor(e){this.fb=e,this.items=[],this.pag=0,this.searchForm=this.fb.group({busqueda:["",[l.kI.required]]}),this.searchAlgolia("",this.pag)}searchAlgolia(e,t){const r=n(7778);this.items=[],r("YOXBFV7TK8","9a76d971acc4ab2225df7b67d5c598e9").initIndex("OnlinEbook_post").search(e,{getRankingInfo:!0,hitsPerPage:6,attributesToSnippet:"*:20",page:t,facets:["*"],numericFilters:["active=1"]}).then(e=>{0==e.hits.length?(this.pag=this.pag-1,this.searchAlgolia(this.searchForm.controls.busqueda.value,this.pag)):this.items=e.hits})}searchResult(){this.searchAlgolia(this.searchForm.controls.busqueda.value,0)}prePag(){0!=this.pag&&(this.pag=this.pag-1,this.searchAlgolia(this.searchForm.controls.busqueda.value,this.pag))}nextPag(){this.pag=this.pag+1,this.searchAlgolia(this.searchForm.controls.busqueda.value,this.pag)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-catalog-home"]],decls:23,vars:2,consts:[[1,"catalogContainer"],[1,"searchForm"],[3,"formGroup","ngSubmit"],[1,"searchInput"],["matPrefix",""],["type","text","matInput","","formControlName","busqueda","placeholder","Buscar ..."],["mat-raised-button","","color","primary","type","submit"],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"paginacionDiv"],[1,"prePag",3,"click"],[1,"nextPag",3,"click"],[1,"catalog-item"],[1,"feature",3,"book"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"form",2),i.NdJ("ngSubmit",function(){return t.searchResult()}),i.TgZ(3,"div"),i.TgZ(4,"mat-form-field",3),i.TgZ(5,"mat-label"),i.TgZ(6,"mat-icon",4),i._uU(7," search "),i.qZA(),i._uU(8," Buscar... "),i.qZA(),i._UZ(9,"input",5),i.qZA(),i.TgZ(10,"button",6),i._uU(11," Buscar "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",7),i.YNc(13,S,2,1,"div",8),i.qZA(),i.TgZ(14,"div",9),i.TgZ(15,"div",10),i.NdJ("click",function(){return t.prePag()}),i.TgZ(16,"mat-icon"),i._uU(17,"keyboard_arrow_left"),i.qZA(),i._uU(18," Pagina anterior "),i.qZA(),i.TgZ(19,"div",11),i.NdJ("click",function(){return t.nextPag()}),i._uU(20," Pagina siguiente "),i.TgZ(21,"mat-icon"),i._uU(22,"keyboard_arrow_right"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("formGroup",t.searchForm),i.xp6(11),i.Q6J("ngForOf",t.items))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,d.Nt,l.Fj,l.JJ,l.u,a.lW,p.sg,C],styles:[".catalogContainer[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto 20px;padding:2%;border-radius:2rem;display:flex;flex-direction:column}.catalog-grid[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(10rem,1fr))}@media (min-width: 750px){.catalog-grid[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr))}}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-row:span 2}.searchForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:70%;margin:auto}button[_ngcontent-%COMP%]{margin-left:20px}.searchInput[_ngcontent-%COMP%]{width:60%}button[_ngcontent-%COMP%]{width:25%}form[_ngcontent-%COMP%]{width:100%;margin:auto}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#1a1a1a}.paginacionDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:30px;justify-content:space-between}.nextPag[_ngcontent-%COMP%], .prePag[_ngcontent-%COMP%]{font-size:large;display:flex;align-items:center}"]}),e})();var T=n(9466);let E=(()=>{class e{constructor(e){this.authService=e,this.var=!1,this.authService.userStateObs().subscribe(e=>{e&&(this.user=e.email)})}canActivate(){return this.user=localStorage.getItem("userOnlinebook"),!!this.user}canLoad(){return this.user&&(this.var=!0),this.var}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(T.e))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();m.Z.initializeApp(g.N.firebaseConfig);let k=(()=>{class e{constructor(e){this.firestore=e,this.storageRef=m.Z.app().storage().ref(),this.items=e.collection("carrousel").valueChanges({idField:"eventId"})}getCarrouselItems(){return this.firestore.collection("carrousel").valueChanges({idField:"eventId"})}deleteCarrouselItem(e){return this.firestore.collection("carrousel").doc(e).delete()}addCarrouselItem(e,t){this.SubirImagen(e,t).then(t=>{var n={name:e,path:t};return this.firestore.collection("carrousel").add(n)})}SubirImagen(e,t){var n=this;return(0,f.Z)(function*(){try{let r=yield n.storageRef.child("carrousel/"+e).putString(t,"data_url");return yield r.ref.getDownloadURL()}catch(r){return window.alert(r),null}})()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.ST))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function A(e,t){if(1&e&&(i.TgZ(0,"div",7),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Oqu(e.counter)}}function I(e,t){if(1&e&&i._UZ(0,"img",11),2&e){const e=i.oxw(2).index,t=i.oxw();i.Udp("object-fit",t.objectFit),i.Q6J("src",t.getImage(e).image.path,i.LSH)}}function O(e,t){if(1&e&&(i.TgZ(0,"div",9),i.YNc(1,I,1,3,"img",10),i.qZA()),2&e){const e=i.oxw().index,t=i.oxw();i.Udp("width",t.getCellWidth()+"px")("border-radius",t.borderRadius+"px"),i.xp6(1),i.Q6J("ngIf",t.getImage(e)&&t.getImage(e).image)}}function P(e,t){if(1&e&&i.YNc(0,O,2,5,"div",8),2&e){const e=t.index,n=i.oxw();i.Q6J("ngIf",e<n.cellLimit)}}function D(e,t){if(1&e&&i._UZ(0,"div",14),2&e){const e=t.index,n=i.oxw(2);i.ekj("carousel-dot-active",e===n.activeDotIndex)}}function R(e,t){if(1&e&&(i.TgZ(0,"div",12),i.YNc(1,D,1,2,"div",13),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.dotsArr)}}function F(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",15),i.TgZ(1,"div",16),i.NdJ("click",function(){return i.CHM(e),i.oxw().prev()}),i.qZA(),i.TgZ(2,"div",17),i.NdJ("click",function(){return i.CHM(e),i.oxw().next()}),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.ekj("carousel-arrows-outside",e.arrowsOutside)("carousel-dark-arrows","dark"===e.arrowsTheme),i.xp6(1),i.ekj("carousel-arrow-disabled",e.isPrevArrowDisabled()),i.xp6(1),i.ekj("carousel-arrow-disabled",e.isNextArrowDisabled())}}const N=["*"];class M{constructor(e){this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this._touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this._mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this._otherListeners={resize:"handleResize"},this.handleTouchstart=e=>{this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getTouchstartPosition(e),this.runHandler("touchstart",e)},this.handleTouchmove=e=>{switch(this.detectPan(e.touches)&&this.runHandler("pan",e),this.detectPinch(e)&&this.runHandler("pinch",e),this.detectLinearSwipe(e)){case"horizontal-swipe":e.swipeType="horizontal-swipe",this.runHandler("horizontal-swipe",e);break;case"vertical-swipe":e.swipeType="vertical-swipe",this.runHandler("vertical-swipe",e)}(this.detectLinearSwipe(e)||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.handleLinearSwipe(e)},this.handleTouchend=e=>{const t=e.touches;this.detectDoubleTap()&&this.runHandler("double-tap",e),this.detectTap(),this.runHandler("touchend",e),this.eventType="touchend",t&&0===t.length&&(this.eventType=void 0,this.i=0)},this.handleMousedown=e=>{this.isMousedown=!0,this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getMousedownPosition(e),this.runHandler("mousedown",e)},this.handleMousemove=e=>{if(this.isMousedown){switch(this.runHandler("pan",e),this.detectLinearSwipe(e)){case"horizontal-swipe":e.swipeType="horizontal-swipe",this.runHandler("horizontal-swipe",e);break;case"vertical-swipe":e.swipeType="vertical-swipe",this.runHandler("vertical-swipe",e)}(this.detectLinearSwipe(e)||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.handleLinearSwipe(e)}},this.handleMouseup=e=>{this.detectTap(),this.isMousedown=!1,this.runHandler("mouseup",e),this.eventType=void 0,this.i=0},this.handleWheel=e=>{this.runHandler("wheel",e)},this.handleResize=e=>{this.runHandler("resize",e)},this.properties=e,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}get touchListeners(){return this.properties.touchListeners?this.properties.touchListeners:this._touchListeners}get mouseListeners(){return this.properties.mouseListeners?this.properties.mouseListeners:this._mouseListeners}get otherListeners(){return this.properties.otherListeners?this.properties.otherListeners:this._otherListeners}destroy(){this.toggleEventListeners("removeEventListener")}toggleEventListeners(e){let t;for(var n in t="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(t=Object.assign(t,this.otherListeners)),t){const r=t[n];"resize"===n?("addEventListener"===e&&window.addEventListener(n,this[r],!1),"removeEventListener"===e&&window.removeEventListener(n,this[r],!1)):"mouseup"===n||"mousemove"===n?("addEventListener"===e&&document.addEventListener(n,this[r],{passive:!1}),"removeEventListener"===e&&document.removeEventListener(n,this[r],!1)):("addEventListener"===e&&this.element.addEventListener(n,this[r],!1),"removeEventListener"===e&&this.element.removeEventListener(n,this[r],!1))}}addEventListeners(e){window.addEventListener(e,this[this._mouseListeners[e]],!1)}removeEventListeners(e){window.removeEventListener(e,this[this._mouseListeners[e]],!1)}handleLinearSwipe(e){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(e)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",e),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",e)}runHandler(e,t){this.handlers[e]&&this.handlers[e](t)}detectPan(e){return 1===e.length&&!this.eventType||"pan"===this.eventType}detectDoubleTap(){if(null!=this.eventType)return;const e=(new Date).getTime(),t=e-this.lastTap;if(clearTimeout(this.doubleTapTimeout),t<this.doubleTapMinTimeout&&t>0)return!0;this.doubleTapTimeout=setTimeout(()=>{clearTimeout(this.doubleTapTimeout)},this.doubleTapMinTimeout),this.lastTap=e}detectTap(){if(null!=this.eventType)return;const e=(new Date).getTime()-this.touchstartTime;e>0&&this.runHandler(e<this.tapMinTimeout?"tap":"longtap",event)}detectPinch(e){return 2===e.touches.length&&void 0===this.eventType||"pinch"===this.eventType}detectLinearSwipe(e){const t=e.touches;if(t){if(1===t.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(e)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(e)}getLinearSwipeType(e){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){const t=Math.abs(this.moveLeft(0,e)-this.startX);return 3*Math.abs(this.moveTop(0,e)-this.startY)>t?"vertical-swipe":"horizontal-swipe"}return this.eventType}getElementPosition(){return this.element.getBoundingClientRect()}getTouchstartPosition(e){this.startX=e.touches[0].clientX-this.elementPosition.left,this.startY=e.touches[0].clientY-this.elementPosition.top}getMousedownPosition(e){this.startX=e.clientX-this.elementPosition.left,this.startY=e.clientY-this.elementPosition.top}moveLeft(e,t){const n=t.touches;return n?n[e].clientX-this.elementPosition.left:t.clientX-this.elementPosition.left}moveTop(e,t){const n=t.touches;return n?n[e].clientY-this.elementPosition.top:t.clientY-this.elementPosition.top}detectTouchScreen(){var e,t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||(e=["(",t.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(e).matches)}on(e,t){e&&(this.handlers[e]=t)}}class L{constructor(e,t,n,r,i){this.properties=e,this.utils=t,this.cells=n,this.container=r,this.slide=i,this.isSlideLengthLimited=!1,this.isContentImages=!0,this.isLazyLoad=!0,this.isContainerLocked=!0,this.alignCells="left",this.initialContainerPosition=0,this.containerPullLimit=100,this.handleTouchstart=e=>{this.container.handleTouchstart(),this.slide.handleTouchstart(e)},this.handleHorizontalSwipe=e=>{this.container.handleHorizontalSwipe()},this.handleTouchend=e=>{this.properties.freeScroll?this.container.handleTouchend():(this.container.handleTouchend(!0),this.slide.handleTouchend(e))},this.isNextArrowDisabled=()=>this.slide.isNextArrowDisabled(),this.isPrevArrowDisabled=()=>this.slide.isPrevArrowDisabled(),this.init()}get cellLength(){return this.cells.cellLength}get cellLengthInLightDOMMode(){if(this.images){let e=this.numberOfVisibleCells+2*this.overflowCellsLimit;return e>this.images.length&&(e=this.images.length),e}return this.cellLength}get lastCellIndex(){return this.images.length?this.images.length-1:this.cells.cellLength-1}get overflowCellsLimit(){return this.utils.overflowCellsLimit}get cellLimit(){if(this.isLightDOM){let e=this.numberOfVisibleCells+2*this.overflowCellsLimit;return e<this.numberOfVisibleCells&&(e=this.numberOfVisibleCells),e}return this.properties.images.length}get isLightDOM(){return this.properties.lightDOM||this.properties.loop}get images(){return this.properties.images}get margin(){return this.properties.margin}get minSwipeDistance(){return this.properties.minSwipeDistance}get transitionDuration(){return this.properties.transitionDuration}get transitionTimingFunction(){return this.properties.transitionTimingFunction}get fullCellWidth(){return this.properties.cellWidth+this.margin}get numberOfVisibleCells(){return this.utils.numberOfVisibleCells}get lapCounter(){return Math.floor(this.slide.counter/this.cellLengthInLightDOMMode)}get slideCounter(){return this.slide.counter}updateProperties(e){this.properties=e}init(){this.cellsElement=this.properties.cellsElement,this.visibleWidth=this.properties.visibleWidth||this.cellsElement.parentElement.clientWidth}destroy(){clearInterval(this.autoplayId)}lineUpCells(){this.cells.lineUp()}handleTransitionend(){this.slide.handleTransitionend()}getImage(e){return this.cells.getImage(e)}next(e=1){this.isNextArrowDisabled()||this.slide.next(e)}prev(e=1){this.slide.prev(e)}autoplay(){this.autoplayId=setInterval(()=>{this.next()},this.properties.autoplayInterval)}stopAutoplay(){this.autoplayId&&clearInterval(this.autoplayId)}}class Z{constructor(e,t,n){this.carouselProperties=e,this.utils=t,this.cells=n,this.newPositionIndex=0,this.isPositionCorrection=!1,this.initialPositionX=0,this.initialElementPositionX=0,this.isLocked=!0,this.pullLimit=100,this.startTime=0,this.startX=0,this.moveX=0,this.isSwipeInProgress=!1,this.init()}get visibleWidth(){return this.utils.visibleWidth}get overflowCellsLimit(){return this.utils.overflowCellsLimit}get images(){return this.carouselProperties.images}get element(){return this.carouselProperties.cellsElement}get freeScroll(){return this.carouselProperties.freeScroll}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get numberOfVisibleCells(){return this.utils.numberOfVisibleCells}get transitionDuration(){return this.carouselProperties.transitionDuration}get transitionTimingFunction(){return this.carouselProperties.transitionTimingFunction}get cellLength(){return this.images?this.images.length:this.cells.cellLength}get cellLengthInLightDOMMode(){if(this.images){let e=this.numberOfVisibleCells+2*this.overflowCellsLimit;return e>this.images.length&&(e=this.images.length),e}return this.cellLength}get tooFewCells(){return this.numberOfVisibleCells>this.cellLength}get disabled(){return this.tooFewCells}get margin(){return this.carouselProperties.margin}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}updateProperties(e){this.carouselProperties=e}init(){this.setWidth()}handleTouchstart(){this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()}handleHorizontalSwipe(){this.disabled||(this.isSwipeInProgress||(this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()),this.isSwipeInProgress=!0,this.moveX=this.utils.getMoveX(event),this.move())}handleTouchend(e=!1){this.disabled||(e?this.isSwipeInProgress=!1:(this.isSwipeInProgress=!1,this.finishMoving(),this.clearInitialValues()))}move(){let e=this.getMovePositionX();const t=this.detectPulled(),n=this.getDirection();t&&("left"===t.edge&&"right"===n||"right"===t.edge&&"left"===n)&&(e=this.slowdownOnPull(e)),this.transformPositionX(e,0),this.freeScroll&&(this.initialPositionX=e),t&&("left"===t.edge&&t.overflowX>this.pullLimit&&(this.initialPositionX=0),"right"===t.edge&&t.overflowX>this.pullLimit&&(this.initialPositionX=e))}getMovePositionX(){const e=this.getDistance();return this.initialElementPositionX-e}getDistance(){return this.startX-this.moveX}detectPulled(){const e=this.getCurrentPositionX();return e>0?{edge:"left",positionX:e,overflowX:Math.abs(e)}:e<this.getEndPosition()?{edge:"right",positionX:e,overflowX:Math.abs(e-this.getEndPosition())}:void 0}slowdownOnPull(e){let t=Math.abs(this.getDistance());const n=this.getEndPosition(),r=this.detectPulled();if(!r)return 0;const i=3+r.overflowX/50;let s=0;if("left"===r.edge){this.initialElementPositionX<0&&(t-=Math.abs(this.initialElementPositionX));const e=t/i;s=e,this.initialElementPositionX>0&&(s=this.initialElementPositionX+e),s>this.pullLimit&&(s=this.pullLimit)}if("right"===r.edge){const e=n+(this.initialElementPositionX-t-n)/i,r=this.getWidth();s=e,this.initialElementPositionX<-(r-this.visibleWidth)&&(s=r-this.visibleWidth+this.initialElementPositionX+e),s<n-this.pullLimit&&(s=n-this.pullLimit)}return s}finishMoving(){const e=this.getMovePositionX();let t=0;this.freeScroll&&(t=this.getInertia()),t=this.getAlignedPositionOnPull(t),this.transformPositionX(t),this.setInitialPosition(e)}getInertia(){const e=this.getDistance(),t=(new Date).getTime();return this.initialPositionX-e/(t-this.startTime)*100}getAlignedPositionOnPull(e){const t=this.getDirection();if("left"===t){let t=this.getEndPosition();if(e<t)return t}return"right"===t&&e>0?0:e}getCurrentPositionX(){const e=this.element.parentElement.getBoundingClientRect();return this.element.getBoundingClientRect().left-e.left}getEndPosition(){if(this.isLightDOM)return-(this.cells.imageUtils.getImages().length*this.fullCellWidth-this.visibleWidth-this.margin);{const e=this.getWidth();return this.element.parentElement.clientWidth-e}}transformPositionX(e,t=this.transitionDuration){void 0!==e&&(this.element.style.transition="transform "+t+"ms "+this.transitionTimingFunction,this.element.style.transform="translateX("+e+"px)")}getWidth(){let e=this.cellLengthInLightDOMMode*this.fullCellWidth,t=this.cellLength*this.fullCellWidth;return t<e&&(e=t),this.isLightDOM?e:t}setWidth(){const e=this.getWidth();this.element.style.width=e+"px"}setInitialPosition(e){this.initialPositionX=e}getElementPosition(){return this.element.getBoundingClientRect()}getInitialElementPositionX(){const e=this.utils.getCarouselElementPosition().left;return this.getElementPosition().left-e}clearInitialValues(){this.startX=this.moveX=0}getDirection(){const e=Math.sign(this.startX-this.moveX);return-1===e?"right":1===e?"left":void 0}}class U{constructor(e){this.cellStack=[],this.element=e}getImages(){return this.cellStack.filter(this.filter)}filter(e){return void 0!==e.img}}class q{constructor(e,t){this.carouselProperties=e,this.utils=t,this.counter=0,this.imageUtils=new U(this.element),this.init(e)}get images(){return this.carouselProperties.images}get cellLength(){return this.cells?this.cells.length:0}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get cellLengthInLightDOMMode(){if(this.images){let e=this.numberOfVisibleCells+2*this.overflowCellsLimit;return e>this.images.length&&(e=this.images.length),e}return this.cellLength}get numberOfVisibleCells(){return this.utils.numberOfVisibleCells}get overflowCellsLimit(){return this.utils.overflowCellsLimit}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}updateProperties(e){this.carouselProperties=e}lineUp(){const e=this.element?this.element.children:[];this.imageUtils.cellStack=[];for(var t=0;t<e.length;t++){let n=e[t],r=this.getCellPositionInContainer(t);n.style.transform="translateX("+r+"px)",n.style.width=this.carouselProperties.cellWidth+"px",this.getImage(t)&&this.imageUtils.cellStack.push({index:t,positionX:r,img:this.getImage(t).image})}}ifSequenceOfCellsIsChanged(){return"translateX(0px)"!==this.element.children[0].style.transform}getCellPositionInContainer(e){return this.getCellIndexInContainer(e)*this.fullCellWidth}getCellIndexInContainer(e){let t;if(!this.isLightDOM)return e;let n=this.cellLengthInLightDOMMode,r=this.counter-this.overflowCellsLimit;return r>n&&(r%=n),r<0?e:(t=e-r,t<0&&(t=n+t),t)}getImage(e){if(!this.images)return;let t=this.getImageIndex(e),n=this.images[t];return n&&!n.type&&(n.type="image"),{image:this.images[t],imageIndex:t}}getImageIndex(e){const t=this.getCellIndexInContainer(e);let n;return this.counter>this.overflowCellsLimit?(n=t+(this.counter-this.overflowCellsLimit),this.images&&this.carouselProperties.loop&&(n%=this.images.length)):n=e,n}setCounter(e){this.counter=e}init(e){this.element=this.carouselProperties.cellsElement,this.cells=this.element.children,this.visibleWidth=this.carouselProperties.visibleWidth||this.element.parentElement.clientWidth}}class j{constructor(e,t,n,r){this.carouselProperties=e,this.utils=t,this.cells=n,this.container=r,this.slideLength=0,this.isSlideInProgress=!1,this.counter=0,this._counter=0,this.distance=0,this.distanceAbs=0,this.isNotClickOnArrow=!1,this.initialPositionX=0,this.currentPositionX=0,this.isSlideLengthLimited=!1,this.init()}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get margin(){return this.carouselProperties.margin}get minSwipeDistance(){return this.carouselProperties.minSwipeDistance}get numberOfVisibleCells(){return this.utils.numberOfVisibleCells}get visibleCellsOverflowContainer(){return this.utils.visibleCellsOverflowContainer}get fixedContainerPosition(){return-this.overflowCellsLimit*this.fullCellWidth}get overflowCellsLimit(){return this.utils.overflowCellsLimit}get images(){return this.carouselProperties.images}get cellLength(){return this.isLightDOM?this.cells.cellLengthInLightDOMMode:this.images?this.images.length:this.cells.cellLength}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}updateProperties(e){this.carouselProperties=e,this.setVisibleWidth()}init(){this.visibleWidth=this.carouselProperties.visibleWidth||this.carouselProperties.hostElement.clientWidth}handleTouchstart(){this.isNotClickOnArrow=!0,this.isSlideLengthLimited=!1,this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())}handleTouchend(){this.isNotClickOnArrow&&(this.currentPositionX=this.container.getCurrentPositionX(),this.distanceAbs=Math.abs(this.initialPositionX-this.currentPositionX),this.distance=this.initialPositionX-this.currentPositionX,this.direction=this.getDirection(),this.isNotClickOnArrow=!1,this.handleSlide())}handleTransitionend(){this.setCounter(),this.isSlideInProgress=!1,this.isLightDOM&&this.alignContainerFast()}handleSlide(e){let t;if(!(e&&this.isSlideInProgress||!this.direction)){if(e?(this.slideLength=this.limitSlideLength(e),this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())):this.slideLength=this.getSlideLength(this.distanceAbs),this._counter=this.getPreliminaryCounter(),"left"===this.direction){e||(this.slideLength=this.limitSlideLength(this.getSlideLength(this.distanceAbs))),this._counter=this.getPreliminaryCounter();let n=this.isSlidesEnd(this._counter);t=this.getPositionByIndex(this._counter),n&&(this._counter=this.counter,t=this.getPositionByIndex(this.counter),this.slideLength=0)}"right"===this.direction&&(e||(this.slideLength=this.getSlideLength(this.distanceAbs)),this._counter<0&&(this._counter=this.counter,this.slideLength=this.counter),t=this.getPositionByIndex(this.counter-this.slideLength)),this.container.getCurrentPositionX()!==t&&(this.isSlideInProgress=!0,this.container.transformPositionX(t))}}next(e=1){this.direction="left",this.handleSlide(e)}prev(e=1){this.direction="right",this.handleSlide(e)}select(e){e>this.cellLength-1||(e>this.counter&&this.next(e-this.counter),e<this.counter&&this.prev(this.counter-e))}getPreliminaryCounter(){return"left"===this.direction?this.counter+this.slideLength:"right"===this.direction?this.counter-this.slideLength:0}limitSlideLength(e){if(e>1)for(var t=0;t<e;t++)if(!this.isSlidesEnd(this.counter+(e-t))){e-=t,this.isSlideLengthLimited=t>0;break}return e}getPositionCorrection(e){let t=0,n=this.isLastSlide(e);return this.carouselProperties.loop||"right"===this.direction?0:((this.isSlideLengthLimited||n)&&(this.visibleWidth<this.cells.cellLengthInLightDOMMode*this.fullCellWidth&&(t=-(this.numberOfVisibleCells*this.fullCellWidth-this.visibleWidth-this.margin)),t>=-this.margin&&(t=0)),t)}getSlideLength(e){this.isLastSlide(this.counter)&&"right"===this.direction&&(e+=this.visibleWidth%this.fullCellWidth);let t=Math.floor(e/this.fullCellWidth);return e%this.fullCellWidth>=this.minSwipeDistance&&t++,t}getDistanceAbs(){return Math.abs(this.initialPositionX-this.currentPositionX)}getDirection(){const e=Math.sign(this.initialPositionX-this.currentPositionX);return-1===e?"right":1===e?"left":void 0}isSlidesEnd(e){return!this.carouselProperties.loop&&(this.images?this.images.length:this.cells.cellLength)-e+(this.visibleCellsOverflowContainer?1:0)<this.numberOfVisibleCells}isLastSlide(e){return this.isSlidesEnd(e+1)}setCounter(){"left"===this.direction&&(this.counter=this.counter+this.slideLength),"right"===this.direction&&(this.counter=this.counter-this.slideLength)}getPositionByIndex(e){let t,n=this.getPositionCorrection(this.counter+this.slideLength);return 0!==n&&(n+=this.fullCellWidth),"right"===this.direction&&(n=0),t=this.isLightDOM&&this.isLightDOMMode(e)||this.isLightDOM&&this.ifLeftDOMModeAtEnd(e)?this.getPositionWithoutCorrection(this.initialPositionX)-((e-this.counter)*this.fullCellWidth-n):-(e*this.fullCellWidth-n),t=this.provideSafePosition(t),t}provideSafePosition(e){const t=this.container.getEndPosition();return"left"===this.direction&&e>0&&(e=0),"right"===this.direction&&e<t&&(e=t),e}getPositionWithoutCorrection(e){let t=Math.round(e)%this.fullCellWidth;return 0!==t?e-(this.fullCellWidth+t):e}isNextArrowDisabled(){return this.isLastSlide(this.counter)||!this.visibleCellsOverflowContainer&&this.cellLength<=this.numberOfVisibleCells||this.visibleCellsOverflowContainer&&this.cellLength<this.numberOfVisibleCells}isPrevArrowDisabled(){return 0===this.counter}alignContainerFast(){if(this.isLightDOMMode(this.counter))this.container.transformPositionX(this.fixedContainerPosition,0),this.cells.setCounter(this.counter),this.cells.lineUp();else if(this.ifLeftDOMModeToBeginning(this.counter))this.cells.ifSequenceOfCellsIsChanged()&&(this.container.transformPositionX(-this.counter*this.fullCellWidth,0),this.cells.setCounter(this.counter),this.cells.lineUp());else if(this.ifLeftDOMModeAtEnd(this.counter)){let e=this.container.getCurrentPositionX(),t=this.container.getWidth();if(this.isLastSlide(this.counter)&&t+e>=this.visibleWidth)return;let n=this.getPositionCorrection(this.counter);0!==n&&(n+=this.fullCellWidth),"right"===this.direction&&(n=0),this.container.transformPositionX(this.fixedContainerPosition+n,0),this.cells.setCounter(this.counter),this.cells.lineUp()}}isLightDOMMode(e){let t,n=this.images.length-this.overflowCellsLimit-this.numberOfVisibleCells;return!!this.isLightDOM&&(e>this.overflowCellsLimit&&"left"===this.direction&&e<=n&&(t=!0),e>=this.overflowCellsLimit&&"right"===this.direction&&e<n&&(t=!0),this.counter>this.overflowCellsLimit&&"left"===this.direction&&this.counter<=n&&(t=!0),this.counter>=this.overflowCellsLimit&&"right"===this.direction&&this.counter<n&&(t=!0),t)}ifLeftDOMModeAtEnd(e){let t,n=this.images.length-this.overflowCellsLimit-this.numberOfVisibleCells;return e>=n&&(t=!0),this.counter>=n&&(t=!0),t}ifLeftDOMModeToBeginning(e){let t;return e<=this.overflowCellsLimit&&(t=!0),this.counter<=this.overflowCellsLimit&&(t=!0),t}setVisibleWidth(){this.visibleWidth=this.carouselProperties.visibleWidth||this.carouselProperties.hostElement.clientWidth}}class B{constructor(e){this.carouselProperties=e}get images(){return this.carouselProperties.images}get margin(){return this.carouselProperties.margin}get overflowCellsLimit(){if(this.images&&this.isImagesLessCellLimit){let e=Math.floor((this.images.length-this.numberOfVisibleCells)/2);return e<0&&(e=0),e}return this.carouselProperties.overflowCellsLimit}get isImagesLessCellLimit(){return 2*this.carouselProperties.overflowCellsLimit+this.numberOfVisibleCells>this.images.length}get numberOfVisibleCells(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get visibleCellsOverflowContainer(){return this.numberOfVisibleCells*this.fullCellWidth-this.margin>this.visibleWidth}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get visibleWidth(){return this.carouselProperties.visibleWidth||this.carouselProperties.cellsElement.parentElement.clientWidth}updateProperties(e){this.carouselProperties=e}getStartX(e){const t=e.touches,n=this.getCarouselElementPosition().left;let r;return r=t?t[0].clientX-n:e.clientX-n,r}getMoveX(e){const t=e.touches,n=this.getCarouselElementPosition().left;return t?t[0].clientX-n:e.clientX-n}getCarouselElementPosition(){return this.carouselProperties.hostElement.getBoundingClientRect()}}let V=(()=>{class e{constructor(e,t){this.elementRef=e,this.ref=t,this.minTimeout=30,this.isVideoPlaying=!1,this._isCounter=!1,this._cellWidth=200,this._loop=!1,this._lightDOM=!1,this.isMoving=!1,this.isNgContent=!1,this.events=new i.vpe,this.height=200,this.autoplay=!1,this.autoplayInterval=5e3,this.pauseOnHover=!0,this.dots=!1,this.margin=10,this.objectFit="cover",this.minSwipeDistance=10,this.transitionDuration=200,this.transitionTimingFunction="ease-out",this.counterSeparator=" / ",this.overflowCellsLimit=3,this.listeners="mouse and touch",this.cellsToScroll=1,this.freeScroll=!1,this.arrows=!0,this.arrowsOutside=!1,this.arrowsTheme="light",this.hostClassCarousel=!0,this.handleTouchstart=e=>{this.touches.addEventListeners("mousemove","handleMousemove"),this.carousel.handleTouchstart(e),this.isMoving=!0},this.handleHorizontalSwipe=e=>{e.preventDefault(),this.carousel.handleHorizontalSwipe(e)},this.handleTouchend=e=>{this.carousel.handleTouchend(e),this.touches.removeEventListeners("mousemove","handleMousemove"),this.isMoving=!1},this.handleTap=e=>{let t=Array.prototype.slice.call(this.cellsElement.children),n=e.srcElement.closest(".carousel-cell");t.indexOf(n),t.indexOf(n)}}get isContainerLocked(){if(this.carousel)return this.carousel.isContainerLocked}get slideCounter(){if(this.carousel)return this.carousel.slideCounter}get lapCounter(){if(this.carousel)return this.carousel.lapCounter}get isLandscape(){return window.innerWidth>window.innerHeight}get isSafari(){const e=navigator.userAgent.toLowerCase();if(-1!==e.indexOf("safari"))return!(e.indexOf("chrome")>-1)}get counter(){let e;return e=this.loop?this.slideCounter%this.cellLength:this.slideCounter,e+1+this.counterSeparator+this.cellLength}get cellsElement(){return this.elementRef.nativeElement.querySelector(".carousel-cells")}get isArrows(){return this.arrows&&!this.freeScroll}get isCounter(){return this._isCounter&&this.cellLength>1}get activeDotIndex(){return this.slideCounter%this.cellLength}get cellLimit(){if(this.carousel)return this.carousel.cellLimit}get carouselWidth(){return this.elementRef.nativeElement.clientWidth}set images(e){this._images=e}get images(){return this._images}set cellWidth(e){e&&(this._cellWidth=e)}set isCounter(e){e&&(this._isCounter=e)}set loop(e){e&&(this._loop=e)}get loop(){return!!this.images&&this._loop}set lightDOM(e){e&&(this._lightDOM=e)}get lightDOM(){return!!this.images&&this._lightDOM}onWindowResize(e){this.utils.visibleWidth!==this.savedCarouselWidth&&this.resize()}onMousemove(e){this.autoplay&&this.pauseOnHover&&this.carousel.stopAutoplay()}onMouseleave(e){this.autoplay&&this.pauseOnHover&&this.carousel.autoplay()}ngOnInit(){this.isNgContent=this.cellsElement.children.length>0,this.touches=new M({element:this.cellsElement,listeners:this.listeners,mouseListeners:{mousedown:"handleMousedown",mouseup:"handleMouseup"}}),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("horizontal-swipe",this.handleHorizontalSwipe),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("tap",this.handleTap),this.setDimensions()}ngAfterViewInit(){this.initCarousel(),this.cellLength=this.getCellLength(),this.dotsArr=Array(this.cellLength).fill(1),this.ref.detectChanges(),this.carousel.lineUpCells(),this.savedCarouselWidth=this.carouselWidth,this.detectDomChanges()}ngOnChanges(e){(e.width||e.height||e.images)&&(this.setDimensions(),this.initCarousel(),this.carousel.lineUpCells(),this.ref.detectChanges())}ngOnDestroy(){this.touches.destroy()}initCarousel(){this.carouselProperties={id:this.id,cellsElement:this.elementRef.nativeElement.querySelector(".carousel-cells"),hostElement:this.elementRef.nativeElement,images:this.images,cellWidth:this.getCellWidth(),loop:this.loop,autoplayInterval:this.autoplayInterval,overflowCellsLimit:this.overflowCellsLimit,visibleWidth:this.width,margin:this.margin,minSwipeDistance:this.minSwipeDistance,transitionDuration:this.transitionDuration,transitionTimingFunction:this.transitionTimingFunction,videoProperties:this.videoProperties,eventHandler:this.events,freeScroll:this.freeScroll,lightDOM:this.lightDOM},this.utils=new B(this.carouselProperties),this.cells=new q(this.carouselProperties,this.utils),this.container=new Z(this.carouselProperties,this.utils,this.cells),this.slide=new j(this.carouselProperties,this.utils,this.cells,this.container),this.carousel=new L(this.carouselProperties,this.utils,this.cells,this.container,this.slide),this.autoplay&&this.carousel.autoplay()}resize(){this.landscapeMode=this.isLandscape,this.savedCarouselWidth=this.carouselWidth,this.carouselProperties.cellWidth=this.getCellWidth(),this.cells.updateProperties(this.carouselProperties),this.carousel.updateProperties(this.carouselProperties),this.container.updateProperties(this.carouselProperties),this.slide.updateProperties(this.carouselProperties),this.utils.updateProperties(this.carouselProperties),this.carousel.lineUpCells(),this.slide.select(0),this.ref.detectChanges()}detectDomChanges(){new MutationObserver(e=>{this.onDomChanges()}).observe(this.cellsElement,{attributes:!0,childList:!0,characterData:!0})}onDomChanges(){this.cellLength=this.getCellLength(),this.carousel.lineUpCells(),this.ref.detectChanges()}setDimensions(){this.hostStyleHeight=this.height+"px",this.hostStyleWidth=this.width+"px"}getImage(e){return this.carousel.getImage(e)}handleTransitionendCellContainer(e){"carousel-cells"===e.target.className&&this.carousel.handleTransitionend()}getCellWidth(){let e=this.carouselWidth;return this.cellsToShow?(e-(this.cellsToShow>1?this.margin:0)*(this.cellsToShow-1))/this.cellsToShow:"100%"===this._cellWidth?e:this._cellWidth}next(){this.carousel.next(this.cellsToScroll),this.carousel.stopAutoplay()}prev(){this.carousel.prev(this.cellsToScroll),this.carousel.stopAutoplay()}isNextArrowDisabled(){if(this.carousel)return this.carousel.isNextArrowDisabled()}isPrevArrowDisabled(){if(this.carousel)return this.carousel.isPrevArrowDisabled()}getCellLength(){return this.images?this.images.length:this.cellsElement.children.length}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["carousel"],["","carousel",""]],hostVars:6,hostBindings:function(e,t){1&e&&i.NdJ("resize",function(e){return t.onWindowResize(e)},!1,i.Jf7)("mousemove",function(e){return t.onMousemove(e)})("mouseleave",function(e){return t.onMouseleave(e)}),2&e&&(i.Udp("height",t.hostStyleHeight)("width",t.hostStyleWidth),i.ekj("carousel",t.hostClassCarousel))},inputs:{height:"height",autoplay:"autoplay",autoplayInterval:"autoplayInterval",pauseOnHover:"pauseOnHover",dots:"dots",margin:"margin",objectFit:"objectFit",minSwipeDistance:"minSwipeDistance",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction",counterSeparator:"counterSeparator",overflowCellsLimit:"overflowCellsLimit",listeners:"listeners",cellsToScroll:"cellsToScroll",freeScroll:"freeScroll",arrows:"arrows",arrowsOutside:"arrowsOutside",arrowsTheme:"arrowsTheme",isCounter:["counter","isCounter"],images:"images",cellWidth:"cellWidth",loop:"loop",lightDOM:"lightDOM",id:"id",width:"width",borderRadius:"borderRadius",videoProperties:"videoProperties",cellsToShow:"cellsToShow"},outputs:{events:"events"},features:[i.TTD],ngContentSelectors:N,decls:8,vars:6,consts:[["class","carousel-counter",4,"ngIf"],[1,"carousel-container"],[1,"carousel-cells",3,"transitionend"],["cells",""],["ngFor","",3,"ngForOf"],["class","carousel-dots",4,"ngIf"],["class","carousel-arrows",3,"carousel-arrows-outside","carousel-dark-arrows",4,"ngIf"],[1,"carousel-counter"],["class","carousel-cell",3,"width","border-radius",4,"ngIf"],[1,"carousel-cell"],["draggable","false",3,"src","object-fit",4,"ngIf"],["draggable","false",3,"src"],[1,"carousel-dots"],["class","carousel-dot",3,"carousel-dot-active",4,"ngFor","ngForOf"],[1,"carousel-dot"],[1,"carousel-arrows"],[1,"carousel-arrow","carousel-arrow-prev",3,"click"],[1,"carousel-arrow","carousel-arrow-next",3,"click"]],template:function(e,t){1&e&&(i.F$t(),i.YNc(0,A,2,1,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2,3),i.NdJ("transitionend",function(e){return t.handleTransitionendCellContainer(e)}),i.Hsn(4),i.YNc(5,P,1,1,"ng-template",4),i.qZA(),i.YNc(6,R,2,1,"div",5),i.qZA(),i.YNc(7,F,3,8,"div",6)),2&e&&(i.Q6J("ngIf",t.isCounter),i.xp6(1),i.ekj("carousel-moving",t.isMoving),i.xp6(4),i.Q6J("ngForOf",t.images),i.xp6(1),i.Q6J("ngIf",t.dots),i.xp6(1),i.Q6J("ngIf",t.isArrows))},directives:[p.O5,p.sg],styles:["[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}"]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[],imports:[[p.ez]]}),e})(),H=(()=>{class e{constructor(e){this.carrouselService=e,this.images=[{path:""}],this.height=0,this.carrouselService.getCarrouselItems().subscribe(e=>{e.forEach(e=>{this.images.push({path:e.path})})}),this.images.reverse().pop(),this.height=screen.width>750?400:200}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(k))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-carrousel"]],decls:1,vars:6,consts:[["cellWidth","100%",3,"images","loop","height","dots","autoplay","autoplayInterval"]],template:function(e,t){1&e&&i._UZ(0,"carousel",0),2&e&&i.Q6J("images",t.images)("loop",!0)("height",t.height)("dots",!0)("autoplay",!0)("autoplayInterval",5e3)},directives:[V],styles:[""]}),e})(),G=(()=>{class e{constructor(){this.width=0,this.heigth=0,screen.width>750?(this.width=.5*screen.width,this.heigth=.5*screen.height):(this.width=.6*screen.width,this.heigth=.5*screen.height)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-catalog-info"]],decls:17,vars:0,consts:[[1,"catalog-container"],[1,"catalog-container-grid"],[1,"catalog-container-info"],[1,"catalog-container-info-item"],[1,"catalog-window"],[1,"transicionLanding"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i._uU(2,"Comprueba nuestro catalogo"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"div",2),i.TgZ(5,"div",3),i.TgZ(6,"h3"),i._uU(7,"M\xe1s de 50 autores"),i.qZA(),i.qZA(),i.TgZ(8,"div",3),i.TgZ(9,"h3"),i._uU(10,"M\xe1s de 100 libros"),i.qZA(),i.qZA(),i.TgZ(11,"div",3),i.TgZ(12,"h3"),i._uU(13,"M\xe1s de 50 libros gratuitos"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"div",4),i._UZ(15,"app-catalog-home"),i.qZA(),i.qZA(),i.qZA(),i._UZ(16,"div",5))},directives:[x],styles:[".catalog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:3%;max-width:100%}.catalog-container-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.catalog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{justify-self:center;margin:auto;width:100%}.catalog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-size:large;color:#fff}h1[_ngcontent-%COMP%]{margin:1rem}.catalog-window[_ngcontent-%COMP%]{grid-area:1/1/3/4;margin:2%;height:500px;width:100%;overflow:scroll}iframe[_ngcontent-%COMP%]{border-radius:2%}.catalog-container-info[_ngcontent-%COMP%]{margin:0;width:100%!important;display:flex;flex-direction:column}.catalog-container-info-item[_ngcontent-%COMP%]{border-radius:20rem;background-color:#fff;padding:4%;margin:1rem;box-shadow:13px 13px 11px -11px #000000bf}h3[_ngcontent-%COMP%]{font-size:large;text-align:center}.transicionLanding[_ngcontent-%COMP%]{max-width:100%;min-height:100px;background:url(transicion-landing1.e9709dc5c922ce463852.svg) no-repeat 50%}app-catalog-home[_ngcontent-%COMP%]{border-radius:5%}@media (min-width: 750px){.catalog-container-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:repeat(2,1fr);grid-column-gap:0;grid-row-gap:0}.catalog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:xx-large;color:#fff;justify-self:center;margin:auto}.catalog-container-info[_ngcontent-%COMP%]{grid-area:1/5/3/8;margin:0;width:100%;display:flex;flex-direction:column}.catalog-window[_ngcontent-%COMP%]{grid-area:1/1/3/4;width:100%;margin:2%}h3[_ngcontent-%COMP%]{font-size:x-large;text-align:center}.catalog-container-info-item[_ngcontent-%COMP%]{border-radius:20rem 0 0 20rem;background-color:#fff;padding:7%;margin:1rem 0 1rem 1rem;float:right;align-self:flex-end;box-shadow:13px 13px 11px -11px #000000bf}.catalog-container-info-item[_ngcontent-%COMP%]:first-child{width:50%}.catalog-container-info-item[_ngcontent-%COMP%]:nth-child(2){width:62%}.catalog-container-info-item[_ngcontent-%COMP%]:nth-child(3){width:75%}.transicionLanding[_ngcontent-%COMP%]{max-width:100%;min-height:200px;background:url(transicion-landing1.e9709dc5c922ce463852.svg) no-repeat 50%}h1[_ngcontent-%COMP%]{font-size:400%;margin:1rem;color:#fff}}"]}),e})(),$=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-infogram"]],decls:2,vars:0,consts:[[1,"infogram-container"],["src","./assets/section_infogram.svg","alt",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.qZA())},styles:[".infogram-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 50% 50%}.infogram-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;margin-bottom:5%}img[_ngcontent-%COMP%]{width:100%}"]}),e})();var W=n(6109);let Y=(()=>{class e{constructor(e){this.fb=e,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.SendMailForm=this.fb.group({email:["",[l.kI.required,l.kI.pattern(this.emailPattern)]],text:["",l.kI.required]})}enviarMsg(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-writer-action"]],decls:44,vars:2,consts:[[1,"writer-container"],[1,"writer-container-content"],[1,"writer-container-content-form"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matPrefix",""],["type","email","matInput","","formControlName","email","placeholder","example@example.com"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","text","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"writer-container-content-info"],[1,"writer-info-item"],["src","./assets/custom-icon/gift_icon.svg","alt",""],["src","./assets/custom-icon/money_icon.svg","alt",""],["src","./assets/custom-icon/lock_icon.svg","alt",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i._uU(2,"\xbfEres escritor?"),i.qZA(),i.TgZ(3,"h4"),i._uU(4,"Publica en OnlinEbook y maneja los derechos de tus obras ajustados a tus necesidades"),i.qZA(),i.TgZ(5,"div",1),i.TgZ(6,"div",2),i.TgZ(7,"div",3),i.TgZ(8,"div",4),i.TgZ(9,"h2"),i._uU(10,"Contacta con nosotros"),i.qZA(),i.qZA(),i.TgZ(11,"form",5),i.NdJ("ngSubmit",function(){return t.enviarMsg()}),i.TgZ(12,"mat-form-field",6),i.TgZ(13,"mat-label"),i.TgZ(14,"mat-icon",7),i._uU(15," email "),i.qZA(),i._uU(16," Correo electr\xf3nico "),i.qZA(),i._UZ(17,"input",8),i.TgZ(18,"mat-error"),i.TgZ(19,"mat-icon"),i._uU(20,"help"),i.qZA(),i._uU(21,"Introducir un correo valido"),i.qZA(),i.qZA(),i.TgZ(22,"mat-form-field",6),i.TgZ(23,"mat-label"),i.TgZ(24,"mat-icon",7),i._uU(25,"email"),i.qZA(),i._uU(26," Mensaje "),i.qZA(),i._UZ(27,"textarea",9,10),i.qZA(),i.TgZ(29,"button",11),i._uU(30," Acceder "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",12),i.TgZ(32,"div",13),i._UZ(33,"img",14),i.TgZ(34,"h3"),i._uU(35,"Ofrece obras gratuitamente"),i.qZA(),i.qZA(),i.TgZ(36,"div",13),i._UZ(37,"img",15),i.TgZ(38,"h3"),i._uU(39,"Monetiza tus obras"),i.qZA(),i.qZA(),i.TgZ(40,"div",13),i._UZ(41,"img",16),i.TgZ(42,"h3"),i._uU(43,"Conserva tus derechos de publicaci\xf3n"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(11),i.Q6J("formGroup",t.SendMailForm),i.xp6(18),i.Q6J("disabled",!1))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,d.Nt,l.Fj,l.JJ,l.u,u.TO,W.IC,a.lW],styles:[".writer-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center}h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%]{font-size:200%}h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:1rem}h4[_ngcontent-%COMP%]{font-size:medium}.writer-container-content-form[_ngcontent-%COMP%]{margin:13%}.container[_ngcontent-%COMP%]{background:#fff;width:90%;border-radius:8px;box-shadow:13px 13px 11px -11px #000000bf;justify-content:center;padding-top:0}.container[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]{margin:2rem}.header[_ngcontent-%COMP%]{background-color:#e6692f;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#e6692f!important}mat-label[_ngcontent-%COMP%]{color:#000}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#b8897b!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}.mat-raised-button[_ngcontent-%COMP%]{background-color:#e6692f}img[_ngcontent-%COMP%]{max-width:3rem}.writer-info-item[_ngcontent-%COMP%]{border-radius:20rem;background-color:#fff;padding:2%;margin:1rem;display:flex;box-shadow:13px 13px 11px -11px #000000bf}h3[_ngcontent-%COMP%]{font-size:large;align-self:center;margin:auto}@media (min-width: 1401px){img[_ngcontent-%COMP%]{max-width:6rem}.writer-container-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(2,1fr);grid-column-gap:0;grid-row-gap:0}.writer-container-content-form[_ngcontent-%COMP%]{grid-area:1/2/3/3;margin-top:30%}.writer-container-content-info[_ngcontent-%COMP%]{grid-area:1/4/3/6}.writer-info-item[_ngcontent-%COMP%]{border-radius:20rem;background-color:#fff;padding:2%;margin:1rem 3rem 1rem 1rem;display:flex;align-self:flex-end;box-shadow:13px 13px 11px -11px #000000bf}h1[_ngcontent-%COMP%]{font-size:400%;margin:1rem}h4[_ngcontent-%COMP%]{margin:3rem}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:xx-large}.container[_ngcontent-%COMP%]{width:400px}}"]}),e})();var K=n(1741);let Q=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login-action"]],decls:8,vars:0,consts:[[1,"landing-login-container"],[1,"div1"],[1,"div2"],["src","./assets/Logo2.svg","alt",""],[1,"div3"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h2"),i._uU(3,"Unete a la mejor comunidad de lectores "),i.qZA(),i.qZA(),i.TgZ(4,"div",2),i._UZ(5,"img",3),i.qZA(),i.TgZ(6,"div",4),i._UZ(7,"app-login"),i.qZA(),i.qZA())},directives:[K.G],styles:['.landing-login-container[_ngcontent-%COMP%]{background:url("pexels-andrea(3).cc658384bcfea0d7427b.jpg") no-repeat 50%;background-repeat:no-repeat;background-size:cover;border-radius:0 0 0 40%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:0;padding:2%}.div1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:xx-large}.div1[_ngcontent-%COMP%]{grid-area:1/3/2/4;color:#3f51b5}.div3[_ngcontent-%COMP%]{grid-area:2/3/4/4}.div2[_ngcontent-%COMP%]{display:none}@media (min-width: 700px){.landing-login-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0;padding:2%}img[_ngcontent-%COMP%]{max-width:300px}.div2[_ngcontent-%COMP%]{grid-area:2/1/5/2;justify-content:center;align-items:center}.div3[_ngcontent-%COMP%]{grid-area:2/6/5/7}.div1[_ngcontent-%COMP%]{grid-area:1/4/2/7;color:#3f51b5}}']}),e})();function J(e,t){1&e&&i._UZ(0,"app-login-action")}let X=(()=>{class e{constructor(e){this.authservice=e,this.logged=!1,this.styleborder="",this.authservice.userStateObs().subscribe(e=>{this.logged=!!e,this.setStyle()})}setStyle(){document.getElementsByClassName("carrousel-container"),this.styleborder=this.logged?"border-radius: 2rem 2rem 0 40%":"border-radius: 2rem 2rem 0 0"}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-home"]],decls:7,vars:3,consts:[[1,"main-container"],[1,"content-conatiner"],[1,"carrousel-container"],[4,"ngIf"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-carrousel",2),i.YNc(3,J,1,0,"app-login-action",3),i._UZ(4,"app-catalog-info"),i._UZ(5,"app-infogram"),i._UZ(6,"app-writer-action"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Akn(t.styleborder),i.xp6(1),i.Q6J("ngIf",!t.logged))},directives:[H,p.O5,G,$,Y,Q],styles:[".main-container[_ngcontent-%COMP%]{align-self:center;width:100%;padding-top:3%;margin-bottom:20px}.content-conatiner[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.content-conatiner[_ngcontent-%COMP%]{flex-direction:column;width:90%;background-color:#3f51b5;border-radius:2rem}app-writer-action[_ngcontent-%COMP%]{margin-bottom:3rem}.carrousel-container[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:10px}"]}),e})();var ee=n(3017),te=n(9992);function ne(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(){i.CHM(e);const t=i.oxw();return t.opened=!t.opened}),i.TgZ(1,"mat-icon"),i._uU(2,"menu"),i.qZA(),i.qZA()}}let re=(()=>{class e{constructor(e,t){this.authService=e,this.router=t,this.opened=!0,this.showFiller=!1,this.authService.userStateObs().subscribe(e=>{e&&(this.userObject=e)}),window.matchMedia("(max-width: 700px)").matches&&(this.opened=!1)}ngOnInit(){this.userObject=JSON.parse(localStorage.getItem("userOnlinebook"))}logout(){this.authService.SignOut().then(e=>{this.router.navigate(["/auth/login"])})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-mylibrary-home"]],decls:46,vars:4,consts:[[1,"componentcontainer"],[1,"profile-container"],["mode","side",1,"sidenav",3,"opened","openedChange"],["sidenav",""],[1,"closeSidenav","movileElement",3,"click"],["role","list"],["role","listitem"],["alt","",3,"src"],["routerLink","./myBooks"],["routerLink","./myFavorites"],["routerLink","./mySlopes"],["routerLink","./myWantedBooks"],["routerLink","./myPublishedBooks"],["type","button","mat-raised-button","","color","basic","class","viewSidenav movileElement",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","basic",1,"viewSidenav","movileElement",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"mat-sidenav-container",1),i.TgZ(2,"mat-sidenav",2,3),i.NdJ("openedChange",function(e){return t.opened=e}),i.TgZ(4,"mat-icon",4),i.NdJ("click",function(){return t.opened=!t.opened}),i._uU(5," close "),i.qZA(),i.TgZ(6,"mat-nav-list",5),i.TgZ(7,"mat-list-item",6),i._UZ(8,"img",7),i.TgZ(9,"span"),i._uU(10),i.qZA(),i.qZA(),i._UZ(11,"hr"),i.TgZ(12,"a",8),i.TgZ(13,"mat-list-item",6),i.TgZ(14,"div"),i.TgZ(15,"mat-icon"),i._uU(16," book"),i.qZA(),i.TgZ(17,"span"),i._uU(18," Mis Libros "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"a",9),i.TgZ(20,"mat-list-item",6),i.TgZ(21,"mat-icon"),i._uU(22," star"),i.qZA(),i.TgZ(23,"span"),i._uU(24," Libros Favoritos"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"a",10),i.TgZ(26,"mat-list-item",6),i.TgZ(27,"mat-icon"),i._uU(28," alarm"),i.qZA(),i.TgZ(29,"span"),i._uU(30," Libros Pendientes "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"a",11),i.TgZ(32,"mat-list-item",6),i.TgZ(33,"mat-icon"),i._uU(34,"favorite_border"),i.qZA(),i.TgZ(35,"span"),i._uU(36," Libros deseados "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(37,"a",12),i.TgZ(38,"mat-list-item",6),i.TgZ(39,"mat-icon"),i._uU(40," attach_money"),i.qZA(),i.TgZ(41,"span"),i._uU(42,"Mis publicaciones"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(43,"mat-sidenav-content"),i.YNc(44,ne,3,0,"button",13),i._UZ(45,"router-outlet"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("opened",t.opened),i.xp6(6),i.s9C("src",t.userObject.photoURL,i.LSH),i.xp6(2),i.hij(" ",t.userObject.displayName,""),i.xp6(34),i.Q6J("ngIf",!t.opened))},directives:[ee.TM,ee.JX,h.Hw,te.Hk,te.Tg,s.yS,ee.Rh,p.O5,s.lC,a.lW],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;height:100%}  .mat-drawer-container{background:none}.sidenav[_ngcontent-%COMP%]{padding:20px}.componentcontainer[_ngcontent-%COMP%]{height:92%;display:flex;justify-content:center;align-items:center;flex-direction:row}mat-icon[_ngcontent-%COMP%]{vertical-align:middle}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:10px;font-size:90%}img[_ngcontent-%COMP%]{max-width:50px;max-height:50px;border-radius:25px;margin-right:10%}.closeSidenav[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.viewSidenav[_ngcontent-%COMP%]{width:100%}@media (min-width: 700px){.movileElement[_ngcontent-%COMP%]{display:none}}"]}),e})();var ie=n(5046);function se(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(e);const t=i.oxw(2);return t.opened=!t.opened}),i.TgZ(1,"mat-icon"),i._uU(2,"menu"),i.qZA(),i.qZA()}}function oe(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-sidenav-container",2),i.TgZ(1,"mat-sidenav",3,4),i.NdJ("openedChange",function(t){return i.CHM(e),i.oxw().opened=t}),i.TgZ(3,"mat-icon",5),i.NdJ("click",function(){i.CHM(e);const t=i.oxw();return t.opened=!t.opened}),i._uU(4," close "),i.qZA(),i.TgZ(5,"mat-nav-list",6),i.TgZ(6,"mat-list-item",7),i._UZ(7,"img",8),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.qZA(),i._UZ(10,"hr"),i.TgZ(11,"a",9),i.TgZ(12,"mat-list-item",7),i.TgZ(13,"div"),i.TgZ(14,"mat-icon"),i._uU(15," info"),i.qZA(),i.TgZ(16,"span"),i._uU(17," Informaci\xf3n "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"a",10),i.TgZ(19,"mat-list-item",7),i.TgZ(20,"mat-icon"),i._uU(21," settings"),i.qZA(),i.TgZ(22,"span"),i._uU(23,"Actualizar perfil"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"a",11),i.TgZ(25,"mat-list-item",7),i.TgZ(26,"mat-icon"),i._uU(27," lock"),i.qZA(),i.TgZ(28,"span"),i._uU(29,"Cambiar contrase\xf1a"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"a",12),i.TgZ(31,"mat-list-item",7),i.TgZ(32,"mat-icon"),i._uU(33," mail"),i.qZA(),i.TgZ(34,"span"),i._uU(35,"Mensajes"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"a",13),i.NdJ("click",function(){return i.CHM(e),i.oxw().logout()}),i.TgZ(37,"mat-list-item",7),i.TgZ(38,"mat-icon"),i._uU(39,"cancel"),i.qZA(),i.TgZ(40,"span"),i._uU(41,"Cerrar Sesion"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(42,"mat-sidenav-content"),i.YNc(43,se,3,0,"button",14),i._UZ(44,"router-outlet"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(1),i.Q6J("opened",e.opened),i.xp6(6),i.s9C("src",e.userObject.photoURL,i.LSH),i.xp6(2),i.hij(" ",e.userObject.displayName,""),i.xp6(34),i.Q6J("ngIf",!e.opened)}}let ae=(()=>{class e{constructor(e,t){this.authService=e,this.router=t,this.opened=!0,this.showFiller=!1,this.authService.userStateObs().subscribe(e=>{e&&(console.log(e),this.userObject=e)}),window.matchMedia("(max-width: 700px)").matches&&(this.opened=!1)}ngOnInit(){this.userObject=JSON.parse(localStorage.getItem("userOnlinebook"))}logout(){this.authService.SignOut().then(e=>{this.router.navigate(["/auth/login"])})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-profile-home"]],decls:3,vars:1,consts:[[1,"componentcontainer"],["class","profile-container","autosize","",4,"ngIf"],["autosize","",1,"profile-container"],["mode","side",1,"sidenav",3,"opened","openedChange"],["sidenav",""],[1,"closeSidenav","movileElement",3,"click"],["role","list"],["role","listitem"],["alt","",3,"src"],["routerLink","./info"],["routerLink","./updateProfile"],["routerLink","./changePasswd"],["routerLink","./messagePage"],["href","#",3,"click"],["type","button","mat-raised-button","","color","basic","class","viewSidenav movileElement",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","basic",1,"viewSidenav","movileElement",3,"click"]],template:function(e,t){1&e&&(i._UZ(0,"app-dialog-verify"),i.TgZ(1,"div",0),i.YNc(2,oe,45,4,"mat-sidenav-container",1),i.qZA()),2&e&&(i.xp6(2),i.Q6J("ngIf",!0))},directives:[ie.t,p.O5,ee.TM,ee.JX,h.Hw,te.Hk,te.Tg,s.yS,ee.Rh,s.lC,a.lW],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;height:100%}  .mat-drawer-container{background:none}.sidenav[_ngcontent-%COMP%]{padding:20px}.componentcontainer[_ngcontent-%COMP%]{height:92%;display:flex;justify-content:center;align-items:center;flex-direction:row}mat-icon[_ngcontent-%COMP%]{vertical-align:middle}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:10px;font-size:90%}img[_ngcontent-%COMP%]{max-width:50px;max-height:50px;border-radius:25px;margin-right:10%}.closeSidenav[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.viewSidenav[_ngcontent-%COMP%]{width:100%}@media (min-width: 700px){.movileElement[_ngcontent-%COMP%]{display:none}}"]}),e})();function ce(e,t){1&e&&(i.TgZ(0,"td"),i.TgZ(1,"mat-icon",8),i._uU(2,"check_circle_outline "),i.qZA(),i.qZA())}function le(e,t){1&e&&(i.TgZ(0,"td"),i.TgZ(1,"mat-icon",9),i._uU(2," highlight_off "),i.qZA(),i.qZA())}let ue=(()=>{class e{constructor(e){this.authservice=e,this.user=JSON.parse(localStorage.getItem("userOnlinebook"))}resendMail(){this.authservice.SendVerificationMail()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-info"]],decls:35,vars:9,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[1,"container-content"],[1,"img-container"],["alt","",3,"src"],[4,"ngIf","ngIfElse"],["loggedOut",""],[1,"icon-green"],[1,"icon-red"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h2"),i._uU(4,"Informaci\xf3n del Perfil"),i.qZA(),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i._UZ(7,"img",5),i.qZA(),i.TgZ(8,"table"),i.TgZ(9,"tr"),i.TgZ(10,"td"),i.TgZ(11,"b"),i._uU(12,"Nombre:"),i.qZA(),i.qZA(),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.qZA(),i.TgZ(15,"tr"),i.TgZ(16,"td"),i.TgZ(17,"b"),i._uU(18,"Correo:"),i.qZA(),i.qZA(),i.TgZ(19,"td"),i._uU(20),i.qZA(),i.qZA(),i.TgZ(21,"tr"),i.TgZ(22,"td"),i.TgZ(23,"b"),i._uU(24,"Te uniste:"),i.qZA(),i.qZA(),i.TgZ(25,"td"),i._uU(26),i.ALo(27,"date"),i.qZA(),i.qZA(),i.TgZ(28,"tr"),i.TgZ(29,"td"),i.TgZ(30,"b"),i._uU(31,"Verificado:"),i.qZA(),i.qZA(),i.YNc(32,ce,3,0,"td",6),i.YNc(33,le,3,0,"ng-template",null,7,i.W1O),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const e=i.MAs(34);i.xp6(7),i.s9C("src",t.user.photoURL,i.LSH),i.xp6(7),i.Oqu(t.user.displayName),i.xp6(6),i.Oqu(t.user.email),i.xp6(6),i.Oqu(i.xi3(27,6,t.user.createdAt,"shortDate")),i.xp6(6),i.Q6J("ngIf",t.user.emailVerified)("ngIfElse",e)}},directives:[p.O5,h.Hw],pipes:[p.uU],styles:[".componentcontainer[_ngcontent-%COMP%]{height:90%}.componentcontainer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:inset -10px -10px 18px -11px #000000a6;padding-top:0}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}td[_ngcontent-%COMP%]{color:#000}b[_ngcontent-%COMP%], mat-list-item[_ngcontent-%COMP%]{color:#3f51b5}table[_ngcontent-%COMP%]{margin:0 40px 40px}tr[_ngcontent-%COMP%]{margin-bottom:5%}img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:50%}.img-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5%}.icon-red[_ngcontent-%COMP%]{color:#d33b3b}.icon-green[_ngcontent-%COMP%]{color:#71d179}"]}),e})();var he=n(3071),de=n(2238);function pe(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Introducir un correo valido"),i.qZA())}function fe(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}const me=".componentcontainer[_ngcontent-%COMP%]{height:90%}.componentcontainer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:inset -10px -10px 18px -11px #000000a6;padding-top:0}.verifyContainer[_ngcontent-%COMP%]{padding:5%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}input[_ngcontent-%COMP%], mat-label[_ngcontent-%COMP%]{color:#000}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}.div1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:5px;width:100px;height:100px;border-radius:150px;align-self:center}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 700px){.formGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:50px;grid-row-gap:20px;margin-bottom:5%}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}}button[_ngcontent-%COMP%]{width:100%;margin-bottom:1%}span[_ngcontent-%COMP%]{margin-top:.5rem;align-self:center;color:#708090;font-size:14px}a[_ngcontent-%COMP%]{color:#3f51b5}.file-upload[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:none}.file-upload[_ngcontent-%COMP%]{padding:0 6px;margin:6px 8px;min-width:88px;border-radius:3px;font-size:14px;text-align:center;text-transform:uppercase;border:none;outline:none;background-color:#3f51b5!important}";function ge(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Contrase\xf1a incorrecta"),i.qZA())}let ye=(()=>{class e{constructor(e,t,n,r,i){this.fb=e,this.authservice=t,this.UserService=n,this.router=r,this.dialog=i,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.showPasswd=!0,this.imgURL="../../../../assets/avatar-placeholder.png",this.files=[],this.updateProfileForm=this.fb.group({file:[this.imgURL],email:["",[l.kI.required,l.kI.pattern(this.emailPattern)]],username:["",[l.kI.required,l.kI.minLength(3)]]}),this.user=JSON.parse(localStorage.getItem("userOnlinebook")),this.updateProfileForm.controls.email.setValue(this.user.email),this.updateProfileForm.controls.username.setValue(this.user.displayName),this.imgURL=this.user.photoURL}validezCampo(e){return this.updateProfileForm.controls[e].errors&&this.updateProfileForm.controls[e].touched}uploadFile(e){let t=e.target.files,n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=()=>{this.imgURL=n.result},this.updateProfileForm.controls.file.markAsTouched()}updateProfile(){var e=this;return(0,f.Z)(function*(){var t=e.updateProfileForm.controls.email.value,n=e.imgURL,r=e.updateProfileForm.controls.username.value;switch(e.updateProfileForm.controls.email.untouched&&(t=null),e.updateProfileForm.controls.file.untouched&&(n=null),e.updateProfileForm.controls.username.untouched&&(r=null),yield e.authservice.UpdateUserInfo(t,r,n)){case 0:console.log(e.user.uid),e.UserService.updateUser(e.user.uid,e.imgURL,e.updateProfileForm.controls.username.value,e.updateProfileForm.controls.email.value),e.dialog.open(ve);break;case 1:e.dialog.open(_e,{data:{email:t,userName:r,file:n}});break;default:e.dialog.open(be),e.updateProfileForm.reset()}})()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(T.e),i.Y36(he.K),i.Y36(s.F0),i.Y36(de.uw))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-update-profile"]],decls:33,vars:5,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"formGrid"],[1,"div1"],["alt","User Placeholder",3,"src"],["type","button","mat-raised-button","","color","primary",3,"click"],["matPrefix",""],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"div2"],[1,"example-full-width"],["type","email","formControlName","email","autocomplete","on","matInput",""],[4,"ngIf"],["type","text","formControlName","username","autocomplete","on","matInput",""],["mat-raised-button","","type","submit","color","primary",3,"disabled"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h2"),i._uU(4,"Actualizar perfil"),i.qZA(),i.qZA(),i.TgZ(5,"form",3),i.NdJ("ngSubmit",function(){return t.updateProfile()}),i.TgZ(6,"div",4),i.TgZ(7,"div",5),i._UZ(8,"img",6),i.TgZ(9,"button",7),i.NdJ("click",function(){return i.CHM(e),i.MAs(14).click()}),i.TgZ(10,"mat-icon",8),i._uU(11," image "),i.qZA(),i._uU(12," Subir imagen "),i.qZA(),i.TgZ(13,"input",9,10),i.NdJ("change",function(e){return t.uploadFile(e)}),i.qZA(),i.qZA(),i.TgZ(15,"div",11),i.TgZ(16,"mat-form-field",12),i.TgZ(17,"mat-label"),i.TgZ(18,"mat-icon",8),i._uU(19," email "),i.qZA(),i._uU(20," Correo electr\xf3nico "),i.qZA(),i._UZ(21,"input",13),i.YNc(22,pe,2,0,"mat-error",14),i.qZA(),i.TgZ(23,"mat-form-field",12),i.TgZ(24,"mat-label"),i.TgZ(25,"mat-icon",8),i._uU(26," person_outline "),i.qZA(),i._uU(27," Nombre de usuario "),i.qZA(),i._UZ(28,"input",15),i.YNc(29,fe,2,0,"mat-error",14),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"div"),i.TgZ(31,"button",16),i._uU(32," Actualizar Perfil "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(5),i.Q6J("formGroup",t.updateProfileForm),i.xp6(3),i.s9C("src",t.imgURL,i.LSH),i.xp6(14),i.Q6J("ngIf",t.validezCampo("email")),i.xp6(7),i.Q6J("ngIf",t.validezCampo("username")),i.xp6(2),i.Q6J("disabled",t.updateProfileForm.invalid||!t.updateProfileForm.touched))},directives:[l._Y,l.JL,l.sg,a.lW,h.Hw,u.qo,u.KE,u.hX,l.Fj,d.Nt,l.JJ,l.u,p.O5,u.TO],styles:[me]}),e})(),ve=(()=>{class e{constructor(e,t){this.router=e,this.dialogRef=t}confirm(){this.dialogRef.close(),this.router.navigate(["/profile/info"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["confirm-update-profile-dialog"]],decls:5,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Perfil actualizado"),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"button",2),i.NdJ("click",function(){return t.confirm()}),i._uU(4," Continuar "),i.qZA(),i.qZA())},directives:[de.uh,de.H8,a.lW],styles:[me]}),e})(),_e=(()=>{class e{constructor(e,t,n,r){this.router=e,this.dialogRef=t,this.fb=n,this.authservice=r,this.showPasswd=!0,this.passwdFail=!1,this.reautenticateForm=this.fb.group({passwd:["",[l.kI.required,l.kI.minLength(6)]]})}confirm(){var e=this;return(0,f.Z)(function*(){var t=e.reautenticateForm.controls.passwd.value;(yield e.authservice.reautenticateUser(t))?e.dialogRef.close():(e.passwdFail=!0,e.reautenticateForm.reset())})()}getPasswdFail(){return this.passwdFail}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(de.so),i.Y36(l.qu),i.Y36(T.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["update-profile-dialog-reautenticate"]],decls:16,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matPrefix",""],["formControlName","passwd","matInput","",3,"type"],["matSuffix","",3,"click"],["mat-dialog-actions",""],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[4,"ngIf"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Su sesi\xf3n ha caducado"),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"form",2),i.NdJ("ngSubmit",function(){return t.confirm()}),i.TgZ(4,"mat-form-field",3),i.TgZ(5,"mat-label"),i.TgZ(6,"mat-icon",4),i._uU(7," lock "),i.qZA(),i._uU(8," Contrase\xf1a "),i.qZA(),i._UZ(9,"input",5),i.TgZ(10,"mat-icon",6),i.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),i._uU(11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",7),i.TgZ(13,"button",8),i.NdJ("click",function(){return t.confirm()}),i._uU(14," Reintentar "),i.qZA(),i.YNc(15,ge,4,0,"mat-error",9),i.qZA()),2&e&&(i.xp6(3),i.Q6J("formGroup",t.reautenticateForm),i.xp6(6),i.Q6J("type",t.showPasswd?"password":"text"),i.xp6(2),i.Oqu(t.showPasswd?"visibility_off":"visibility"),i.xp6(2),i.Q6J("disabled",t.reautenticateForm.invalid),i.xp6(2),i.Q6J("ngIf",t.getPasswdFail()))},directives:[de.uh,de.xY,l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,l.Fj,d.Nt,l.JJ,l.u,u.R9,de.H8,a.lW,p.O5,u.TO],styles:[me]}),e})(),be=(()=>{class e{constructor(e,t){this.router=e,this.dialogRef=t}confirm(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["failure-update-profile-dialog"]],decls:5,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Fallo en la actualizaci\xf3n"),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"button",2),i.NdJ("click",function(){return t.confirm()}),i._uU(4," Continuar "),i.qZA(),i.qZA())},directives:[de.uh,de.H8,a.lW],styles:[me]}),e})();var we=n(6495);function Ce(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Campo requerido"),i.qZA())}function Se(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Campo requerido"),i.qZA())}function xe(e,t){1&e&&(i.TgZ(0,"mat-error"),i.TgZ(1,"mat-icon"),i._uU(2,"help"),i.qZA(),i._uU(3,"Campo requerido"),i.qZA())}function Te(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Las contrase\xf1as deben coincidir"),i.qZA())}const Ee=".componentcontainer[_ngcontent-%COMP%]{height:90%}.componentcontainer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:inset -10px -10px 18px -11px #000000a6;padding-top:0}.verifyContainer[_ngcontent-%COMP%]{padding:5%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}input[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%], mat-label[_ngcontent-%COMP%]{color:#000}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}button[_ngcontent-%COMP%]{width:100%;margin-bottom:1%}span[_ngcontent-%COMP%]{margin-top:.5rem;align-self:center;color:#708090;font-size:14px}a[_ngcontent-%COMP%]{text-decoration:none;color:#3f51b5}.mat-dialog-actions[_ngcontent-%COMP%]{align-items:center!important;justify-content:center!important}";let ke=(()=>{class e{constructor(e,t,n){this.fb=e,this.authservice=t,this.dialog=n,this.showPasswd=!0,this.changePasswdForm=this.fb.group({originalPasswd:["",[l.kI.required,l.kI.minLength(6)]],newPasswd:["",[l.kI.required,l.kI.minLength(6)]],newPasswdConfirm:["",[l.kI.required,l.kI.minLength(6)]]},{validator:(0,we.R)("newPasswd","newPasswdConfirm")}),this.user=JSON.parse(localStorage.getItem("userOnlinebook"))}validezCampo(e){return this.changePasswdForm.controls[e].errors&&this.changePasswdForm.controls[e].touched}matchPasswd(){return!(this.changePasswdForm.controls.newPasswd.value===this.changePasswdForm.controls.newPasswdConfirm.value||!this.changePasswdForm.controls.newPasswd.touched||!this.changePasswdForm.controls.newPasswdConfirm.touched)}changePasswd(){var e=this;return(0,f.Z)(function*(){var t=e.changePasswdForm.controls.originalPasswd.value,n=e.changePasswdForm.controls.newPasswd.value;(yield e.authservice.updatePasswd(t,n))?e.dialog.open(Ae):(e.dialog.open(Ie),e.changePasswdForm.reset())})()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(T.e),i.Y36(de.uw))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-change-passwd"]],decls:38,vars:12,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"formGrid"],[1,"example-full-width"],["matPrefix",""],["formControlName","originalPasswd","matInput","","autocomplete","current-password",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["formControlName","newPasswd","matInput","","autocomplete","new-password",3,"type"],["formControlName","newPasswdConfirm","matInput","","autocomplete","new-password",3,"type"],["mat-raised-button","","type","submit","color","primary",3,"disabled"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h2"),i._uU(4,"Cambiar contrase\xf1a"),i.qZA(),i.qZA(),i.TgZ(5,"form",3),i.NdJ("ngSubmit",function(){return t.changePasswd()}),i.TgZ(6,"div",4),i.TgZ(7,"mat-form-field",5),i.TgZ(8,"mat-label"),i.TgZ(9,"mat-icon",6),i._uU(10," lock "),i.qZA(),i._uU(11," Contrase\xf1a actual "),i.qZA(),i._UZ(12,"input",7),i.TgZ(13,"mat-icon",8),i.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),i._uU(14),i.qZA(),i.YNc(15,Ce,4,0,"mat-error",9),i.qZA(),i.TgZ(16,"mat-form-field",5),i.TgZ(17,"mat-label"),i.TgZ(18,"mat-icon",6),i._uU(19," lock "),i.qZA(),i._uU(20," Nueva contrase\xf1a "),i.qZA(),i._UZ(21,"input",10),i.TgZ(22,"mat-icon",8),i.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),i._uU(23),i.qZA(),i.YNc(24,Se,4,0,"mat-error",9),i.qZA(),i.TgZ(25,"mat-form-field",5),i.TgZ(26,"mat-label"),i.TgZ(27,"mat-icon",6),i._uU(28," lock "),i.qZA(),i._uU(29," Repetir contrase\xf1a "),i.qZA(),i._UZ(30,"input",11),i.TgZ(31,"mat-icon",8),i.NdJ("click",function(){return t.showPasswd=!t.showPasswd}),i._uU(32),i.qZA(),i.YNc(33,xe,4,0,"mat-error",9),i.qZA(),i.YNc(34,Te,2,0,"mat-error",9),i.qZA(),i.TgZ(35,"div"),i.TgZ(36,"button",12),i._uU(37," Actualizar Perfil "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(5),i.Q6J("formGroup",t.changePasswdForm),i.xp6(7),i.Q6J("type",t.showPasswd?"password":"text"),i.xp6(2),i.Oqu(t.showPasswd?"visibility_off":"visibility"),i.xp6(1),i.Q6J("ngIf",t.validezCampo("originalPasswd")),i.xp6(6),i.Q6J("type",t.showPasswd?"password":"text"),i.xp6(2),i.Oqu(t.showPasswd?"visibility_off":"visibility"),i.xp6(1),i.Q6J("ngIf",t.validezCampo("newPasswd")),i.xp6(6),i.Q6J("type",t.showPasswd?"password":"text"),i.xp6(2),i.Oqu(t.showPasswd?"visibility_off":"visibility"),i.xp6(1),i.Q6J("ngIf",t.validezCampo("newPasswdConfirm")),i.xp6(1),i.Q6J("ngIf",t.matchPasswd()),i.xp6(2),i.Q6J("disabled",t.changePasswdForm.invalid||!t.changePasswdForm.touched))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,l.Fj,d.Nt,l.JJ,l.u,u.R9,p.O5,a.lW,u.TO],styles:[Ee]}),e})(),Ae=(()=>{class e{constructor(e,t){this.router=e,this.dialogRef=t}confirm(){this.dialogRef.close(),this.router.navigate(["/profile/info"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["confirm-change-passwd-dialog"]],decls:5,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Contrase\xf1a actualizada"),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"button",2),i.NdJ("click",function(){return t.confirm()}),i._uU(4," Vale "),i.qZA(),i.qZA())},directives:[de.uh,de.H8,a.lW],styles:[Ee]}),e})(),Ie=(()=>{class e{constructor(e,t){this.router=e,this.dialogRef=t}confirm(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["failure-change-passwd-dialog"]],decls:5,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Cambio fallido"),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"button",2),i.NdJ("click",function(){return t.confirm()}),i._uU(4," Reintentar "),i.qZA(),i.qZA())},directives:[de.uh,de.H8,a.lW],styles:[Ee]}),e})();m.Z.initializeApp(g.N.firebaseConfig);let Oe=(()=>{class e{constructor(e){this.firestore=e}addReportComment(e,t,n,r){return this.firestore.collection("report").add({user:t,comment:e,reason:n,msg:r})}addReportBook(e,t,n){return this.firestore.collection("report").add({user:t,book:e,reason:n})}getCommentsReports(){return this.firestore.collectionGroup("report",e=>e.where("comment",">","")).valueChanges({idField:"eventId"})}getBookReports(){return this.firestore.collectionGroup("report",e=>e.where("book",">","")).valueChanges({idField:"eventId"})}removeReport(e){return this.firestore.collection("report").doc(e).delete()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.ST))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pe=n(7441),De=n(2458);function Re(e,t){if(1&e&&(i.TgZ(0,"div",10),i._uU(1),i.ALo(2,"titlecase"),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.hij(" - ",i.lcZ(2,1,e)," ")}}function Fe(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",1),i._UZ(1,"div"),i.TgZ(2,"div",2),i.TgZ(3,"h1"),i._uU(4),i.ALo(5,"titlecase"),i.qZA(),i.qZA(),i.TgZ(6,"div",3),i._UZ(7,"img",4),i.qZA(),i.TgZ(8,"div",5),i.TgZ(9,"table",6),i.TgZ(10,"tr"),i.TgZ(11,"td"),i.TgZ(12,"b"),i._uU(13,"Autor:"),i.qZA(),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.qZA(),i.TgZ(16,"tr"),i.TgZ(17,"td"),i.TgZ(18,"b"),i._uU(19,"Isbn:"),i.qZA(),i.qZA(),i.TgZ(20,"td"),i._uU(21),i.qZA(),i.qZA(),i.TgZ(22,"tr"),i.TgZ(23,"td"),i.TgZ(24,"b"),i._uU(25,"Year:"),i.qZA(),i.qZA(),i.TgZ(26,"td"),i._uU(27),i.qZA(),i.qZA(),i.TgZ(28,"tr"),i.TgZ(29,"td"),i.TgZ(30,"b"),i._uU(31,"Categorias:"),i.qZA(),i.qZA(),i.TgZ(32,"td"),i.YNc(33,Re,3,3,"div",7),i.qZA(),i.qZA(),i.TgZ(34,"tr"),i.TgZ(35,"td"),i.TgZ(36,"b"),i._uU(37,"Ventas:"),i.qZA(),i.qZA(),i.TgZ(38,"td"),i._uU(39),i.qZA(),i.qZA(),i.TgZ(40,"tr"),i.TgZ(41,"td"),i.TgZ(42,"b"),i.TgZ(43,"b"),i._uU(44,"Precio:"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(45,"td"),i._uU(46),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"span",8),i.NdJ("click",function(){return i.CHM(e),i.oxw().reportBook()}),i.TgZ(48,"mat-icon"),i._uU(49,"report_problem"),i.qZA(),i.TgZ(50,"h3"),i._uU(51," Reportar libro"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(52,"div",9),i.TgZ(53,"p"),i.TgZ(54,"b"),i._uU(55,"Resumen:"),i.qZA(),i.qZA(),i.TgZ(56,"h3"),i._uU(57),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(4),i.hij("",i.lcZ(5,9,e.book.name)," "),i.xp6(3),i.s9C("src",e.book.img,i.LSH),i.xp6(8),i.Oqu(e.book.author),i.xp6(6),i.Oqu(e.book.isbn),i.xp6(6),i.Oqu(e.book.year),i.xp6(6),i.Q6J("ngForOf",e.book.categories),i.xp6(6),i.hij(" ",e.downloadCount," adquisiciones"),i.xp6(7),i.hij("",e.book.price," \u20ac"),i.xp6(11),i.Oqu(e.book.abstract)}}function Ne(e,t){if(1&e&&(i.TgZ(0,"mat-option",7),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.Oqu(e)}}const Me=".book-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:url(backgroundBookPage-movil.14aee1c6019fd5c4fa6d.svg) no-repeat;border-radius:20px 20px 0 0}.book-page-info[_ngcontent-%COMP%]{grid-area:2/2/3/3;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4,1fr);grid-column-gap:0;grid-row-gap:0;font-size:larger;margin:30px auto auto}@media (min-width: 750px){.book-info-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr,);grid-template-rows:repeat(50px,1fr,1fr,20px);grid-column-gap:0;grid-row-gap:0;background:url(backgroundBookPage.e38bbf8532e4f86b09cf.svg) no-repeat 50%}.book-page-info[_ngcontent-%COMP%]{margin-top:0}}.book-page-tittle[_ngcontent-%COMP%]{grid-area:1/1/2/3;display:flex;justify-content:center;margin-top:20px}.book-page-tittle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:xx-large}.book-page-img[_ngcontent-%COMP%]{grid-area:2/1/3/2;display:flex;justify-content:center;max-height:500px}.book-page-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{justify-self:center;width:180px;height:300px;box-shadow:10px 10px 11px 0 #000000bf}.book-page-abstract[_ngcontent-%COMP%]{grid-area:3/1/4/3;padding:5% 5% 1%}.book-page-categories-item[_ngcontent-%COMP%]{margin-left:1rem}.reportBook[_ngcontent-%COMP%]{grid-area:4/1/5/2;display:flex}.reportBook[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;margin-left:5px}.table-info[_ngcontent-%COMP%]{grid-area:1/1/3/2}.reportForm[_ngcontent-%COMP%]{display:flex;flex-direction:column}";let Le=(()=>{class e{constructor(e,t,n,r){this.reportService=e,this.activatedRoute=t,this.dialog=n,this.bookService=r,this.bookId="",this.downloadCount=0,this.activatedRoute.params.subscribe(({id:e})=>{this.bookId=e}),this.user=JSON.parse(localStorage.getItem("userOnlinebook")),this.setDownloadsCount()}reportBook(){this.dialog.open(Ze).afterClosed().subscribe(e=>{e&&this.reportService.addReportBook(this.bookId,this.user.uid,e)})}setDownloadsCount(){this.bookService.getDownloadCount(this.bookId).subscribe(e=>{this.downloadCount=e.length})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Oe),i.Y36(s.gz),i.Y36(de.uw),i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-book-info"]],inputs:{book:"book"},decls:1,vars:1,consts:[["class","book-info-container",4,"ngIf"],[1,"book-info-container"],[1,"book-page-tittle"],[1,"book-page-img"],["alt","img-book",3,"src"],[1,"book-page-info"],[1,"table-info"],["class","book-page-categories-item",4,"ngFor","ngForOf"],[1,"reportBook",3,"click"],[1,"book-page-abstract"],[1,"book-page-categories-item"]],template:function(e,t){1&e&&i.YNc(0,Fe,58,11,"div",0),2&e&&i.Q6J("ngIf",t.book)},directives:[p.O5,p.sg,h.Hw],pipes:[p.rS],styles:[Me]}),e})(),Ze=(()=>{class e{constructor(e,t){this.fb=e,this.dialogRef=t,this.reportForm=this.fb.group({list:["",[l.kI.required]]}),this.reasonList=["El libro es incorrecto","El libro vulnera los derechos de la plataforma","El libro es enga\xf1oso","Expresa intenciones de suicidio","El libro vulnera los derechos de autor de otra persona"]}sendReport(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-report"]],decls:11,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"reportForm"],["appearance","fill",1,"reportFormList"],[1,"reportFormList"],["formControlName","list","multiple",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn","type","submit",3,"mat-dialog-close"],[3,"value"]],template:function(e,t){1&e&&(i.TgZ(0,"h3"),i._uU(1,"Selecciona el motivo del Reporte"),i.qZA(),i.TgZ(2,"form",0),i.NdJ("ngSubmit",function(){return t.sendReport()}),i.TgZ(3,"div",1),i.TgZ(4,"mat-form-field",2),i.TgZ(5,"mat-label",3),i._uU(6,"Motivos de Reporte"),i.qZA(),i.TgZ(7,"mat-select",4),i.YNc(8,Ne,2,2,"mat-option",5),i.qZA(),i.qZA(),i.TgZ(9,"button",6),i._uU(10," Reportar "),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("formGroup",t.reportForm),i.xp6(6),i.Q6J("ngForOf",t.reasonList),i.xp6(1),i.Q6J("mat-dialog-close",t.reportForm.controls.list.value))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,Pe.gD,l.JJ,l.u,p.sg,a.lW,de.ZT,De.ey],styles:[Me]}),e})();function Ue(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"p"),i._uU(2,"Inicie sesi\xf3n para ver m\xe1s opciones"),i.qZA(),i.TgZ(3,"p",3),i.NdJ("click",function(){return i.CHM(e),i.oxw().navigateLogin()}),i._uU(4,"Iniciar sesi\xf3n"),i.qZA(),i.qZA()}}function qe(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"button",10),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).addFavorite()}),i._uU(2,"A\xf1adir a favorito "),i.TgZ(3,"mat-icon"),i._uU(4,"star"),i.qZA(),i.qZA(),i.qZA()}}function je(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).removeFavorite()}),i._uU(1," Eliminar de Favorito"),i.TgZ(2,"mat-icon"),i._uU(3,"favorite_border"),i.qZA(),i.qZA()}}function Be(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"button",11),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).addSlopes()}),i._uU(2,"A\xf1adir a pendientes "),i.TgZ(3,"mat-icon"),i._uU(4,"alarm"),i.qZA(),i.qZA(),i.qZA()}}function Ve(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",11),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).removeSlope()}),i._uU(1," Eliminar de pendientes"),i.TgZ(2,"mat-icon"),i._uU(3,"alarm"),i.qZA(),i.qZA()}}function ze(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",6),i.YNc(1,qe,5,0,"div",1),i.YNc(2,je,4,0,"ng-template",null,7,i.W1O),i.YNc(4,Be,5,0,"div",1),i.YNc(5,Ve,4,0,"ng-template",null,8,i.W1O),i.TgZ(7,"button",9),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).goPdf()}),i._uU(8,"Leer libro "),i.TgZ(9,"mat-icon"),i._uU(10,"book"),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(3),t=i.MAs(6),n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",n.favorite)("ngIfElse",e),i.xp6(3),i.Q6J("ngIf",n.slopes)("ngIfElse",t)}}function He(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).addWanted()}),i._uU(2," A\xf1adir a lista deseo"),i.TgZ(3,"mat-icon"),i._uU(4,"favorite_border"),i.qZA(),i.qZA(),i.qZA()}}function Ge(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).removeWanted()}),i._uU(1," Eliminar de lista de deseo"),i.TgZ(2,"mat-icon"),i._uU(3,"alarm"),i.qZA(),i.qZA()}}function $e(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"button",13),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).buy()}),i._uU(2,"Comprar "),i.TgZ(3,"mat-icon"),i._uU(4,"shop"),i.qZA(),i.qZA(),i.YNc(5,He,5,0,"div",1),i.YNc(6,Ge,4,0,"ng-template",null,14,i.W1O),i.qZA()}if(2&e){const e=i.MAs(7),t=i.oxw(2);i.xp6(5),i.Q6J("ngIf",t.wanted)("ngIfElse",e)}}function We(e,t){if(1&e&&(i.YNc(0,ze,11,4,"div",4),i.YNc(1,$e,8,2,"ng-template",null,5,i.W1O)),2&e){const e=i.MAs(2),t=i.oxw();i.Q6J("ngIf",t.acquired)("ngIfElse",e)}}let Ye=(()=>{class e{constructor(e,t,n){this.bookService=e,this.activatedRoute=t,this.router=n,this.acquired=!1,this.favorite=!0,this.slopes=!0,this.wanted=!0,this.bookId="",this.activatedRoute.params.subscribe(({id:e})=>{this.bookId=e});var r=localStorage.getItem("userOnlinebook");this.user=JSON.parse(r),this.bookAcquired(),this.checkFavorite(),this.checkSlopes(),this.checkWanted()}buy(){this.bookService.addAcquiredBook(this.user.uid,this.bookId),this.bookService.getWantedBook(this.user.uid,this.bookId).subscribe(e=>{e[0]&&this.bookService.removeWantedBook(e[0].eventId)})}bookAcquired(){this.bookService.getAcquiredBook(this.user.uid,this.bookId).subscribe(e=>{console.log(e),1==e.length&&(this.acquired=!0)})}addSlopes(){this.bookService.addSlopesBook(this.user.uid,this.bookId)}checkSlopes(){this.bookService.getSlopesBook(this.user.uid,this.bookId).subscribe(e=>{this.slopesRelation=e,e.length>=1&&(this.slopes=!1)})}checkWanted(){this.bookService.getWantedBook(this.user.uid,this.bookId).subscribe(e=>{this.wantedRelation=e,e.length>=1&&(this.wanted=!1)})}checkFavorite(){this.bookService.getFavoriteBook(this.user.uid,this.bookId).subscribe(e=>{this.favoriteRelation=e,1==e.length&&(this.favorite=!1)})}addFavorite(){this.bookService.addFavoriteBook(this.user.uid,this.bookId)}removeFavorite(){this.bookService.removeFavoriteBook(this.favoriteRelation[0].eventId).then(e=>{this.favorite=!this.favorite})}removeSlope(){this.bookService.removeSlopeBook(this.slopesRelation[0].eventId).then(e=>{this.slopes=!this.slopes})}removeWanted(){this.bookService.removeWantedBook(this.wantedRelation[0].eventId).then(e=>{this.wanted=!this.wanted})}addWanted(){this.bookService.addWantedBook(this.user.uid,this.bookId)}goPdf(){this.bookService.getBookById(this.bookId).subscribe(e=>{window.location.href=e.link})}navigateLogin(){this.router.navigate(["/auth/login"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w),i.Y36(s.gz),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-book-page-buttons"]],decls:4,vars:2,consts:[[1,"book-page-buttons"],[4,"ngIf","ngIfElse"],["showButtons",""],[3,"click"],["style","display:flex","id","buttonsFlex",4,"ngIf","ngIfElse"],["buyButtons",""],["id","buttonsFlex",2,"display","flex"],["deleteFav",""],["deleteSlopes",""],["mat-raised-button","","id","readButton",3,"click"],["mat-raised-button","","id","favButton",3,"click"],["mat-raised-button","","id","slopeButton",3,"click"],["id","buttonsFlex"],["mat-raised-button","","id","buyButton",3,"click"],["deleteWanted",""],["mat-raised-button","","id","wantedButton",3,"click"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.YNc(1,Ue,5,0,"div",1),i.YNc(2,We,3,2,"ng-template",null,2,i.W1O),i.qZA()),2&e){const e=i.MAs(3);i.xp6(1),i.Q6J("ngIf",!t.user)("ngIfElse",e)}},directives:[p.O5,a.lW,h.Hw],styles:[".book-page-buttons[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:center}@media (max-width: 750px){.book-page-buttons[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;justify-content:center}#buttonsFlex[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.book-page-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem}#favButton[_ngcontent-%COMP%]{width:86%}#favButton[_ngcontent-%COMP%]:hover{background-color:#d39942}#readButton[_ngcontent-%COMP%]:hover, #wantedButton[_ngcontent-%COMP%]:hover{background-color:#e62c2c}#buyButton[_ngcontent-%COMP%]:hover{background-color:#373ccc}#slopeButton[_ngcontent-%COMP%]:hover{background-color:#62c582}"]}),e})();m.Z.initializeApp(g.N.firebaseConfig);let Ke=(()=>{class e{constructor(e){this.firestore=e}getCommentsBook(e){return this.firestore.collectionGroup("comments",t=>t.where("bookId","==",e)).valueChanges({idField:"eventId"})}addlike(e,t){return this.firestore.collection("likes").add({user:t,comment:e})}getLikedComment(e,t){return this.firestore.collectionGroup("likes",n=>n.where("user","==",e).where("comment","==",t)).valueChanges({idField:"eventId"})}getCommentById(e){return this.firestore.collection("comments").doc(e).valueChanges({idField:"eventId"})}removeLikedComment(e){return this.firestore.collection("likes").doc(e).delete()}getLikes(e){return this.firestore.collectionGroup("likes",t=>t.where("comment","==",e)).valueChanges({idField:"eventId"})}getReports(e){return this.firestore.collectionGroup("report",t=>t.where("comment","==",e)).valueChanges({idField:"eventId"})}addComment(e,t,n){return this.firestore.collection("comments").add({userId:n,bookId:e,msg:t})}removeComment(e){this.firestore.collection("comments").doc(e).delete(),this.getLikes(e).subscribe(e=>{console.log(e),e.forEach(e=>{this.firestore.collection("likes").doc(e.eventId).delete()})}),this.getReports(e).subscribe(e=>{console.log(e),e.forEach(e=>{this.firestore.collection("report").doc(e.eventId).delete()})})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.ST))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Qe(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"span",12),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).removeLike()}),i.TgZ(2,"mat-icon"),i._uU(3,"thumb_up "),i.qZA(),i.TgZ(4,"h4"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(5),i.hij("",e.likesCounter," likes")}}function Je(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).addLike()}),i.TgZ(1,"mat-icon"),i._uU(2,"thumb_up_off_alt"),i.qZA(),i.TgZ(3,"h4"),i._uU(4),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(4),i.hij("",e.likesCounter," likes")}}function Xe(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"span",12),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).deleteComment()}),i.TgZ(2,"mat-icon"),i._uU(3,"delete "),i.qZA(),i.TgZ(4,"h4"),i._uU(5,"Borrar"),i.qZA(),i.qZA(),i.qZA()}}function et(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"img",4),i.TgZ(5,"h1"),i._uU(6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",6),i.TgZ(11,"div",7),i.TgZ(12,"div",8),i.YNc(13,Qe,6,1,"div",9),i.YNc(14,Je,5,1,"ng-template",null,10,i.W1O),i.TgZ(16,"div",11),i.TgZ(17,"span",12),i.NdJ("click",function(){return i.CHM(e),i.oxw().reportComment()}),i.TgZ(18,"mat-icon"),i._uU(19,"report_problem "),i.qZA(),i.TgZ(20,"h4"),i._uU(21,"Reportar"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(22,Xe,6,0,"div",13),i.qZA(),i._UZ(23,"div"),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(15),t=i.oxw();i.xp6(4),i.Q6J("src",t.user.img,i.LSH),i.xp6(2),i.Oqu(t.user.userName),i.xp6(3),i.Oqu(t.comment.msg),i.xp6(4),i.Q6J("ngIf",t.mylike)("ngIfElse",e),i.xp6(9),i.Q6J("ngIf",t.comment.userId==t.localuser.uid)}}function tt(e,t){if(1&e&&(i.TgZ(0,"mat-option",7),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.Oqu(e)}}const nt=".comment_container[_ngcontent-%COMP%]{width:90%;margin:auto auto 10px}.comment_header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:#b5b8bc;padding:7px;margin:auto;border-radius:10px 10px 0 0}.comment_header_userInfo[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:10px}.comment_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;max-width:50px;max-height:50px}.comment_header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin:10px}.comment_msg[_ngcontent-%COMP%]{border:3px solid #b5b8bc;padding:20px}.comment_msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px}.comment_footer[_ngcontent-%COMP%]{background-color:#b5b8bc;display:flex;flex-direction:row;justify-content:space-between;border-radius:0 0 10px 10px}.respuestasDiv[_ngcontent-%COMP%]{color:#fff;display:flex}.comment_footer_icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:2px}.respuestasDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto 10px auto auto}.comment_footer_icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin-left:20px;display:flex}#likes[_ngcontent-%COMP%]{display:flex;flex-direction:row;cursor:pointer}#likes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{vertical-align:middle;margin:auto auto auto 5px;color:#fff}.reportForm[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reportFormList[_ngcontent-%COMP%], .reportFormList[_ngcontent-%COMP%]:focus{color:#fff}  .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#fff}  .mat-form-field.mat-focused .mat-form-field-label{color:#fff}  .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#fff}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}";let rt=(()=>{class e{constructor(e,t,n,r){this.userService=e,this.commentsService=t,this.dialog=n,this.reportService=r,this.likesCounter=0,this.mylike=!1,this.commentId="prueba"}ngOnChanges(){this.commentsService.getCommentById(this.commentId).subscribe(e=>{this.comment=e,this.commentsService.getLikes(this.comment.eventId).subscribe(e=>{this.likesCounter=e.length}),this.commentLiked(this.comment.eventId),this.userService.getUserById(this.comment.userId).subscribe(e=>{this.user=e})}),this.localuser=JSON.parse(localStorage.getItem("userOnlinebook"))}addLike(){this.commentsService.addlike(this.comment.eventId,this.localuser.uid)}removeLike(){this.mylike=!1,this.commentsService.removeLikedComment(this.like[0].eventId)}deleteComment(){console.log(this.comment.userId),console.log(this.localuser),this.commentsService.removeComment(this.comment.eventId)}commentLiked(e){this.commentsService.getLikedComment(this.localuser.uid,e).subscribe(e=>{this.like=e,e.length>=1&&(this.mylike=!0)})}reportComment(){this.dialog.open(it).afterClosed().subscribe(e=>{var t=e;console.log(e),this.reportService.addReportComment(this.comment.eventId,this.localuser.uid,t,this.comment.msg)})}metodo(){console.log(this.commentId)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(he.K),i.Y36(Ke),i.Y36(de.uw),i.Y36(Oe))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-comentario"]],inputs:{commentId:"commentId"},features:[i.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"comment_container"],[1,"comment_header"],[1,"comment_header_userInfo"],["alt","",3,"src"],[1,"comment_msg"],[1,"comment_footer"],[1,"comment_footer_icons"],[2,"display","flex"],["class","like-icon",4,"ngIf","ngIfElse"],["nolike",""],[1,"like-icon"],["id","likes",3,"click"],["class","like-icon",4,"ngIf"]],template:function(e,t){1&e&&i.YNc(0,et,24,6,"div",0),2&e&&i.Q6J("ngIf",t.comment&&t.user)},directives:[p.O5,h.Hw],styles:[nt]}),e})(),it=(()=>{class e{constructor(e,t){this.fb=e,this.dialogRef=t,this.reportForm=this.fb.group({list:["",[l.kI.required]]}),this.reasonList=["Es sospechoso o spam","Comete abuso o es perjudicial","Es enga\xf1oso","Expresa intenciones de suicidio","El comentario contiene spoilers del libro"]}sendReport(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-report"]],decls:11,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"reportForm"],["appearance","fill",1,"reportFormList"],[1,"reportFormList"],["formControlName","list","multiple",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn","type","submit",3,"mat-dialog-close"],[3,"value"]],template:function(e,t){1&e&&(i.TgZ(0,"h3"),i._uU(1,"Selecciona el motivo del Reporte"),i.qZA(),i.TgZ(2,"form",0),i.NdJ("ngSubmit",function(){return t.sendReport()}),i.TgZ(3,"div",1),i.TgZ(4,"mat-form-field",2),i.TgZ(5,"mat-label",3),i._uU(6,"Motivos de Reporte"),i.qZA(),i.TgZ(7,"mat-select",4),i.YNc(8,tt,2,2,"mat-option",5),i.qZA(),i.qZA(),i.TgZ(9,"button",6),i._uU(10," Reportar "),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("formGroup",t.reportForm),i.xp6(6),i.Q6J("ngForOf",t.reasonList),i.xp6(1),i.Q6J("mat-dialog-close",t.reportForm.controls.list.value))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,Pe.gD,l.JJ,l.u,p.sg,a.lW,de.ZT,De.ey],styles:[nt]}),e})();function st(e,t){1&e&&(i.TgZ(0,"div",2),i.TgZ(1,"span"),i._uU(2,"No hay comentarios todavia "),i.qZA(),i.qZA())}function ot(e,t){if(1&e&&(i.TgZ(0,"div"),i._UZ(1,"app-comentario",4),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("commentId",e.eventId)}}function at(e,t){if(1&e&&i.YNc(0,ot,2,1,"div",3),2&e){const e=i.oxw();i.Q6J("ngForOf",e.commentsList)}}let ct=(()=>{class e{constructor(e,t){this.commentsService=e,this.activatedRoute=t,this.commentsList=[],this.activatedRoute.params.subscribe(({id:e})=>{this.bookId=e}),this.commentsService.getCommentsBook(this.bookId).subscribe(e=>{this.commentsList=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Ke),i.Y36(s.gz))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-comentarios-list"]],decls:4,vars:2,consts:[["class","noComment",4,"ngIf","ngIfElse"],["showComments",""],[1,"noComment"],[4,"ngFor","ngForOf"],[3,"commentId"]],template:function(e,t){if(1&e&&(i.YNc(0,st,3,0,"div",0),i._UZ(1,"hr"),i.YNc(2,at,1,1,"ng-template",null,1,i.W1O)),2&e){const e=i.MAs(3);i.Q6J("ngIf",0==t.commentsList.length)("ngIfElse",e)}},directives:[p.O5,p.sg,rt],styles:["span[_ngcontent-%COMP%]{font-size:x-large;margin:auto auto 10px}.noComment[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}hr[_ngcontent-%COMP%]{width:90%}"]}),e})(),lt=(()=>{class e{constructor(e,t,n){this.fb=e,this.activatedRoute=t,this.commentService=n,this.commentForm=this.fb.group({mensaje:["",[l.kI.required]]}),this.activatedRoute.params.subscribe(({id:e})=>{this.bookId=e}),this.user=JSON.parse(localStorage.getItem("userOnlinebook"))}sendComment(){this.commentService.addComment(this.bookId,this.commentForm.controls.mensaje.value,this.user.uid),this.commentForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(s.gz),i.Y36(Ke))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-comentarios-new-comment"]],decls:16,vars:1,consts:[[1,"comment_container"],[1,"comment_header"],[1,"comment_msg"],[3,"formGroup"],["appearance","fill",1,"textArea"],[1,"textAreaPlaceholder"],["matInput","","formControlName","mensaje"],[1,"comment_footer"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div"),i.TgZ(1,"div",0),i.TgZ(2,"div",1),i.TgZ(3,"h1"),i._uU(4,"Nuevo comentario"),i.qZA(),i.qZA(),i.TgZ(5,"div",2),i.TgZ(6,"form",3),i.TgZ(7,"mat-form-field",4),i.TgZ(8,"mat-label",5),i._uU(9,"Introduce tu comentario"),i.qZA(),i.TgZ(10,"textarea",6),i._uU(11,"                "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",7),i.TgZ(13,"button",8),i.NdJ("click",function(){return t.sendComment()}),i._uU(14," Comentar "),i.qZA(),i.qZA(),i._UZ(15,"div"),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("formGroup",t.commentForm))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,d.Nt,l.Fj,l.JJ,l.u,a.lW],styles:[".comment_container[_ngcontent-%COMP%]{width:90%;margin:auto auto 10px}.comment_header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:#b5b8bc;padding:7px;margin:auto;border-radius:10px 10px 0 0}.comment_header_userInfo[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:10px}.comment_header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin:10px}.comment_msg[_ngcontent-%COMP%]{border:3px solid #b5b8bc;padding:2px}.comment_msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px}.comment_footer[_ngcontent-%COMP%]{background-color:#b5b8bc;display:flex;flex-direction:row;justify-content:end;border-radius:0 0 10px 10px;padding:5px}.respuestasDiv[_ngcontent-%COMP%]{color:#fff;display:flex}.textArea[_ngcontent-%COMP%]{width:100%}.textAreaPlaceholder[_ngcontent-%COMP%]{color:#212121}"]}),e})(),ut=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-comentarios-container"]],decls:2,vars:0,template:function(e,t){1&e&&(i._UZ(0,"app-comentarios-list"),i._UZ(1,"app-comentarios-new-comment"))},directives:[ct,lt],styles:[""]}),e})();function ht(e,t){1&e&&(i.TgZ(0,"div"),i._UZ(1,"app-book-page-buttons"),i._UZ(2,"hr"),i._UZ(3,"app-comentarios-container"),i.qZA())}function dt(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"button",7),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).activateBook()}),i._uU(2,"Activar Libro "),i.TgZ(3,"mat-icon"),i._uU(4,"check_circle_outline"),i.qZA(),i.qZA(),i.qZA()}}function pt(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"p"),i._uU(2," Libro pendiente de validaci\xf3n"),i.qZA(),i.TgZ(3,"button",7),i.NdJ("click",function(){return i.CHM(e),i.oxw().goPdf()}),i._uU(4,"Leer libro "),i.TgZ(5,"mat-icon"),i._uU(6,"book"),i.qZA(),i.qZA(),i.qZA(),i.YNc(7,dt,5,0,"div",8)}if(2&e){const e=i.oxw();i.xp6(7),i.Q6J("ngIf",1==e.admin.rol)}}let ft=(()=>{class e{constructor(e,t,n){this.bookService=e,this.activatedRoute=t,this.userService=n,this.userLogged="",this.bought=!0,this.active=!1,this.admin={rol:0,uid:"",email:"",userName:"",img:""},this.aux="",this.activatedRoute.params.subscribe(({id:e})=>this.bookId=e),this.bookService.getBookById(this.bookId).subscribe(e=>{this.book=e,this.book.eventId=this.bookId,this.active=this.book.active});var r=JSON.parse(localStorage.getItem("userOnlinebook"));this.aux=r.uid,r&&this.userService.getUserById(r.uid).subscribe(e=>{this.admin=e})}goPdf(){this.bookService.getBookById(this.bookId).subscribe(e=>{window.location.href=e.link})}activateBook(){this.bookService.activateBook(this.bookId,this.aux,this.book)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w),i.Y36(s.gz),i.Y36(he.K))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-book-page"]],decls:6,vars:3,consts:[[1,"componetContainer"],[1,"book-page-grid"],[3,"book"],[4,"ngIf","ngIfElse"],["class","noValidate"],["noActive",""],[1,"noValidate"],["mat-raised-button","","id","readButton",3,"click"],["class","noValidate",4,"ngIf"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-book-info",2),i.YNc(3,ht,4,0,"div",3),i.YNc(4,pt,8,1,"ng-template",4,5,i.W1O),i.qZA(),i.qZA()),2&e){const e=i.MAs(5);i.xp6(2),i.Q6J("book",t.book),i.xp6(1),i.Q6J("ngIf",t.active)("ngIfElse",e)}},directives:[Le,p.O5,Ye,ut,a.lW,h.Hw],styles:[".componetContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-self:center;width:90%;border-radius:2rem;background-color:#fff;box-shadow:10px 10px 11px 0 #000000bf;max-width:100%;min-height:100px;margin:3% auto 20px}hr[_ngcontent-%COMP%]{width:90%;margin-bottom:10px}.book-page-grid[_ngcontent-%COMP%]{min-width:100%}.noValidate[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto}#readButton[_ngcontent-%COMP%]{max-width:50%;margin:auto auto 20px}.noValidate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:xx-large;margin:auto auto 20px}"]}),e})();function mt(e,t){if(1&e&&(i.TgZ(0,"div",6),i._UZ(1,"app-bookcard",7),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function gt(e,t){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,mt,2,1,"div",5),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function yt(e,t){1&e&&(i.TgZ(0,"div",8),i.TgZ(1,"h1"),i._uU(2,"No hay libros en tu biblioteca"),i.qZA(),i.qZA())}let vt=(()=>{class e{constructor(e){this.bookService=e,this.items=[];var t=localStorage.getItem("userOnlinebook");this.user=JSON.parse(t),this.items=[],this.items=this.bookService.getMyBooks(this.user.uid)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-mybooks"]],decls:8,vars:2,consts:[[1,"tittle-grid"],[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Mis Libros Adquiridos "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.YNc(5,gt,2,1,"div",2),i.YNc(6,yt,3,0,"ng-template",null,3,i.W1O),i.qZA()),2&e){const e=i.MAs(7);i.xp6(5),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[p.O5,p.sg,C],styles:[".catalog-grid[_ngcontent-%COMP%]{grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));padding:2%;margin:3% auto 20px}.catalog-grid[_ngcontent-%COMP%], .tittle-grid[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;border-radius:2rem}.tittle-grid[_ngcontent-%COMP%]{margin:3% auto auto;color:#202ca9;padding:1%}.tittle-grid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.emptyListClass[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}"]}),e})();function _t(e,t){if(1&e&&(i.TgZ(0,"div",6),i._UZ(1,"app-bookcard",7),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function bt(e,t){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,_t,2,1,"div",5),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function wt(e,t){1&e&&(i.TgZ(0,"div",8),i.TgZ(1,"h1"),i._uU(2," No hay libros favoritos "),i.qZA(),i.qZA())}let Ct=(()=>{class e{constructor(e){this.bookService=e,this.items=[];var t=localStorage.getItem("userOnlinebook");this.user=JSON.parse(t),this.items=[],this.items=this.bookService.getMyFavorites(this.user.uid)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-myfavorites"]],decls:8,vars:2,consts:[[1,"tittle-grid"],[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Mis Libros Favoritos"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.YNc(5,bt,2,1,"div",2),i.YNc(6,wt,3,0,"ng-template",null,3,i.W1O),i.qZA()),2&e){const e=i.MAs(7);i.xp6(5),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[p.O5,p.sg,C],styles:[".catalog-grid[_ngcontent-%COMP%]{grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));padding:2%;margin:3% auto 20px}.catalog-grid[_ngcontent-%COMP%], .tittle-grid[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;border-radius:2rem}.tittle-grid[_ngcontent-%COMP%]{margin:3% auto auto;color:#202ca9;font-size:xx-large;padding:1%}.tittle-grid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.emptyListClass[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}"]}),e})();function St(e,t){if(1&e&&(i.TgZ(0,"div",6),i._UZ(1,"app-bookcard",7),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function xt(e,t){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,St,2,1,"div",5),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function Tt(e,t){1&e&&(i.TgZ(0,"div",8),i.TgZ(1,"h1"),i._uU(2," No hay libros pendientes "),i.qZA(),i.qZA())}let Et=(()=>{class e{constructor(e){this.bookService=e,this.items=[];var t=localStorage.getItem("userOnlinebook");this.user=JSON.parse(t),this.items=[],this.items=this.bookService.getMySlopes(this.user.uid)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-myslopes"]],decls:8,vars:2,consts:[[1,"tittle-grid"],[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Mis Libros Pendientes"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.YNc(5,xt,2,1,"div",2),i.YNc(6,Tt,3,0,"ng-template",null,3,i.W1O),i.qZA()),2&e){const e=i.MAs(7);i.xp6(5),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[p.O5,p.sg,C],styles:[".catalog-grid[_ngcontent-%COMP%]{grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));margin:3% auto auto;padding:2%}.catalog-grid[_ngcontent-%COMP%], .tittle-grid[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;border-radius:2rem}.tittle-grid[_ngcontent-%COMP%]{color:#202ca9;font-size:xx-large;padding:1%;margin:3% auto 20px}.tittle-grid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.emptyListClass[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}"]}),e})();function kt(e,t){if(1&e&&(i.TgZ(0,"div",8),i._UZ(1,"app-bookcard",9),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function At(e,t){if(1&e&&(i.TgZ(0,"div",6),i.YNc(1,kt,2,1,"div",7),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function It(e,t){1&e&&(i.TgZ(0,"div",10),i.TgZ(1,"h1"),i._uU(2," No hay libros autopublicados "),i.qZA(),i.qZA())}let Ot=(()=>{class e{constructor(e){this.bookService=e,this.items=[];var t=localStorage.getItem("userOnlinebook");this.user=JSON.parse(t),this.items=[],this.items=this.bookService.getMyPublished(this.user.uid)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-mypublishedbooks"]],decls:11,vars:2,consts:[[1,"tittle-grid"],["routerLink","../newBook",1,"addBook"],["aria-hidden","false"],[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Mis Libros Publicados"),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.TgZ(5,"mat-icon",2),i._uU(6," add_circle_outline "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"div",3),i.YNc(8,At,2,1,"div",4),i.YNc(9,It,3,0,"ng-template",null,5,i.W1O),i.qZA()),2&e){const e=i.MAs(10);i.xp6(8),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[s.rH,h.Hw,p.O5,p.sg,C],styles:[".catalog-grid[_ngcontent-%COMP%]{grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));padding:2%;margin:3% auto 20px}.catalog-grid[_ngcontent-%COMP%], .tittle-grid[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;border-radius:2rem}.tittle-grid[_ngcontent-%COMP%]{margin:3% auto auto;color:#202ca9;padding:1%}.tittle-grid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.emptyListClass[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.tittle-grid[_ngcontent-%COMP%]{display:flex;flex-direction:row}.addBook[_ngcontent-%COMP%]{background-color:#202ca9;border-radius:50%;padding:1%;vertical-align:middle;display:flex;align-items:center;cursor:pointer}.addBook[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:x-large;margin:auto}"]}),e})();function Pt(e,t){if(1&e&&(i.TgZ(0,"div",6),i._UZ(1,"app-bookcard",7),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function Dt(e,t){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,Pt,2,1,"div",5),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function Rt(e,t){1&e&&(i.TgZ(0,"div",8),i.TgZ(1,"h1"),i._uU(2," No hay libros en tu lista de deseos "),i.qZA(),i.qZA())}let Ft=(()=>{class e{constructor(e){this.bookService=e,this.items=[];var t=localStorage.getItem("userOnlinebook");this.user=JSON.parse(t),this.items=[],this.items=this.bookService.getMyWanted(this.user.uid)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-mywanted"]],decls:8,vars:2,consts:[[1,"tittle-grid"],[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Mi Lista de Deseos"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",1),i.YNc(5,Dt,2,1,"div",2),i.YNc(6,Rt,3,0,"ng-template",null,3,i.W1O),i.qZA()),2&e){const e=i.MAs(7);i.xp6(5),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[p.O5,p.sg,C],styles:[".catalog-grid[_ngcontent-%COMP%]{grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));margin:3% auto auto;padding:2%}.catalog-grid[_ngcontent-%COMP%], .tittle-grid[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;border-radius:2rem}.tittle-grid[_ngcontent-%COMP%]{color:#202ca9;font-size:xx-large;padding:1%;margin:3% auto 20px}.tittle-grid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.emptyListClass[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}"]}),e})();function Nt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function Mt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function Lt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function Zt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function Ut(e,t){if(1&e&&(i.TgZ(0,"mat-option",27),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.Oqu(e)}}function qt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function jt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}function Bt(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1,"Campo requerido"),i.qZA())}const Vt=".componentcontainer[_ngcontent-%COMP%]{height:90%;display:flex;justify-content:center;align-items:center;flex-direction:column}input.mat-input-element[_ngcontent-%COMP%]{color:#1a1a1a}.container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:13px 13px 11px -11px #000000bf;display:flex;justify-content:center;align-items:center;flex-direction:column;padding-top:0}.verifyContainer[_ngcontent-%COMP%]{padding:5%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}.header[_ngcontent-%COMP%]{background-color:#3f51b5;width:100%;padding-top:4%;border-radius:8px 8px 0 0;display:flex;justify-content:center;align-items:center;color:#fff}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}.div1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px;width:150px;height:250px;border-radius:10px;align-self:center}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 700px){.formGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:50px;margin-bottom:5%}.div1[_ngcontent-%COMP%]{grid-area:1/1/5/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.div4[_ngcontent-%COMP%]{grid-area:4/2/2/4;width:100%}.div1[_ngcontent-%COMP%], .div2[_ngcontent-%COMP%], .div3[_ngcontent-%COMP%], .div4[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}}button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}span[_ngcontent-%COMP%]{margin-top:.5rem;align-self:center;color:#708090;font-size:14px}a[_ngcontent-%COMP%]{text-decoration:none;color:#3f51b5}.abstract-textArea[_ngcontent-%COMP%]{width:100%;min-width:100%}.file-upload[_ngcontent-%COMP%]{padding:0 6px;margin:6px 8px;min-width:88px;border-radius:3px;font-size:14px;text-align:center;text-transform:uppercase;text-decoration:none;border:none;outline:none;background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#1a1a1a}  .mat-select-arrow{color:#1a1a1a!important}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}  .mat-select-value-text{color:#1a1a1a}.textArea[_ngcontent-%COMP%]{color:#1a1a1a}.add-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}";let zt=(()=>{class e{constructor(e,t,n,r){this.fb=e,this.dialog=t,this.bookService=n,this.router=r,this.showPasswd=!0,this.PortadaURL="../../../../assets/book-placeholder.png",this.filePDF="",this.publiForm=this.fb.group({filePDF:[this.filePDF],filePortada:[this.PortadaURL],author:[,[l.kI.required]],abstract:["",[l.kI.required]],categories:[,[l.kI.required]],isbn:["",[l.kI.required]],name:["",[l.kI.required]],price:[,[l.kI.required]],year:[,[l.kI.required]],list:[,[l.kI.required]]}),this.categoriasList=["Terror","Biografia","Leyendas","Thriller","Policiaca","Fantasia","Educativo","Peosia","Drama","Infantil","Romantica","Futurista","Otro"],this.user=JSON.parse(localStorage.getItem("userOnlinebook"))}validezCampo(e){return this.publiForm.controls[e].errors&&this.publiForm.controls[e].touched}uploadImg(e){let t=e.target.files,n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=()=>{this.PortadaURL=n.result}}uploadPdf(e){let t=e.target.files,n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=()=>{this.publiForm.controls.filePDF.setValue(n.result)}}addBook(){this.bookService.createBook(this.publiForm.controls.author.value,this.publiForm.controls.categories.value,this.publiForm.controls.isbn.value,this.publiForm.controls.name.value,this.publiForm.controls.year.value,this.publiForm.controls.price.value,this.user.uid,this.PortadaURL,this.publiForm.controls.filePDF.value,this.publiForm.controls.abstract.value).then(e=>{this.dialog.open(Ht).afterClosed().subscribe(e=>{this.router.navigate(["/mylibrary/myPublishedBooks"])})})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(l.qu),i.Y36(de.uw),i.Y36(w),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-add-book"]],decls:78,vars:10,consts:[[1,"componentcontainer"],[1,"container"],[1,"header"],[3,"formGroup","ngSubmit"],[1,"formGrid"],[1,"div1"],["alt","Book Placeholder",3,"src"],["type","button","mat-raised-button","","color","primary",3,"click"],["matPrefix",""],["hidden","","type","file",3,"change"],["imgInput",""],["fileInput",""],[1,"div2"],[1,"example-full-width"],["type","text","formControlName","name","autocomplete","on","matInput",""],[4,"ngIf"],["type","text","formControlName","author","autocomplete","on","matInput",""],["type","text","formControlName","isbn","autocomplete","on","matInput",""],[1,"div3"],["type","number","formControlName","year","autocomplete","on","matInput",""],["autocomplete","on","matInput","","formControlName","categories","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","price","autocomplete","on","matInput",""],[1,"div4"],[1,"abstract-textArea"],["matInput","","formControlName","abstract","autocomplete","on",1,"textArea"],["mat-raised-button","","type","submit","color","primary"],[3,"value"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h2"),i._uU(4,"Subir nuevo libro"),i.qZA(),i.qZA(),i.TgZ(5,"form",3),i.NdJ("ngSubmit",function(){return t.addBook()}),i.TgZ(6,"div",4),i.TgZ(7,"div",5),i._UZ(8,"img",6),i.TgZ(9,"button",7),i.NdJ("click",function(){return i.CHM(e),i.MAs(14).click()}),i.TgZ(10,"mat-icon",8),i._uU(11," image "),i.qZA(),i._uU(12," Subir Portada "),i.qZA(),i.TgZ(13,"input",9,10),i.NdJ("change",function(e){return t.uploadImg(e)}),i.qZA(),i.TgZ(15,"button",7),i.NdJ("click",function(){return i.CHM(e),i.MAs(20).click()}),i.TgZ(16,"mat-icon",8),i._uU(17," picture_as_pdf "),i.qZA(),i._uU(18," Subir Pdf "),i.qZA(),i.TgZ(19,"input",9,11),i.NdJ("change",function(e){return t.uploadPdf(e)}),i.qZA(),i.qZA(),i.TgZ(21,"div",12),i.TgZ(22,"mat-form-field",13),i.TgZ(23,"mat-label"),i.TgZ(24,"mat-icon",8),i._uU(25," book "),i.qZA(),i._uU(26," Titulo "),i.qZA(),i._UZ(27,"input",14),i.YNc(28,Nt,2,0,"mat-error",15),i.qZA(),i.TgZ(29,"mat-form-field",13),i.TgZ(30,"mat-label"),i.TgZ(31,"mat-icon",8),i._uU(32," person_outline "),i.qZA(),i._uU(33," Autor "),i.qZA(),i._UZ(34,"input",16),i.YNc(35,Mt,2,0,"mat-error",15),i.qZA(),i.TgZ(36,"mat-form-field",13),i.TgZ(37,"mat-label"),i.TgZ(38,"mat-icon",8),i._uU(39," code "),i.qZA(),i._uU(40," Isbn "),i.qZA(),i._UZ(41,"input",17),i.YNc(42,Lt,2,0,"mat-error",15),i.qZA(),i.qZA(),i.TgZ(43,"div",18),i.TgZ(44,"mat-form-field",13),i.TgZ(45,"mat-label"),i.TgZ(46,"mat-icon",8),i._uU(47,"calendar_today "),i.qZA(),i._uU(48," A\xf1o de publicaci\xf3n "),i.qZA(),i._UZ(49,"input",19),i.YNc(50,Zt,2,0,"mat-error",15),i.qZA(),i.TgZ(51,"mat-form-field",13),i.TgZ(52,"mat-label"),i.TgZ(53,"mat-icon",8),i._uU(54," check_box"),i.qZA(),i._uU(55," Categorias "),i.qZA(),i.TgZ(56,"mat-select",20),i.YNc(57,Ut,2,2,"mat-option",21),i.qZA(),i.YNc(58,qt,2,0,"mat-error",15),i.qZA(),i.TgZ(59,"mat-form-field",13),i.TgZ(60,"mat-label"),i.TgZ(61,"mat-icon",8),i._uU(62," attach_money "),i.qZA(),i._uU(63," Precio "),i.qZA(),i._UZ(64,"input",22),i.YNc(65,jt,2,0,"mat-error",15),i.qZA(),i.qZA(),i.TgZ(66,"div",23),i.TgZ(67,"mat-form-field",24),i.TgZ(68,"mat-label"),i.TgZ(69,"mat-icon",8),i._uU(70," border_color"),i.qZA(),i._uU(71," Resumen "),i.qZA(),i.TgZ(72,"textarea",25),i._uU(73,"                        "),i.qZA(),i.YNc(74,Bt,2,0,"mat-error",15),i.qZA(),i.qZA(),i.qZA(),i.TgZ(75,"div"),i.TgZ(76,"button",26),i._uU(77," Publicar en OnlinEbook "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(5),i.Q6J("formGroup",t.publiForm),i.xp6(3),i.s9C("src",t.PortadaURL,i.LSH),i.xp6(20),i.Q6J("ngIf",t.validezCampo("name")),i.xp6(7),i.Q6J("ngIf",t.validezCampo("author")),i.xp6(7),i.Q6J("ngIf",t.validezCampo("isbn")),i.xp6(8),i.Q6J("ngIf",t.validezCampo("year")),i.xp6(7),i.Q6J("ngForOf",t.categoriasList),i.xp6(1),i.Q6J("ngIf",t.validezCampo("list")),i.xp6(7),i.Q6J("ngIf",t.validezCampo("price")),i.xp6(9),i.Q6J("ngIf",t.validezCampo("isbn")))},directives:[l._Y,l.JL,l.sg,a.lW,h.Hw,u.qo,u.KE,u.hX,l.Fj,d.Nt,l.JJ,l.u,p.O5,l.wV,Pe.gD,p.sg,u.TO,De.ey],styles:[Vt]}),e})(),Ht=(()=>{class e{constructor(e){this.dialogRef=e}sendReport(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-bookCreate"]],decls:9,vars:0,consts:[[1,"add-dialog"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i._uU(2,"Su libro se ha publicado correctamente"),i.qZA(),i.TgZ(3,"p"),i._uU(4," El libro esta pendiente de validacion. "),i.qZA(),i.TgZ(5,"p"),i._uU(6," Ser\xe1 informado cuando el proceso finalize\n"),i.qZA(),i.qZA(),i.TgZ(7,"button",1),i._uU(8," Ok "),i.qZA())},directives:[a.lW,de.ZT],styles:[Vt]}),e})(),Gt=(()=>{class e{constructor(e,t){this.authService=e,this.userService=t,this.user={rol:0,uid:"",email:"",userName:"",img:""},this.admin=!1;var n=JSON.parse(localStorage.getItem("userOnlinebook"));this.userService.getUserById(n.uid).subscribe(e=>{this.user=e})}canActivate(){return 1==this.user.rol}canLoad(){return 1==this.user.rol}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(T.e),i.LFG(he.K))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $t(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(){i.CHM(e);const t=i.oxw();return t.opened=!t.opened}),i.TgZ(1,"mat-icon"),i._uU(2,"menu"),i.qZA(),i.qZA()}}let Wt=(()=>{class e{constructor(e,t){this.authService=e,this.router=t,this.opened=!0,this.showFiller=!1,this.authService.userStateObs().subscribe(e=>{e&&(this.userObject=e)}),window.matchMedia("(max-width: 700px)").matches&&(this.opened=!1)}ngOnInit(){this.userObject=JSON.parse(localStorage.getItem("userOnlinebook"))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-admin-home"]],decls:40,vars:4,consts:[[1,"componentcontainer"],[1,"profile-container"],["mode","side",1,"sidenav",3,"opened","openedChange"],["sidenav",""],[1,"closeSidenav","movileElement",3,"click"],["role","list"],["role","listitem"],["alt","",3,"src"],["routerLink","./checkBook"],["routerLink","./checkCommentReport"],["routerLink","./checkBookReport"],["routerLink","./carrouselAdmin"],["type","button","mat-raised-button","","color","basic","class","viewSidenav movileElement",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","basic",1,"viewSidenav","movileElement",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"mat-sidenav-container",1),i.TgZ(2,"mat-sidenav",2,3),i.NdJ("openedChange",function(e){return t.opened=e}),i.TgZ(4,"mat-icon",4),i.NdJ("click",function(){return t.opened=!t.opened}),i._uU(5," close "),i.qZA(),i.TgZ(6,"mat-nav-list",5),i.TgZ(7,"mat-list-item",6),i._UZ(8,"img",7),i.TgZ(9,"span"),i._uU(10),i.qZA(),i.qZA(),i._UZ(11,"hr"),i.TgZ(12,"a",8),i.TgZ(13,"mat-list-item",6),i.TgZ(14,"div"),i.TgZ(15,"mat-icon"),i._uU(16," book"),i.qZA(),i.TgZ(17,"span"),i._uU(18," Validar Libros "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"a",9),i.TgZ(20,"mat-list-item",6),i.TgZ(21,"mat-icon"),i._uU(22," chat_bubble_outline"),i.qZA(),i.TgZ(23,"span"),i._uU(24," Reportes Comentarios"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"a",10),i.TgZ(26,"mat-list-item",6),i.TgZ(27,"mat-icon"),i._uU(28," report"),i.qZA(),i.TgZ(29,"span"),i._uU(30," Reportes Libros "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"a",11),i.TgZ(32,"mat-list-item",6),i.TgZ(33,"mat-icon"),i._uU(34," view_carousel "),i.qZA(),i.TgZ(35,"span"),i._uU(36," Carrousel "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(37,"mat-sidenav-content"),i.YNc(38,$t,3,0,"button",12),i._UZ(39,"router-outlet"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("opened",t.opened),i.xp6(6),i.s9C("src",t.userObject.photoURL,i.LSH),i.xp6(2),i.hij(" ",t.userObject.displayName,""),i.xp6(28),i.Q6J("ngIf",!t.opened))},directives:[ee.TM,ee.JX,h.Hw,te.Hk,te.Tg,s.yS,ee.Rh,p.O5,s.lC,a.lW],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;height:100%}  .mat-drawer-container{background:none}.sidenav[_ngcontent-%COMP%]{padding:20px}.componentcontainer[_ngcontent-%COMP%]{height:92%;display:flex;justify-content:center;align-items:center;flex-direction:row}mat-icon[_ngcontent-%COMP%]{vertical-align:middle}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:10px;font-size:90%}img[_ngcontent-%COMP%]{max-width:50px;max-height:50px;border-radius:25px;margin-right:10%}.closeSidenav[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.viewSidenav[_ngcontent-%COMP%]{width:100%}@media (min-width: 700px){.movileElement[_ngcontent-%COMP%]{display:none}}"]}),e})();function Yt(e,t){if(1&e&&(i.TgZ(0,"div",11),i._UZ(1,"app-bookcard",12),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e)}}function Kt(e,t){if(1&e&&(i.TgZ(0,"div",9),i.YNc(1,Yt,2,1,"div",10),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function Qt(e,t){1&e&&(i.TgZ(0,"div",13),i.TgZ(1,"h1"),i._uU(2,"No hay libros por validar"),i.qZA(),i.qZA())}let Jt=(()=>{class e{constructor(e,t){this.bookService=e,this.fb=t,this.items=[],this.searchForm=this.fb.group({busqueda:["",[l.kI.required]]}),this.searchAlgolia("",0)}searchAlgolia(e,t){const r=n(7778);this.items=[],r(g.N.algolia.appId,g.N.algolia.apiKey).initIndex(g.N.algolia.indexName).search(e,{getRankingInfo:!0,hitsPerPage:10,attributesToSnippet:"*:20",page:t,facets:["*"],numericFilters:["active=0"]}).then(e=>{this.items=e.hits})}searchResult(){this.searchAlgolia(this.searchForm.controls.busqueda.value,0)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w),i.Y36(l.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-check-book"]],decls:15,vars:3,consts:[[1,"catalogContainer"],[1,"searchForm"],[3,"formGroup","ngSubmit"],[1,"searchInput"],["matPrefix",""],["type","text","matInput","","formControlName","busqueda","placeholder","Buscar ..."],["mat-raised-button","","color","primary","type","submit"],["class","catalog-grid",4,"ngIf","ngIfElse"],["emptyList",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"emptyListClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"form",2),i.NdJ("ngSubmit",function(){return t.searchResult()}),i.TgZ(3,"div"),i.TgZ(4,"mat-form-field",3),i.TgZ(5,"mat-label"),i.TgZ(6,"mat-icon",4),i._uU(7," search "),i.qZA(),i._uU(8," Buscar... "),i.qZA(),i._UZ(9,"input",5),i.qZA(),i.TgZ(10,"button",6),i._uU(11," Buscar "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,Kt,2,1,"div",7),i.YNc(13,Qt,3,0,"ng-template",null,8,i.W1O),i.qZA()),2&e){const e=i.MAs(14);i.xp6(2),i.Q6J("formGroup",t.searchForm),i.xp6(10),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,d.Nt,l.Fj,l.JJ,l.u,a.lW,p.O5,p.sg,C],styles:[".catalogContainer[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto 20px;padding:2%;border-radius:2rem;display:flex;flex-direction:column}.catalog-grid[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr))}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.feature[_ngcontent-%COMP%]{grid-column:span 2}.searchForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:70%;margin:auto}button[_ngcontent-%COMP%]{margin-left:20px}.searchInput[_ngcontent-%COMP%]{width:60%}button[_ngcontent-%COMP%]{width:25%}form[_ngcontent-%COMP%]{width:100%;margin:auto}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#1a1a1a}.emptyListClass[_ngcontent-%COMP%]{display:flex;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}.emptyListClass[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}"]}),e})();function Xt(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td",1),i.TgZ(8,"button",2),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().desestimar(t.eventId)}),i._uU(9," Desestimar "),i.qZA(),i.qZA(),i.TgZ(10,"td",1),i.TgZ(11,"button",3),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().eliminar(t)}),i._uU(12," Eliminar "),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e.eventId),i.xp6(2),i.Oqu(e.reason),i.xp6(2),i.hij("",e.msg," ")}}let en=(()=>{class e{constructor(e,t,n){this.commentService=e,this.reportService=t,this.messageService=n,this.items=[],this.reportService.getCommentsReports().subscribe(e=>{this.items=e}),this.user=JSON.parse(localStorage.getItem("userOnlinebook"))}desestimar(e){this.reportService.removeReport(e)}eliminar(e){this.commentService.removeComment(e.comment),this.reportService.removeReport(e.eventId),this.messageService.addmessage(this.user.uid,e.user,"Su comentario '"+e.msg+"' ha sido eliminado","Comentario borrado")}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Ke),i.Y36(Oe),i.Y36(b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-check-comment-report"]],decls:11,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"buttonTd"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"table"),i.TgZ(1,"tr"),i.TgZ(2,"th"),i._uU(3,"ID Comentario"),i.qZA(),i.TgZ(4,"th"),i._uU(5,"Raz\xf3n"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Mensaje"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Acci\xf3n"),i.qZA(),i.qZA(),i.YNc(10,Xt,13,3,"tr",0),i.qZA()),2&e&&(i.xp6(10),i.Q6J("ngForOf",t.items))},directives:[p.sg,a.lW],styles:["table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:90%;margin:20px auto auto}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;text-align:left;padding:8px}.buttonTd[_ngcontent-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{width:90%}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#868686}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#515151}"]}),e})();function tn(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",5),i._UZ(1,"app-bookcard",6),i.TgZ(2,"div",7),i.TgZ(3,"div",8),i._uU(4),i.qZA(),i.TgZ(5,"button",9),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw(2).desestimar(t.reportId)}),i._uU(6," Desestimar "),i.qZA(),i.TgZ(7,"button",10),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw(2).eliminar(t)}),i._uU(8," Eliminar "),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(1),i.Q6J("book",e),i.xp6(3),i.hij(" ",e.reason," ")}}function nn(e,t){if(1&e&&(i.TgZ(0,"div",3),i.YNc(1,tn,9,2,"div",4),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function rn(e,t){1&e&&(i.TgZ(0,"span",11),i._uU(1,"No hay libros reportados"),i.qZA())}let sn=(()=>{class e{constructor(e,t,n){this.reportService=e,this.bookService=t,this.messageService=n,this.items=[],this.fillList(),this.admin=JSON.parse(localStorage.getItem("userOnlinebook"))}fillList(){this.items=[],this.reportService.getBookReports().forEach(e=>{e.forEach(e=>{this.bookService.getBookById(e.book).subscribe(t=>{this.items.push(Object.assign(t,{reason:e.reason,reportId:e.eventId}))})})})}desestimar(e){this.reportService.removeReport(e),this.fillList()}eliminar(e){this.messageService.addmessage(this.admin.uid,e.userOwner,"Su libro "+e.name+" ha sido eliminado del catalogo","Libro eliminado"),this.reportService.removeReport(e.reportId),this.fillList()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Oe),i.Y36(w),i.Y36(b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-check-book-report"]],decls:7,vars:2,consts:[[1,"catalogContainer"],["class","catalog-grid",4,"ngIf","ngIfElse"],["noBook",""],[1,"catalog-grid"],["class","catalog-item",4,"ngFor","ngForOf"],[1,"catalog-item"],[1,"feature",3,"book"],[1,"bookReportButtons"],[1,"reason-display"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"noBook"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i.TgZ(2,"b"),i._uU(3,"Libros Reportados"),i.qZA(),i.qZA(),i.YNc(4,nn,2,1,"div",1),i.YNc(5,rn,2,0,"ng-template",null,2,i.W1O),i.qZA()),2&e){const e=i.MAs(6);i.xp6(4),i.Q6J("ngIf",t.items.length>0)("ngIfElse",e)}},directives:[p.O5,p.sg,C,a.lW],styles:[".catalogContainer[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto 20px;padding:2%;border-radius:2rem;display:flex;flex-direction:column}.catalog-grid[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr))}.catalog-item[_ngcontent-%COMP%]{margin:0 auto auto}.bookReportButtons[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bookReportButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.reason-display[_ngcontent-%COMP%]{max-width:200px;color:#171717}.catalogContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto}.catalogContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .noBook[_ngcontent-%COMP%]{color:#171717;font-size:xx-large}.noBook[_ngcontent-%COMP%]{margin:50px auto auto}"]}),e})();function on(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i.TgZ(6,"button",2),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().deleteMessage(t.eventId)}),i._uU(7," Eliminar "),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e.Subject),i.xp6(2),i.hij("",e.Data," ")}}function an(e,t){1&e&&(i.TgZ(0,"div"),i.TgZ(1,"h1"),i._uU(2,"No hay mensajes"),i.qZA(),i.qZA())}let cn=(()=>{class e{constructor(e,t){this.messagesService=e,this.userService=t,this.items=[],this.user=JSON.parse(localStorage.getItem("userOnlinebook")),this.messagesService.getMessages(this.user.uid).subscribe(e=>{console.log("Mensajes",e),this.items=e})}deleteMessage(e){this.messagesService.removeMessage(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(b),i.Y36(he.K))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-messages"]],decls:10,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"table"),i.TgZ(1,"tr"),i.TgZ(2,"th"),i._uU(3,"Asunto"),i.qZA(),i.TgZ(4,"th"),i._uU(5,"Mensaje"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Acci\xf3n"),i.qZA(),i.qZA(),i.YNc(8,on,8,2,"tr",0),i.qZA(),i.YNc(9,an,3,0,"div",1)),2&e&&(i.xp6(8),i.Q6J("ngForOf",t.items),i.xp6(1),i.Q6J("ngIf",0==t.items.length))},directives:[p.sg,p.O5,a.lW],styles:["table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:90%;margin:20px auto auto}div[_ngcontent-%COMP%]{display:grid;background-color:hsla(0,0%,100%,.553);width:90%;margin:3% auto auto;color:#000;border-radius:2rem;padding:1%}div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;font-size:xx-large}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;text-align:left;padding:8px}.buttonTd[_ngcontent-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{width:90%}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#868686}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#515151}"]}),e})();function ln(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td",12),i.TgZ(4,"button",13),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().deleteItem(t.eventId)}),i._uU(5," Eliminar "),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e.name)}}const un=[{path:"",component:X},{path:"auth",loadChildren:()=>Promise.resolve().then(n.bind(n,332)).then(e=>e.AuthModule)},{path:"catalog",component:x},{path:"book/:id",component:ft},{path:"mylibrary",component:re,children:[{path:"myBooks",component:vt},{path:"myFavorites",component:Ct},{path:"mySlopes",component:Et},{path:"myPublishedBooks",component:Ot},{path:"myWantedBooks",component:Ft},{path:"newBook",component:zt},{path:"**",component:vt}],canLoad:[E],canActivate:[E]},{path:"adminPanel",component:Wt,children:[{path:"checkBook",component:Jt},{path:"checkCommentReport",component:en},{path:"checkBookReport",component:sn},{path:"carrouselAdmin",component:(()=>{class e{constructor(e,t){this.carrouselService=e,this.fb=t,this.imgUrl="./assets/photo_placeholder.jpg",this.carrouselForm=this.fb.group({file:[this.imgUrl,l.kI.required],name:["",l.kI.required]}),this.carrouselService.getCarrouselItems().subscribe(e=>{this.items=e,console.log(e)})}uploadFile(e){let t=e.target.files,n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=()=>{this.imgUrl=n.result}}addItem(){this.carrouselService.addCarrouselItem(this.carrouselForm.controls.name.value,this.imgUrl)}deleteItem(e){this.carrouselService.deleteCarrouselItem(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(k),i.Y36(l.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-carrousel-admin"]],decls:29,vars:4,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"formGrid"],[1,"example-full-width"],["matPrefix",""],["type","text","formControlName","name","autocomplete","on","matInput",""],["alt","User Placeholder",3,"src"],["type","button","mat-raised-button","","color","primary",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],["mat-raised-button","","type","submit","color","primary",3,"disabled"],[4,"ngFor","ngForOf"],[1,"buttonTd"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"h2"),i._uU(2,"Noticias del Carousel"),i.qZA(),i.TgZ(3,"form",1),i.NdJ("ngSubmit",function(){return t.addItem()}),i.TgZ(4,"div",2),i.TgZ(5,"mat-form-field",3),i.TgZ(6,"mat-label"),i.TgZ(7,"mat-icon",4),i._uU(8," person_outline "),i.qZA(),i._uU(9," Nombre "),i.qZA(),i._UZ(10,"input",5),i.qZA(),i._UZ(11,"img",6),i.TgZ(12,"button",7),i.NdJ("click",function(){return i.CHM(e),i.MAs(17).click()}),i.TgZ(13,"mat-icon",4),i._uU(14," image "),i.qZA(),i._uU(15," Subir imagen "),i.qZA(),i.TgZ(16,"input",8,9),i.NdJ("change",function(e){return t.uploadFile(e)}),i.qZA(),i.qZA(),i.TgZ(18,"div"),i.TgZ(19,"button",10),i._uU(20," Subir "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"div",0),i.TgZ(22,"table"),i.TgZ(23,"tr"),i.TgZ(24,"th"),i._uU(25,"Nombre"),i.qZA(),i.TgZ(26,"th"),i._uU(27,"Acci\xf3n"),i.qZA(),i.qZA(),i.YNc(28,ln,6,1,"tr",11),i.qZA(),i.qZA()}2&e&&(i.xp6(3),i.Q6J("formGroup",t.carrouselForm),i.xp6(8),i.s9C("src",t.imgUrl,i.LSH),i.xp6(8),i.Q6J("disabled",t.carrouselForm.invalid),i.xp6(9),i.Q6J("ngForOf",t.items))},directives:[l._Y,l.JL,l.sg,u.KE,u.hX,h.Hw,u.qo,l.Fj,d.Nt,l.JJ,l.u,a.lW,p.sg],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2rem}  .mat-focused .mat-label .mat-form-field-label{color:#1a1a1a!important}  .mat-form-field-appearance-fill .mat-form-field-flex{color:#1a1a1a!important} .mat-form-field-underline{background-color:#1a1a1a!important} .mat-form-field-ripple{background-color:#3f51b5!important}mat-label[_ngcontent-%COMP%]{color:#000}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){color:#1a1a1a}.mat-raised-button.mat-button-disabled[_ngcontent-%COMP%]{color:#cac9c9!important;background-color:#7b84b8!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}.formGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5%}img[_ngcontent-%COMP%]{margin-bottom:5px;width:400px;height:200px;align-self:center}button[_ngcontent-%COMP%]{width:100%;margin-bottom:1%}.container[_ngcontent-%COMP%]{width:70%;background-color:hsla(0,0%,100%,.553);border-radius:8px;box-shadow:13px 13px 11px -11px #000000bf;display:flex;justify-content:center;align-items:center;flex-direction:column;margin:50px auto auto}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:90%;margin:20px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#868686}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#515151}h2[_ngcontent-%COMP%]{color:#3f51b5;font-size:x-large;margin:20px}"]}),e})()},{path:"**",component:Jt}],canLoad:[Gt],canActivate:[Gt]},{path:"profile",component:ae,children:[{path:"info",component:ue},{path:"updateProfile",component:ye},{path:"changePasswd",component:ke},{path:"messagePage",component:cn}],canLoad:[E],canActivate:[E]},{path:"**",component:c}];let hn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forRoot(un)],s.Bz]}),e})();var dn=n(2522);function pn(e,t){1&e&&(i.TgZ(0,"span",0),i.TgZ(1,"a",9),i._uU(2," Admin Panel "),i.qZA(),i.qZA())}function fn(e,t){if(1&e&&(i.TgZ(0,"div"),i.TgZ(1,"span",0),i.TgZ(2,"a",7),i._uU(3," Mi biblioteca "),i.qZA(),i.qZA(),i.YNc(4,pn,3,0,"span",8),i.qZA()),2&e){const e=i.oxw();i.xp6(4),i.Q6J("ngIf",e.admin.rol)}}function mn(e,t){1&e&&(i.TgZ(0,"div"),i.TgZ(1,"span",0),i.TgZ(2,"a",10),i.TgZ(3,"mat-icon"),i._uU(4," person"),i.qZA(),i._uU(5," Perfil"),i.qZA(),i.qZA(),i.qZA())}function gn(e,t){1&e&&(i.TgZ(0,"span",0),i.TgZ(1,"a",11),i.TgZ(2,"mat-icon"),i._uU(3," person"),i.qZA(),i._uU(4,"Login"),i.qZA(),i.qZA(),i.TgZ(5,"span",0),i.TgZ(6,"a",12),i.TgZ(7,"mat-icon"),i._uU(8,"how_to_reg"),i.qZA(),i._uU(9," Registrarse"),i.qZA(),i.qZA())}let yn=(()=>{class e{constructor(e,t){this.authService=e,this.userService=t,this.userLogged=!1,this.admin={rol:0,uid:"",email:"",userName:"",img:""},this.authService.userStateObs().subscribe(e=>{e?(this.userObject=JSON.parse(localStorage.getItem("userOnlinEbook")),console.log(this.userObject),this.userLogged=!0):this.userLogged=!1;var t=JSON.parse(localStorage.getItem("userOnlinebook"));t&&this.userService.getUserById(t.uid).subscribe(e=>{this.admin=e})})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(T.e),i.Y36(he.K))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-navbar"]],decls:12,vars:3,consts:[[1,"hover-underline-animation"],["routerLink","/"],["routerLink","/catalog"],[4,"ngIf"],[1,"example-spacer"],[4,"ngIf","ngIfElse"],["notLogged",""],["routerLink","/mylibrary"],["class","hover-underline-animation",4,"ngIf"],["routerLink","/adminPanel"],["routerLink","/profile/info"],["routerLink","/auth/login"],["routerLink","/auth/register"]],template:function(e,t){if(1&e&&(i.TgZ(0,"mat-toolbar"),i.TgZ(1,"span",0),i.TgZ(2,"a",1),i._uU(3," Inicio "),i.qZA(),i.qZA(),i.TgZ(4,"span",0),i.TgZ(5,"a",2),i._uU(6," Catalogo "),i.qZA(),i.qZA(),i.YNc(7,fn,5,1,"div",3),i._UZ(8,"span",4),i.YNc(9,mn,6,0,"div",5),i.YNc(10,gn,10,0,"ng-template",null,6,i.W1O),i.qZA()),2&e){const e=i.MAs(11);i.xp6(7),i.Q6J("ngIf",t.userLogged),i.xp6(2),i.Q6J("ngIf",t.userLogged)("ngIfElse",e)}},directives:[dn.Ye,s.yS,p.O5,h.Hw],styles:['a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:10px;font-size:60%}mat-icon[_ngcontent-%COMP%]{vertical-align:middle;display:none}@media (min-width: 700px){a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:10px;font-size:x-large}mat-icon[_ngcontent-%COMP%]{display:inline-block}}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#fff;transform-origin:bottom right;transition:transform .5s ease-out}.hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']}),e})(),vn=(()=>{class e{constructor(e){this.dialog=e}ngOnInit(){}dialogTerms(){this.dialog.open(bn)}dialogContact(){this.dialog.open(wn)}dialogAbout(){this.dialog.open(_n)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(de.uw))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"footer"],[1,"footer-link"],[1,"hover-underline-animation",3,"click"],[1,"footer-social-buttons"],["href","https://www.facebook.com/OnlinEbook-104168528964868","target","_blank","id","fb-icon",1,"fa","fa-facebook"],["href","https://twitter.com/OnlineEbook2022","target","_blank","id","tw-icon",1,"fa","fa-twitter"],["href","https://www.instagram.com/onlinebook_oficial/","target","_blank","id","ig-icon",1,"fa","fa-instagram"],["href","https://github.com/Rubenmt93/OnlinEbook","target","_blank","id","gh-icon",1,"fa","fa-github"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i.NdJ("click",function(){return t.dialogAbout()}),i._uU(3," Sobre OnlinEbook "),i.qZA(),i.TgZ(4,"a",2),i.NdJ("click",function(){return t.dialogTerms()}),i._uU(5," Terminos de usos "),i.qZA(),i.TgZ(6,"a",2),i.NdJ("click",function(){return t.dialogContact()}),i._uU(7," Contactanos "),i.qZA(),i.qZA(),i.TgZ(8,"div",3),i.TgZ(9,"span"),i._uU(10,"Siguenos en:"),i.qZA(),i.TgZ(11,"span"),i._UZ(12,"a",4),i._UZ(13,"a",5),i._UZ(14,"a",6),i._UZ(15,"a",7),i.qZA(),i.qZA(),i.qZA())},styles:['.footer[_ngcontent-%COMP%]{bottom:0;max-width:100%;background-color:#212121;clear:both;padding:1%;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0;grid-row-gap:0}.footer-social-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:xx-large;color:#fff;text-decoration:none;margin:10px}.footer-social-buttons[_ngcontent-%COMP%]{grid-area:1/2/2/3;color:#fff;display:flex;flex-direction:column;align-items:center;margin-right:0}#fb-icon[_ngcontent-%COMP%]:hover{color:#3b5998}#tw-icon[_ngcontent-%COMP%]:hover{color:#55acee}#gl-icon[_ngcontent-%COMP%]:hover{color:#dd4b39}#lk-icon[_ngcontent-%COMP%]:hover{color:#007bb5}#ig-icon[_ngcontent-%COMP%]:hover{color:#f40083}#gh-icon[_ngcontent-%COMP%]:hover{color:#4d4d4d}.footer-link[_ngcontent-%COMP%]{grid-area:1/1/2/2;display:flex;flex-direction:column;align-items:center}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:larger;margin:10px 10px 10px 20px}.hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#fff;transform-origin:bottom right;transition:transform .5s ease-out}.hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']}),e})(),_n=(()=>{class e{constructor(e){this.dialogRef=e}forgotPasswd(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-passwd-dialog"]],decls:8,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"h1"),i._uU(1,"OnlinEbook"),i.qZA(),i.TgZ(2,"p"),i._uU(3," OnlinEbook, \u201cTu biblioteca en tu bolsillo\u201d, es una aplicaci\xf3n web para la gesti\xf3n de una biblioteca personal de libros electr\xf3nicos con caracter\xedsticas propias de una red social. Aqu\xed los autores pueden autopublicarse de manera gratuita y los lectores pueden adquirir estas obras. Basado en el modelo de \u201cSteam\u201d de Valve Corporation o \u201cEpic Games\u201d, donde los usuarios pueden acceder desde cualquier dispositivo a su biblioteca de videojuegos, sin tener que almacenarlos ellos mismos, y pueden compartir sus opiniones con el resto de los usuarios. "),i.qZA(),i.TgZ(4,"p"),i._uU(5," Con un cat\xe1logo inicial compuestos por obras sin derechos de autor, que podr\xe1n ser adquiridas y a\xf1adidas a nuestra biblioteca personal gratuitamente. Tras el despliegue inicial se espera que tome el enfoque de web 2.0 donde sean los usuarios los que creen en contenido de la aplicaci\xf3n.\n"),i.qZA(),i.TgZ(6,"p"),i._uU(7,"En lo referente a la lectura y acceso a las obras adquiridas, podr\xe1n hacerlo desde la aplicaci\xf3n, sin necesidad de descargas y buscando la mayor comodidad y mejor experiencia para el lector."),i.qZA())},encapsulation:2}),e})(),bn=(()=>{class e{constructor(e){this.dialogRef=e}forgotPasswd(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-passwd-dialog"]],decls:65,vars:0,consts:[[2,"text-align","center"],["href","","target","_blank"],["href","http://terminosycondicionesdeusoejemplo.com/","target","_blank"]],template:function(e,t){1&e&&(i.TgZ(0,"h2",0),i.TgZ(1,"strong"),i._uU(2,"T\xe9rminos y Condiciones de Uso"),i.qZA(),i.qZA(),i.TgZ(3,"p"),i._uU(4,"\xa0"),i.qZA(),i.TgZ(5,"p"),i.TgZ(6,"strong"),i._uU(7,"INFORMACI\xd3N RELEVANTE"),i.qZA(),i.qZA(),i.TgZ(8,"p"),i._uU(9,"Es requisito necesario para la adquisici\xf3n de los productos que se ofrecen en este sitio, que lea y acepte los siguientes T\xe9rminos y Condiciones que a continuaci\xf3n se redactan. El uso de nuestros servicios as\xed como la compra de nuestros productos implicar\xe1 que usted ha le\xeddo y aceptado los T\xe9rminos y Condiciones de Uso en el presente documento. Todas los productos \xa0que son ofrecidos por nuestro sitio web pudieran ser creadas, cobradas, enviadas o presentadas por una p\xe1gina web tercera y en tal caso estar\xedan sujetas a sus propios T\xe9rminos y Condiciones. En algunos casos, para adquirir un producto, ser\xe1 necesario el registro por parte del usuario, con ingreso de datos personales fidedignos y definici\xf3n de una contrase\xf1a."),i.qZA(),i.TgZ(10,"p"),i._uU(11,"El usuario puede elegir y cambiar la clave para su acceso de administraci\xf3n de la cuenta en cualquier momento, en caso de que se haya registrado y que sea necesario para la compra de alguno de nuestros productos. http://localhost:4200/ no asume la responsabilidad en caso de que entregue dicha clave a terceros."),i.qZA(),i.TgZ(12,"p"),i._uU(13,"Todas las compras y transacciones que se lleven a cabo por medio de este sitio web, est\xe1n sujetas a un proceso de confirmaci\xf3n y verificaci\xf3n, el cual podr\xeda incluir la verificaci\xf3n del stock y disponibilidad de producto, validaci\xf3n de la forma de pago, validaci\xf3n de la factura (en caso de existir) y el cumplimiento de las condiciones requeridas por el medio de pago seleccionado. En algunos casos puede que se requiera una verificaci\xf3n por medio de correo electr\xf3nico."),i.qZA(),i.TgZ(14,"p"),i._uU(15,"Los precios de los productos ofrecidos en esta Tienda Online es v\xe1lido solamente en las compras realizadas en este sitio web."),i.qZA(),i.TgZ(16,"p"),i.TgZ(17,"strong"),i._uU(18,"LICENCIA"),i.qZA(),i.qZA(),i.TgZ(19,"p"),i._uU(20,"OnlinEBook\xa0 a trav\xe9s de su sitio web concede una licencia para que los usuarios utilicen\xa0 los productos que son vendidos en este sitio web de acuerdo a los T\xe9rminos y Condiciones que se describen en este documento."),i.qZA(),i.TgZ(21,"p"),i.TgZ(22,"strong"),i._uU(23,"USO NO AUTORIZADO"),i.qZA(),i.qZA(),i.TgZ(24,"p"),i._uU(25,"En caso de que aplique (para venta de software, templetes, u otro producto de dise\xf1o y programaci\xf3n) usted no puede colocar uno de nuestros productos, modificado o sin modificar, en un CD, sitio web o ning\xfan otro medio y ofrecerlos para la redistribuci\xf3n o la reventa de ning\xfan tipo."),i.qZA(),i.TgZ(26,"p"),i.TgZ(27,"strong"),i._uU(28,"PROPIEDAD"),i.qZA(),i.qZA(),i.TgZ(29,"p"),i._uU(30,"Usted no puede declarar propiedad intelectual o exclusiva a ninguno de nuestros productos, modificado o sin modificar. Todos los productos son propiedad \xa0de los proveedores del contenido. En caso de que no se especifique lo contrario, nuestros productos se proporcionan\xa0 sin ning\xfan tipo de garant\xeda, expresa o impl\xedcita. En ning\xfan esta compa\xf1\xeda ser\xe1 \xa0responsables de ning\xfan da\xf1o incluyendo, pero no limitado a, da\xf1os directos, indirectos, especiales, fortuitos o consecuentes u otras p\xe9rdidas resultantes del uso o de la imposibilidad de utilizar nuestros productos."),i.qZA(),i.TgZ(31,"p"),i.TgZ(32,"strong"),i._uU(33,"POL\xcdTICA DE REEMBOLSO Y GARANT\xcdA"),i.qZA(),i.qZA(),i.TgZ(34,"p"),i._uU(35,"En el caso de productos que sean\xa0 mercanc\xedas irrevocables no-tangibles, no realizamos reembolsos despu\xe9s de que se env\xede el producto, usted tiene la responsabilidad de entender antes de comprarlo. \xa0Le pedimos que lea cuidadosamente antes de comprarlo. Hacemos solamente excepciones con esta regla cuando la descripci\xf3n no se ajusta al producto. Hay algunos productos que pudieran tener garant\xeda y posibilidad de reembolso pero este ser\xe1 especificado al comprar el producto. En tales casos la garant\xeda solo cubrir\xe1 fallas de f\xe1brica y s\xf3lo se har\xe1 efectiva cuando el producto se haya usado correctamente. La garant\xeda no cubre aver\xedas o da\xf1os ocasionados por uso indebido. Los t\xe9rminos de la garant\xeda est\xe1n asociados a fallas de fabricaci\xf3n y funcionamiento en condiciones normales de los productos y s\xf3lo se har\xe1n efectivos estos t\xe9rminos si el equipo ha sido usado correctamente. Esto incluye:"),i.qZA(),i.TgZ(36,"p"),i._uU(37,"\u2013 De acuerdo a las especificaciones t\xe9cnicas indicadas para cada producto."),i._UZ(38,"br"),i._uU(39,"\u2013 En condiciones ambientales acorde con las especificaciones indicadas por el fabricante."),i._UZ(40,"br"),i._uU(41,"\u2013 En uso espec\xedfico para la funci\xf3n con que fue dise\xf1ado de f\xe1brica."),i._UZ(42,"br"),i._uU(43,"\u2013 En condiciones de operaci\xf3n el\xe9ctricas acorde con las especificaciones y tolerancias indicadas."),i.qZA(),i.TgZ(44,"p"),i.TgZ(45,"strong"),i._uU(46,"COMPROBACI\xd3N ANTIFRAUDE"),i.qZA(),i.qZA(),i.TgZ(47,"p"),i._uU(48,"La compra del cliente puede ser aplazada para la comprobaci\xf3n antifraude. Tambi\xe9n puede ser suspendida por m\xe1s tiempo para una investigaci\xf3n m\xe1s rigurosa, para evitar transacciones fraudulentas."),i.qZA(),i.TgZ(49,"p"),i.TgZ(50,"strong"),i._uU(51,"PRIVACIDAD"),i.qZA(),i.qZA(),i.TgZ(52,"p"),i._uU(53,"Este http://localhost:4200/ garantiza que la "),i._UZ(54,"a",1),i._uU(55," informaci\xf3n personal que usted env\xeda cuenta con la seguridad necesaria. Los datos ingresados por usuario o en el caso de requerir una validaci\xf3n de los pedidos no ser\xe1n entregados a terceros, salvo que deba ser revelada en cumplimiento a una orden judicial o requerimientos legales."),i.qZA(),i.TgZ(56,"p"),i._uU(57,"La suscripci\xf3n a boletines de correos electr\xf3nicos publicitarios es voluntaria y podr\xeda ser seleccionada al momento de crear su cuenta."),i.qZA(),i.TgZ(58,"p"),i._uU(59,"OnlinEBook reserva los derechos de cambiar o de modificar estos t\xe9rminos sin previo aviso."),i.qZA(),i.TgZ(60,"p"),i._uU(61,"Estas terminos y condiciones se han generado en\xa0"),i.TgZ(62,"a",2),i._uU(63,"terminosycondicionesdeusoejemplo.com"),i.qZA(),i._uU(64,"."),i.qZA())},encapsulation:2}),e})(),wn=(()=>{class e{constructor(e){this.dialogRef=e}forgotPasswd(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(de.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["dialog-passwd-dialog"]],decls:18,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"h1"),i._uU(1,"Contactanos"),i.qZA(),i.TgZ(2,"p"),i.TgZ(3,"b"),i._uU(4,"Correo electronico:"),i.qZA(),i._uU(5," onlinebookroot@gmail.com "),i.qZA(),i.TgZ(6,"p"),i.TgZ(7,"b"),i._uU(8,"N\xfamero de telefono:"),i.qZA(),i._uU(9," 686 628 468 "),i.qZA(),i.TgZ(10,"p"),i.TgZ(11,"b"),i._uU(12,"Direcci\xf3n :"),i.qZA(),i._uU(13," Crt. Teror a Valleseco n\xba 72, Teror, Gran Canaria, Espa\xf1a "),i.qZA(),i.TgZ(14,"p"),i.TgZ(15,"b"),i._uU(16,"Codigo postal:"),i.qZA(),i._uU(17," 35330 "),i.qZA())},encapsulation:2}),e})(),Cn=(()=>{class e{constructor(){this.title="OnlinEbook"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"pagesContent"]],template:function(e,t){1&e&&(i._UZ(0,"app-navbar"),i._UZ(1,"router-outlet",0),i._UZ(2,"app-footer"))},directives:[yn,s.lC,vn],styles:[".pagesContent[_ngcontent-%COMP%]{height:90%;margin-bottom:20px}mat-icon[_ngcontent-%COMP%]{vertical-align:middle;display:none}"]}),e})();var Sn=n(6237),xn=n(332),Tn=n(5811);let En=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h,s.Bz,l.UX]]}),e})(),kn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h,xn.AuthModule,l.UX,z,En]]}),e})(),An=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[l.UX,p.ez,Tn.h,s.Bz,En,xn.AuthModule]]}),e})(),In=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h]]}),e})();const On=[{path:"",children:[{path:"info",component:ue,outlet:"outledProfile"},{path:"updateProfile",component:ye,outlet:"outledProfile"},{path:"changePasswd",component:ke,outlet:"outledProfile"},{path:"messagePage",component:cn,outlet:"outledProfile"}]}];let Pn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forChild(On)],s.Bz]}),e})(),Dn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h,Pn,l.UX,xn.AuthModule]]}),e})(),Rn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h,l.UX]]}),e})();var Fn=function(e){var t=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==t&&t?"#connector":""].join("")},Nn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return Fn(e)}).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}};const Mn=function(){},Ln=function(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((n=e,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(t));var n};Nn({name:"breadcrumb",connector:!0});const Zn=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})};function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(t){jn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn=function(e,t){var n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},Vn=function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)},zn=function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)},Hn=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var n=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return-1}(e);if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r},e.hierarchicalFacets)})},Gn=function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)},$n=function(e,t){return e.setQueryParameters({facetsRefinements:qn(qn({},e.facetsRefinements),t.facetsRefinements)})},Wn=function(e,t){return e.setQueryParameters({facetsExcludes:qn(qn({},e.facetsExcludes),t.facetsExcludes)})},Yn=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:qn(qn({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},Kn=function(e,t){return e.setQueryParameters({numericRefinements:qn(qn({},e.numericRefinements),t.numericRefinements)})},Qn=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:qn(qn({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},Jn=function(e,t){var n=Zn([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e};const Xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=Qn(e,t),r=Hn(n,t),i=Gn(r,t),s=Kn(i,t),o=Yn(s,t),a=Wn(o,t),c=$n(a,t),l=zn(c,t),u=Jn(l,t),h=Vn(u,t);return Bn(h,t)})};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Nn({name:"clear-refinements",connector:!0}),Nn({name:"current-refinements",connector:!0}),Nn({name:"hierarchical-menu",connector:!0}),Nn({name:"hits-per-page",connector:!0});var rr=function(e){var t,n=e.method,r=e.objectIDs,i=e.results.index,s=(t=e.hits,r.map(function(e){var n=function(t,n){for(var r,i=0;i<t.length;i++)if((r=t[i]).objectID===e)return r}(t);if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n})),o=function(e){var t=Zn(e.map(function(e){return e.__queryID}));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(s);switch(n){case"clickedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r,positions:function(e){return e.map(function(e){return e.__position})}(s)};case"convertedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r};default:throw new Error('Unsupported method passed to insights: "'.concat(n,'".'))}};function ir(e){return function(t,n){return e(function(e,n){var r=e.results,i=e.hits,s=e.instantSearchInstance;if(r&&i&&s){var o=function(e,t,n){return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];var a=s[0];if(!e){var c=Nn({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(a.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var l=rr({method:r,results:t,hits:n,objectIDs:a.objectIDs});e(r,tr(tr({},l),a))}}(s.insightsClient,r,i);return t(tr(tr({},e),{},{insights:o}),n)}return t(e,n)},n)}}function sr(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ar=function(e){var t=e.index,n=e.widgetType,r=e.args;if(1===r.length&&"object"===or(r[0]))return[r[0]];var i=r[0],s=r[1],o=r[2];if(!s)return[];if(("click"===i||"conversion"===i)&&!o)return[];var a=Array.isArray(s)?function(e){return e.slice()}(s):[s];if(0===a.length)return[];var c=a[0].__queryID,l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(a),u=l.map(function(e){return e.map(function(e){return e.objectID})}),h=l.map(function(e){return e.map(function(e){return e.__position})});return"view"===i?l.map(function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:i,payload:{eventName:o||"Hits Viewed",index:t,objectIDs:u[r]},hits:e}}):"click"===i?l.map(function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:o,index:t,queryID:c,objectIDs:u[r],positions:h[r]},hits:e}}):"conversion"===i?l.map(function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:o,index:t,queryID:c,objectIDs:u[r]},hits:e}}):[]};function cr(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];var o=ar({widgetType:r,index:n,methodName:"sendEvent",args:i});o.forEach(function(e){return t.sendEventToInsights(e)})}}function lr(e){var t=e.index,n=e.widgetType;return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=ar({widgetType:n,index:t,methodName:"bindEvent",args:r});return s.length?"data-insights-event=".concat(sr(s)):""}}var ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hr=/[&<>"']/g,dr=RegExp(hr.source);function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach(function(t){yr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},_r="<mark>",br="</mark>";function wr(e){return function(e){if(!function(e){return"object"===pr(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)&&"string"!=typeof e.value?Object.keys(e).reduce(function(t,n){return gr(gr({},t),{},yr({},n,wr(e[n])))},{}):Array.isArray(e)?e.map(wr):gr(gr({},e),{},{value:(t=e.value,function(e){return e&&dr.test(e)?e.replace(hr,function(e){return ur[e]}):e}(t).replace(new RegExp(vr.highlightPreTag,"g"),_r).replace(new RegExp(vr.highlightPostTag,"g"),br))});var t}function Cr(e){return void 0===e.__escaped&&((e=e.map(function(e){var t=fr({},e);return t._highlightResult&&(t._highlightResult=wr(t._highlightResult)),t._snippetResult&&(t._snippetResult=wr(t._snippetResult)),t})).__escaped=!0),e}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(t){Tr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t,n){return e.map(function(e,r){return xr(xr({},e),{},{__position:n*t+r+1})})}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach(function(t){Ir(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e,t){return t?e.map(function(e){return Ar(Ar({},e),{},{__queryID:t})}):e}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(t){Rr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=Nn({name:"hits",connector:!0});function Nr(e){return e!==Object(e)}ir(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;return Ln(e,Fr()),function(n){var r,i,s=n||{},o=s.escapeHTML,a=void 0===o||o,c=s.transformItems,l=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(Dr(Dr({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);e(Dr(Dr({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1),n.sendEvent("view",n.hits)},getRenderState:function(e,t){return Dr(Dr({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,s=e.helper;if(r||(r=cr({instantSearchInstance:e.instantSearchInstance,index:s.getIndex(),widgetType:this.$$type})),i||(i=lr({index:s.getIndex(),widgetType:this.$$type})),!t)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};a&&t.hits.length>0&&(t.hits=Cr(t.hits));var o=Or(Er(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:l(o,{results:t}),results:t,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),a?n.setQueryParameters(Object.keys(vr).reduce(function(e,t){return Dr(Dr({},e),{},Rr({},t,void 0))},{})):n},getWidgetSearchParameters:function(e){return a?e.setQueryParameters(vr):e}}}});const Mr=function e(t,n){if(t===n)return!0;if(Nr(t)||Nr(n)||"function"==typeof t||"function"==typeof n)return t===n;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var r=0,i=Object.keys(t);r<i.length;r++){var s=i[r];if(!(s in n))return!1;if(!e(t[s],n[s]))return!1}return!0};function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach(function(t){Ur(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e){return function(e){if(Array.isArray(e))return jr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Br=Nn({name:"infinite-hits",connector:!0});function Vr(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}function zr(){var e=null,t=null;return{read:function(n){return Mr(t,Vr(n.state))?e:null},write:function(n){var r=n.hits;t=Vr(n.state),e=r}}}function Hr(e){return Object.keys(e).map(Number).sort(function(e,t){return e-t}).reduce(function(t,n){return t.concat(e[n])},[])}ir(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;return Ln(e,Br()),function(n){var r,i,s,o,a=n||{},c=a.escapeHTML,l=void 0===c||c,u=a.transformItems,h=void 0===u?function(e){return e}:u,d=a.cache,p=void 0===d?zr():d,f=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.min.apply(Math,[r].concat(qr(i)))},m=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.max.apply(Math,[r].concat(qr(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(Zr(Zr({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);e(Zr(Zr({},r),{},{instantSearchInstance:n}),!1),s("view",r.currentPageHits)},getRenderState:function(e,t){return Zr(Zr({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,a=e.results,c=e.helper,u=e.state,d=e.instantSearchInstance,g=[],y=p.read({state:u})||{};if(a){var v=u.page,_=void 0===v?0:v;l&&a.hits.length>0&&(a.hits=Cr(a.hits));var b=Or(Er(a.hits,a.page,a.hitsPerPage),a.queryID),w=h(b,{results:a});void 0!==y[_]||a.__isArtificial||(y[_]=w,p.write({state:u,hits:y})),g=w,t=0===f(u,y)}else r=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(Zr(Zr({},e.state),{},{page:f(e.state,p.read({state:e.state})||{})-1})).searchWithoutTriggeringOnStateChange()}}(c),i=function(e){return function(){e.setPage(m(e.state,p.read({state:e.state})||{})+1).search()}}(c),s=cr({instantSearchInstance:d,index:c.getIndex(),widgetType:this.$$type}),o=lr({index:c.getIndex(),widgetType:this.$$type}),t=void 0===u.page||0===f(u,y);var C=Hr(y),S=!a||a.nbPages<=m(u,y)+1;return{hits:C,currentPageHits:g,sendEvent:s,bindEvent:o,results:a,showPrevious:r,showMore:i,isFirstPage:t,isLastPage:S,widgetParams:n}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("page",void 0);return l?r.setQueryParameters(Object.keys(vr).reduce(function(e,t){return Zr(Zr({},e),{},Ur({},t,void 0))},{})):r},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?Zr(Zr({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e;return l&&(r=e.setQueryParameters(vr)),r.setQueryParameter("page",n.page?n.page-1:0)}}}}),Nn({name:"menu",connector:!0}),Nn({name:"numeric-menu",connector:!0}),Nn({name:"pagination",connector:!0}),Nn({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),Nn({name:"refinement-list",connector:!0}),Nn({name:"search-box",connector:!0}),Nn({name:"sort-by",connector:!0}),Nn({name:"rating-menu",connector:!0}),Nn({name:"stats",connector:!0}),Nn({name:"toggle-refinement",connector:!0});var Gr=n(28);Nn({name:"configure",connector:!0});const $r=function(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)};Nn({name:"configure-related-items",connector:!0}),Nn({name:"query-rules",connector:!0}),Nn({name:"voice-search",connector:!0});var Wr=n(5772);function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach(function(t){Qr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jr(e){return function(e){if(Array.isArray(e))return Xr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ei=Nn({name:"index-widget"});function ti(e){return"ais.index"===e.$$type}function ni(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,n){return ti(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e},n)}function ii(e,t){var n=t.initialSearchParameters,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["initialSearchParameters"]);return e.filter(function(e){return!ti(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e},n)}function si(e){var t=e.filter(ti);0!==t.length&&t.forEach(function(e){var t=e.getHelper();ni(t,{state:t.state.resetPage(),isPageReset:!0}),si(e.getWidgets())})}function oi(e){return e.filter(ti).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Jr(oi(t.getWidgets()))))},[])}const ai=function(e){if(void 0===e||void 0===e.indexName)throw new Error(ei("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],s={},o=null,a=null,c=null,l=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){return l&&l.lastResults},getScopedResults:function(){var e=this.getParent();return oi(e?e.getWidgets():[this])},getParent:function(){return a},createURL:function(e){return o._createURL(Qr({},r,ri(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ei("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(ei("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),o&&Boolean(e.length)&&(ni(c,{state:ii(i,{uiState:s,initialSearchParameters:c.state}),_uiState:s}),e.forEach(function(e){e.getRenderState&&ci({renderState:e.getRenderState(o.renderState[t.getIndexId()]||{},{uiState:o._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:o,state:c.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}}),instantSearchInstance:o,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:c,parent:t,uiState:o._initialUiState,instantSearchInstance:o,state:c.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}})}),o.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ei("The `removeWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(ei("The widget definition expects a `dispose` method."));if(i=i.filter(function(t){return-1===e.indexOf(t)}),o&&Boolean(e.length)){var n=e.reduce(function(e,n){return n.dispose({helper:c,state:e,parent:t})||e},c.state);s=ri(i,{searchParameters:n,helper:c}),c.setState(ii(i,{uiState:s,initialSearchParameters:n})),i.length&&o.scheduleSearch()}return this},init:function(e){var n,u=this,h=e.instantSearchInstance,d=e.uiState;if(null===c){o=h,a=e.parent;var p=h.mainHelper,f=ii(i,{uiState:s=d[r]||{},initialSearchParameters:new Gr.SearchParameters({index:t})});(c=Gr({},f.index,f)).search=function(){return h.onStateChange?(h.onStateChange({uiState:h.mainIndex.getWidgetUiState({}),setUiState:h.setUiState.bind(h)}),p):p.search()},c.searchWithoutTriggeringOnStateChange=function(){return p.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return p.searchForFacetValues(e,t,n,i)},l=p.derive(function(){return Xn.apply(void 0,Jr(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(u)))});var m=null===(n=h._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(m){var g=new Gr.SearchResults(new Gr.SearchParameters(m.state),m.results);l.lastResults=g,c.lastResults=g}c.on("change",function(e){e.isPageReset&&si(i)}),l.on("search",function(){h.scheduleStalledRender()}),l.on("result",function(e){var t=e.results;h.scheduleRender(),c.lastResults=t}),i.forEach(function(e){e.getRenderState&&ci({renderState:e.getRenderState(h.renderState[u.getIndexId()]||{},{uiState:d,helper:c,parent:u,instantSearchInstance:h,state:c.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:u.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}}),instantSearchInstance:h,parent:u})}),i.forEach(function(e){e.init&&e.init({uiState:d,helper:c,parent:u,instantSearchInstance:h,state:c.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:u.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}})}),c.on("change",function(e){s=ri(i,{searchParameters:e.state,helper:c},e._uiState||{}),h.onStateChange||h.onInternalStateChange()}),m&&h.scheduleRender()}},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(i.forEach(function(e){e.getRenderState&&ci({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})}),i.forEach(function(e){e.render&&e.render({helper:c,parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}})}))},dispose:function(){var e=this;i.forEach(function(t){t.dispose&&t.dispose({helper:c,state:c.state,parent:e})}),o=null,a=null,c.removeAllListeners(),c=null,l.detach(),l=null},getWidgetUiState:function(e){return i.filter(ti).reduce(function(e,t){return t.getWidgetUiState(e)},Kr(Kr({},e),{},Qr({},this.getIndexId(),s)))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){return ii(i,{uiState:t.uiState,initialSearchParameters:e})},refreshUiState:function(){s=ri(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)}}};function ci(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Kr(Kr({},n.renderState),{},Qr({},i,Kr(Kr({},n.renderState[i]),t)))}const li="4.40.5";var ui=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",s=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(s)}},hi=ui("Highlight");function di(e){var t=e.highlightedTagName,n=void 0===t?"mark":t,r=e.cssClasses,i=void 0===r?{}:r,s=($r(e.hit._highlightResult,e.attribute)||{}).value,o=void 0===s?"":s,a=hi({descendantName:"highlighted"})+(i.highlighted?" ".concat(i.highlighted):"");return o.replace(new RegExp(_r,"g"),"<".concat(n,' class="').concat(a,'">')).replace(new RegExp(br,"g"),"</".concat(n,">"))}function pi(e){return e.map(function(e){return e.isHighlighted?"<mark>"+e.value+"</mark>":e.value}).join("")}var fi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mi=/&(amp|quot|lt|gt|#39);/g,gi=RegExp(mi.source),yi=new RegExp(/\w/i);function vi(e,t){var n,r,i,s=e[t],o=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,a=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return yi.test((i=s.value)&&gi.test(i)?i.replace(mi,function(e){return fi[e]}):i)||a!==o?s.isHighlighted:a}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach(function(t){wi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e){return e.some(function(e){return e.isHighlighted})?e.map(function(t,n){return bi(bi({},t),{},{isHighlighted:!vi(e,n)})}):e.map(function(e){return bi(bi({},e),{},{isHighlighted:!1})})}function Si(e){var t=e.split(_r),n=t.shift(),r=n?[{value:n,isHighlighted:!1}]:[];return t.forEach(function(e){var t=e.split("</mark>");r.push({value:t[0],isHighlighted:!0}),""!==t[1]&&r.push({value:t[1],isHighlighted:!1})}),r}var xi=ui("ReverseHighlight");function Ti(e){var t=e.highlightedTagName,n=void 0===t?"mark":t,r=e.cssClasses,i=void 0===r?{}:r,s=($r(e.hit._highlightResult,e.attribute)||{}).value,o=void 0===s?"":s,a=xi({descendantName:"highlighted"})+(i.highlighted?" ".concat(i.highlighted):"");return pi(Ci(Si(o))).replace(new RegExp(_r,"g"),"<".concat(n,' class="').concat(a,'">')).replace(new RegExp(br,"g"),"</".concat(n,">"))}var Ei=ui("Snippet");function ki(e){var t=e.highlightedTagName,n=void 0===t?"mark":t,r=e.cssClasses,i=void 0===r?{}:r,s=($r(e.hit._snippetResult,e.attribute)||{}).value,o=void 0===s?"":s,a=Ei({descendantName:"highlighted"})+(i.highlighted?" ".concat(i.highlighted):"");return o.replace(new RegExp(_r,"g"),"<".concat(n,' class="').concat(a,'">')).replace(new RegExp(br,"g"),"</".concat(n,">"))}var Ai=ui("ReverseSnippet");function Ii(e){var t=e.highlightedTagName,n=void 0===t?"mark":t,r=e.cssClasses,i=void 0===r?{}:r,s=($r(e.hit._snippetResult,e.attribute)||{}).value,o=void 0===s?"":s,a=Ai({descendantName:"highlighted"})+(i.highlighted?" ".concat(i.highlighted):"");return pi(Ci(Si(o))).replace(new RegExp(_r,"g"),"<".concat(n,' class="').concat(a,'">')).replace(new RegExp(br,"g"),"</".concat(n,">"))}function Oi(e){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){return function(e){var t,n=e.method,r=e.payload;if("object"!==Oi(r))throw new Error("The insights helper expects the payload to be an object.");try{t=sr(r)}catch(i){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach(function(t){Fi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e){var t=e.numberLocale;return{formatNumber:function(e,n){return Number(n(e)).toLocaleString(t)},highlight:function(e,t){try{return t(di(Ri(Ri({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(Ti(Ri(Ri({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(ki(Ri(Ri({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(Ii(Ri(Ri({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e);return t(Pi(n.method,Ri({objectIDs:[this.objectID]},n.payload)))}catch(r){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var Mi=Promise.resolve();const Li=function(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];null===t&&(t=Mi.then(function(){t=null,n?n=!1:e.apply(void 0,i)}))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r};function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach(function(t){qi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ji(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["configure"])}function Bi(){return{stateToRoute:function(e){return Object.keys(e).reduce(function(t,n){return Ui(Ui({},t),{},qi({},n,ji(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){return Ui(Ui({},t),{},qi({},n,ji(e[n])))},{})}}}var Vi=n(9009);function zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=t.fallback;return"undefined"==typeof window?n():e({window:window})}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=function(e){e&&(window.document.title=e)},$i=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=void 0===i?400:i,o=t.createURL,a=t.parseURL,c=t.getLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hi(this,"windowTitle",void 0),Hi(this,"writeDelay",void 0),Hi(this,"_createURL",void 0),Hi(this,"parseURL",void 0),Hi(this,"getLocation",void 0),Hi(this,"writeTimer",void 0),Hi(this,"inPopState",!1),Hi(this,"isDisposed",!1),Hi(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=o,this.parseURL=a,this.getLocation=c,zi(function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());Gi(r),n.latestAcknowledgedHistory=t.history.length})}var t;return(t=[{key:"read",value:function(){return this.parseURL({qsModule:Vi,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;zi(function(n){var r=n.window,i=t.createURL(e),s=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){Gi(s),t.shouldWrite(i)&&(r.history.pushState(e,s||"",i),t.latestAcknowledgedHistory=r.history.length),t.inPopState=!1,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(n.state||t.read())},zi(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:Vi,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,zi(function(t){e._onPopState&&t.window.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(e){var t=this;return zi(function(n){var r=n.window;return!(t.inPopState||t.isDisposed&&t.latestAcknowledgedHistory!==r.history.length||e===r.location.href)})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.location,n=t.protocol,r=t.hostname,i=t.port,s=void 0===i?"":i,o=t.pathname,a=t.hash,c=e.qsModule.stringify(e.routeState),l=""===s?"":":".concat(s);return c?"".concat(n,"//").concat(r).concat(l).concat(o,"?").concat(c).concat(a):"".concat(n,"//").concat(r).concat(l).concat(o).concat(a)}:t,r=e.parseURL,i=void 0===r?function(e){return e.qsModule.parse(e.location.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,o=void 0===s?400:s,a=e.windowTitle,c=e.getLocation,l=void 0===c?function(){return zi(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c;return new $i({createURL:n,parseURL:i,writeDelay:o,windowTitle:a,getLocation:l})}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach(function(t){Qi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e,t,n){var r=t.mainIndex,i={instantSearchInstance:t,parent:r,scopedResults:[],state:r.getHelper().state,helper:r.getHelper(),createURL:r.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(e){var r={};if(e.getWidgetRenderState){var s=e.getWidgetRenderState(i);s&&s.widgetParams&&(r=s.widgetParams)}var o=Object.keys(r).filter(function(e){return void 0!==r[e]});n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:o}),"ais.index"===e.$$type&&Ji(e.getWidgets(),t,n)})}function Xi(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,Ji(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)},0)},unsubscribe:function(){r.remove()}}}}function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){as(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function is(e,t){return!t||"object"!==es(t)&&"function"!=typeof t?ss(e):t}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cs=Nn({name:"instantsearch"});function ls(){return"#"}const us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(s,e);var t,n,r,i=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=os(n);if(r){var i=os(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return is(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),as(ss(t=i.call(this)),"client",void 0),as(ss(t),"indexName",void 0),as(ss(t),"insightsClient",void 0),as(ss(t),"onStateChange",null),as(ss(t),"helper",void 0),as(ss(t),"mainHelper",void 0),as(ss(t),"mainIndex",void 0),as(ss(t),"started",void 0),as(ss(t),"templatesConfig",void 0),as(ss(t),"renderState",{}),as(ss(t),"_stalledSearchDelay",void 0),as(ss(t),"_searchStalledTimer",void 0),as(ss(t),"_isSearchStalled",void 0),as(ss(t),"_initialUiState",void 0),as(ss(t),"_initialResults",void 0),as(ss(t),"_createURL",void 0),as(ss(t),"_searchFunction",void 0),as(ss(t),"_mainHelperSearch",void 0),as(ss(t),"middleware",[]),as(ss(t),"sendEventToInsights",void 0),as(ss(t),"scheduleSearch",Li(function(){t.started&&t.mainHelper.search()})),as(ss(t),"scheduleRender",Li(function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:ss(t)}),t.emit("render")})),as(ss(t),"onInternalStateChange",Li(function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})}));var n=e.indexName,r=void 0===n?null:n,o=e.numberLocale,a=e.initialUiState,c=void 0===a?{}:a,l=e.routing,u=void 0===l?null:l,h=e.searchFunction,d=e.stalledSearchDelay,p=void 0===d?200:d,f=e.searchClient,m=void 0===f?null:f,g=e.insightsClient,y=void 0===g?null:g,v=e.onStateChange,_=void 0===v?null:v;if(null===r)throw new Error(cs("The `indexName` option is required."));if(null===m)throw new Error(cs("The `searchClient` option is required."));if("function"!=typeof m.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof m.addAlgoliaAgent&&m.addAlgoliaAgent("instantsearch.js (".concat(li,")")),y&&"function"!=typeof y)throw new Error(cs("The `insightsClient` option should be a function."));return t.client=m,t.insightsClient=y,t.indexName=r,t.helper=null,t.mainHelper=null,t.mainIndex=ai({indexName:r}),t.onStateChange=_,t.started=!1,t.templatesConfig={helpers:Ni({numberLocale:o}),compileOptions:{}},t._stalledSearchDelay=p,t._searchStalledTimer=null,t._isSearchStalled=!1,t._createURL=ls,t._initialUiState=c,t._initialResults=null,h&&(t._searchFunction=h),t.sendEventToInsights=Mn,u&&t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?Wi():t,r=e.stateMapping,i=void 0===r?Bi():r;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=Object.keys(e).reduce(function(t,n){return Ki(Ki({},t),{},Qi({},n,e[n]))},t.mainIndex.getWidgetUiState({})),s=i.stateToRoute(r);return n.createURL(s)};var r=void 0,s=t._initialUiState;return{onStateChange:function(e){var t=i.stateToRoute(e.uiState);void 0!==r&&Mr(r,t)||(n.write(t),r=t)},subscribe:function(){t._initialUiState=Ki(Ki({},s),i.routeToState(n.read())),n.onUpdate(function(e){t.setUiState(i.routeToState(e))})},unsubscribe:function(){n.dispose()}}}}("boolean"==typeof u?void 0:u)),zi(function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})&&t.use(Xi()),t}return(t=[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map(function(t){var n=ns({subscribe:Mn,unsubscribe:Mn,onStateChange:Mn},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(cs("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(cs("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(cs("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(cs("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(cs("The `start` method has already been called once."));var t=this.mainHelper||Gr(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(Mn)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=Gr(n,r.state.index,r.state);return i.once("search",function(t){r.overrideStateWithoutTriggeringChangeEvent(t.state),e._mainHelperSearch()}),i.on("change",function(e){r.setState(e.state)}),e._searchFunction(i),t}}if(t.on("error",function(t){var n=t.error;n.error=n,e.emit("error",n)}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=Li(Mn),Li(function(){e.scheduleSearch=r})()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(cs("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(n){var r=t[n.getIndexId()]||{};n.getHelper().setState(n.getWidgetSearchParameters(n.getHelper().state,{uiState:r})),n.getWidgets().filter(ti).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(cs("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(cs("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,t),s}(Wr);function hs(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}var ds="ais.infiniteHits",ps=function(e,t){return e},fs=function(e){return new us(e)};fs.version=li,fs.createInfiniteHitsSessionStorageCache=ps(function(){return{read:function(e){var t=e.state,n=zi(function(e){return e.window.sessionStorage});if(!n)return null;try{var r=JSON.parse(n.getItem(ds));return r&&Mr(r.state,hs(t))?r.hits:null}catch(i){if(i instanceof SyntaxError)try{n.removeItem(ds)}catch(s){}return null}},write:function(e){var t=e.state,n=e.hits,r=zi(function(e){return e.window.sessionStorage});if(r)try{r.setItem(ds,JSON.stringify({state:hs(t),hits:n}))}catch(i){}}}}),fs.highlight=ps(di),fs.reverseHighlight=ps(Ti),fs.snippet=ps(ki),fs.reverseSnippet=ps(Ii),fs.insights=Pi,fs.getInsightsAnonymousUserToken=function(){return function(e){for(var t="".concat("_ALGOLIA","="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}()},Object.defineProperty(fs,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(fs,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}}),n(4323);var ms=n(9083),gs=n.n(ms);v();let ys=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),vs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),_s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),bs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),ws=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Cs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ss=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Cs]]}),e})(),xs=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ts=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Cs]]}),e})(),Es=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),ks=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),As=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Is=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Os=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ps=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Cs]]}),e})(),Ds=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Rs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Fs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ns=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ms=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Ls=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Zs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Us=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),qs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),js=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Bs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})(),Vs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez]]}),e})();"function"==typeof v()&&v(),gs();const zs=[Es,xs,Ss,Ds,vs,ks,Is,Ps,ws,Rs,As,Ns,Ms,Ts,_s,bs,Fs,Os,ys,Cs,Ls,Zs,Us,qs,js,Bs,Vs];let Hs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Es.forRoot()],Es,xs,Ss,Ds,vs,ks,Is,Ps,ws,Rs,As,Ns,Ms,Ts,_s,bs,Fs,Os,ys,Cs,Ls,Zs,Us,qs,js,Bs,Vs]}),e})(),Gs=(()=>{class e{static forRoot(){return{ngModule:Hs}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[zs,Es,xs,Ss,Ds,vs,ks,Is,Ps,ws,Rs,As,Ns,Ms,Ts,_s,bs,Fs,Os,ys,Cs,Ls,Zs,Us,qs,js,Bs,Vs]}),e})(),$s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[p.ez,Tn.h,s.Bz,En,l.UX,En]]}),e})(),Ws=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[Cn]}),e.\u0275inj=i.cJS({providers:[],imports:[[r.b2,hn,Sn.PW,xn.AuthModule,kn,Tn.h,An,Dn,In,En,Rn,$s,Gs.forRoot()]]}),e})();g.N.production&&(0,i.G48)(),r.q6().bootstrapModule(Ws).catch(e=>console.error(e))},9397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(839),i=n(3343),s=n(7776),o=n(2189);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,s.registerVersion)("@firebase/app-compat","0.1.18",void 0)},7776:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>S,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>m,_addOrOverwriteComponent:()=>g,_apps:()=>p,_clearComponents:()=>b,_components:()=>f,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>_,deleteApp:()=>k,getApp:()=>T,getApps:()=>E,initializeApp:()=>x,onLog:()=>O,registerVersion:()=>I,setLogLevel:()=>P});var r=n(6304),i=n(3343),s=n(2189),o=n(839);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",l="0.7.17",u=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,f=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(f.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of p.values())m(n,e);return!0}function v(e,t){return e.container.getProvider(t)}function _(e,t,n=h){v(e,t).clearInstance(n)}function b(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class C{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const S="9.6.7";function x(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=p.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const c=new C(e,n,a);return p.set(r,c),c}function T(e=h){const t=p.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function E(){return Array.from(p.values())}function k(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;p.has(t)&&(p.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function I(e,t,n){var r;let s=null!==(r=d[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function O(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function P(e){(0,s.Ub)(e)}y(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),I(c,l,""),I(c,l,"esm2017"),I("fire-js","")},3343:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>c});var r=n(6304),i=n(839);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},2189:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>l,Ub:()=>u,Am:()=>h});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},839:(e,t,n)=>{"use strict";n.d(t,{BH:()=>a,LL:()=>S,ZR:()=>C,zI:()=>w,US:()=>i,$s:()=>D,r3:()=>T,Sg:()=>c,ne:()=>I,vZ:()=>E,ZB:()=>o,m9:()=>R,z$:()=>l,jU:()=>d,ru:()=>p,d:()=>m,w1:()=>g,hl:()=>_,uI:()=>u,UG:()=>h,b$:()=>f,G6:()=>v,Mn:()=>y,zd:()=>A,eu:()=>b});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let l=(15&o)<<2|c>>6,u=63&c;a||(u=64,s||(l=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function d(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function g(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return l().indexOf("MSAppHost/")>=0}function v(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"object"==typeof indexedDB}function b(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function w(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(x,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new C(r,`${this.serviceName}: ${s} (${r}).`,n)}}const x=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(k(n)&&k(s)){if(!E(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k(e){return null!==e&&"object"==typeof e}function A(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function I(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P(){}function D(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function R(e){return e&&e._delegate?e._delegate:e}},4431:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=n(7776);(0,r.registerVersion)("firebase","9.6.7","app")},8674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(9397);r.Z.registerVersion("firebase","9.6.7","app-compat")},6369:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(9397),s=n(3854),o=n(7776),a=n(4762),c=n(9306),l=n(8604);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new c.Yd("@firebase/auth");function p(e,...t){d.logLevel<=c.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw v(e,...t)}function m(e,...t){return v(e,...t)}function g(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function _(e,t,...n){if(!e)throw v(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function w(e,t){e||b(t)}const C=new Map;function S(e){w(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function x(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(T()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new k(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function R(e,t,n,r){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n,i,o={}){return N(e,o,(0,r.Z)(function*(){let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),I.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function N(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}})).apply(this,arguments)}function L(e,t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield R(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function V(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=K(r);_(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$(Y(i.auth_time)),issuedAtTime:$(Y(i.iat)),expirationTime:$(Y(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(e){return 1e3*Number(e)}function K(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Q(e,H(n,{idToken:r}));_(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),c=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,l)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield N(e,{},(0,r.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=U(e,r,"/v1/token",`key=${i}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(void 0!==e.idToken,"internal-error"),_(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=K(e);return _(t,"internal-error"),_(void 0!==t.exp,"internal-error"),_(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return _(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ce;return n&&(_("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return b("not implemented")}}function le(e,t){_("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return _(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function(e,t){return B.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:S}=t;_(v&&S,e,"internal-error");const x=ce.fromJSON(this.name,S);_("string"==typeof v,e,"internal-error"),le(u,e.name),le(h,e.name),_("boolean"==typeof b,e,"internal-error"),_("boolean"==typeof w,e,"internal-error"),le(d,e.name),le(p,e.name),le(f,e.name),le(m,e.name),le(g,e.name),le(y,e.name);const T=new ue({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(T.providerData=C.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ce;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(S(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||S(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=ue._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(l){}const c=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(l){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function fe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(we(t))return"Webos";if(ge(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(_e(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ge(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function ve(e=(0,s.z$)()){return/iemobile/i.test(e)}function _e(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function we(e=(0,s.z$)()){return/webos/i.test(e)}function Ce(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Se(e=(0,s.z$)()){return Ce(e)||_e(e)||we(e)||be(e)||/windows phone/i.test(e)||ve(e)}function xe(e,t=[]){let n;switch(e){case"Browser":n=fe((0,s.z$)());break;case"Worker":n=`${fe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Te{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield pe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(_(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&_(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&_(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&S(e)||t._popupRedirectResolver;_(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[S(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return _(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function Ee(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ie(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Pe(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:resetPassword",D(e,t))})).apply(this,arguments)}function Re(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Ne(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",D(e,t))})).apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",D(e,t))})).apply(this,arguments)}function Ze(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendOobCode",D(e,t))})).apply(this,arguments)}function qe(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return Ze(e,t)})).apply(this,arguments)}function Be(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return Ze(e,t)})).apply(this,arguments)}function ze(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return Ze(e,t)})).apply(this,arguments)}function Ge(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ze(e,t)})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}class Ke extends Oe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ke(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ke(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Le.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:f(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ye.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:f(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qe(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",D(e,t))})).apply(this,arguments)}class Xe extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Oe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);_(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let ct=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return _(n,"argument-error"),Ke._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class lt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends lt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends ut{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends ut{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),ft=(()=>{class e extends ut{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Oe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gt extends lt{constructor(e){_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return gt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mt.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return mt._create(n,t)}catch(r){return null}}}let yt=(()=>{class e extends ut{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signUp",D(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),s=wt(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=wt(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function wt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ct(){return(Ct=(0,r.Z)(function*(e){var t;const n=Ee(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class St extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,St.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new St(e,t,n,r)}}function xt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw St._fromErrorAndOperation(e,n,t,r);throw n})}function Tt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Et(){return(Et=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield It(!0,n,t);const{providerUserInfo:r}=yield V(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Tt(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function kt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n=!1){const r=yield Q(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function It(e,t,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";_(Tt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Pt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Q(e,xt(r,i,t,e),n);_(s.idToken,r,"internal-error");const o=K(s.idToken);_(o,r,"internal-error");const{sub:a}=o;return _(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(r,"user-mismatch"),s}})).apply(this,arguments)}function Rt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield xt(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Nt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Rt(Ee(e),t)})).apply(this,arguments)}function Lt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield It(!1,n,t.providerId),kt(n,t)})).apply(this,arguments)}function Ut(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(e,t){return Pt((0,s.m9)(e),t)})).apply(this,arguments)}function jt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))})).apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){const n=Ee(e),r=yield jt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ht._fromServerResponse(e,t):f(e,"internal-error")}}class Ht extends zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ht(t)}}function Gt(e,t,n){var r;_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(){return($t=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){yield Pe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){yield Ne((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Kt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Pe(n,{oobCode:t}),i=r.requestType;switch(_(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(r.mfaInfo,n,"internal-error");default:_(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=zt._fromServerResponse(Ee(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const{data:n}=yield Kt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=Ee(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};_(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield ze(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ct.credentialWithLink(t,n||x());return _(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Nt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:createAuthUri",D(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:T()?x():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Q(r,cn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Q(e,Re(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class pn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class fn extends pn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class mn extends pn{constructor(e,t){super(e,"facebook.com",t)}}class gn extends fn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends pn{constructor(e,t){super(e,"google.com",t)}}class vn extends fn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function _n(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=K(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new pn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new mn(s,i);case"github.com":return new gn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new pn(s,null);default:return new pn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class wn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ee(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>zt._fromServerResponse(n,e));_(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new wn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return _(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,s);default:f(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Cn(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}class Sn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Sn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Q(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Q(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},R(s,"POST","/v2/accounts/mfaEnrollment:withdraw",D(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const xn=new WeakMap,Tn="__sak";class En{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tn,"1"),this.storage.removeItem(Tn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kn=(()=>{class e extends En{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ge(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),An=(()=>{class e extends En{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let In=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),l=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function On(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Pn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const l=On("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Dn(){return window}function Rn(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function Fn(){return(Fn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Nn="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Ln="fbase_key";class Zn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Un(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function qn(){const e=indexedDB.open(Nn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Ln})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Nn);return new Zn(e).toPromise()}(),t(yield qn()))}))})}function jn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t,n){const r=Un(e,!0).put({[Ln]:t,value:n});return new Zn(r).toPromise()})).apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(e,t){const n=Un(e,!1).get(t),r=yield new Zn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zn(e,t){const n=Un(e,!0).delete(t);return new Zn(n).toPromise()}const Hn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield qn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Rn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=In._getInstance(Rn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Fn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Pn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield qn();return yield jn(e,Tn,"1"),yield zn(e,Tn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>jn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Vn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Un(e,!1).getAll();return new Zn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function $n(){return($n=(0,r.Z)(function*(e){return(yield R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Yn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Kn=1e12;class Qn{constructor(e){this.auth=e,this.counter=Kn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Jn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Kn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Kn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Kn))||void 0===n||n.execute(),""})()}}class Jn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;_(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Yn("rcb"),er=new k(3e4,6e4);class tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(e,t=""){return _(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Dn().grecaptcha):new Promise((n,r)=>{const i=Dn().setTimeout(()=>{r(m(e,"network-request-failed"))},er.get());Dn()[Xn]=()=>{Dn().clearTimeout(i),delete Dn()[Xn];const s=Dn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Wn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Dn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(e){return(0,r.Z)(function*(){return new Qn(e)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},ir),n){this.parameters=t,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ee(n),this.isInvisible="invisible"===this.parameters.size,_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;_(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Dn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){_(T()&&!Rn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return $n.apply(this,arguments)}(e.auth);_(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=Ee(e),i=yield ur(r,t,(0,s.m9)(n));return new or(i,e=>Nt(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield It(!1,r,"phone");const i=yield ur(r.auth,t,(0,s.m9)(n));return new or(i,e=>Lt(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield ur(r.auth,t,(0,s.m9)(n));return new or(i,e=>Ut(r,e))})).apply(this,arguments)}function ur(e,t,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(_("string"==typeof i,e,"argument-error"),_(n.type===rr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return _("enroll"===t.type,e,"internal-error"),(yield Cn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{_("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return _(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t){yield kt((0,s.m9)(e),t)})).apply(this,arguments)}let pr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ee(t)}verifyPhoneNumber(e,t){return ur(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function fr(e,t){return t?S(t):(_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class mr extends Oe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gr(e){return Rt(e.auth,new mr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Pt(n,new mr(e),e.bypassAuthState)}function vr(e){return _r.apply(this,arguments)}function _r(){return(_r=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),kt(n,new mr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const c={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new k(2e3,1e4);function Cr(){return(Cr=(0,r.Z)(function*(e,t,n){const r=Ee(e);y(e,t,lt);const i=fr(r,n);return new Tr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,lt);const i=fr(r.auth,n);return new Tr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,lt);const i=fr(r.auth,n);return new Tr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Tr=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return _(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){w(1===e.filter.length,"Popup operations only handle one event");const t=On();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,wr.get())};e()}}return e.currentPopupAction=null,e})();const Er=new Map;class kr extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Er.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Ar.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Er.set(t.auth._key(),n)}return t.bypassAuthState||Er.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,r.Z)(function*(e,t){const n=Dr(t),r=Pr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Ir(e,t){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t){return Pr(e)._set(Dr(t),"true")})).apply(this,arguments)}function Pr(e){return S(e._redirectPersistence)}function Dr(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=Ee(e);y(e,t,lt);const i=fr(r,n);return yield Ir(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,lt);const i=fr(r.auth,n);yield Ir(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,lt);const i=fr(r.auth,n);yield It(!1,r,t.providerId),yield Ir(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield Ee(e)._initializationPromise,Lr(e,t,!1)})).apply(this,arguments)}function Lr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e,t,n=!1){const r=Ee(e),i=fr(r,t),s=new kr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Ur(e){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(e){const t=On(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class jr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(e))}saveEventToCache(e){this.cachedEventUids.add(Br(e)),this.lastProcessedEventTime=Date.now()}}function Br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function zr(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(e,t={}){return R(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$r=/^https?/;function Wr(){return(Wr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield zr(e);for(const r of t)try{if(Yr(r))return}catch(n){}f(e,"unauthorized-domain")})).apply(this,arguments)}function Yr(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$r.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kr=new k(3e4,6e4);function Qr(){const e=Dn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Jr=null;function Xr(e){return Jr=Jr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(m(e,"network-request-failed"))},timeout:Kr.get()})}if(null===(i=null===(r=Dn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Dn().gapi)||void 0===s?void 0:s.load)){const t=Yn("iframefcb");return Dn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Jr=null,e})}(e),Jr}const ei=new k(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ni.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(e){const t=yield Xr(e),n=Dn().gapi;return _(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Dn().setTimeout(()=>{r(i)},ei.get());function o(){Dn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ai(e,t,n,r,i,a){_(e.config.authDomain,e,"auth-domain-config-required"),_(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof lt){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ut){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const s of Object.keys(l))void 0===l[s]&&delete l[s];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(l).slice(1)}`}const ci="webStorageSupport";class li extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new li(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ui=(()=>{class e{constructor(){}static assertion(e){return li._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var hi,di="@firebase/auth",pi="0.19.9";class fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}hi="Browser",(0,o._registerComponent)(new l.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{_(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),_(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(hi)},s=new Te(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new l.wA("auth-internal",e=>{return t=Ee(e.getProvider("auth").getImmediate()),new fi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,pi,void 0),(0,o.registerVersion)(di,pi,"esm2017");var mi=n(839),gi=(n(2189),n(3343));function yi(){return window}function vi(){return(vi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=yi();w(t.sessionId,"AuthEvent did not contain a session ID");const s=yield wi(t.sessionId),o={};return Ce()?o.ibi=i.packageName:_e()?o.apn=i.packageName:f(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(e){const{BuildInfo:t}=yi(),n={};Ce()?n.iosBundleId=t.packageName:_e()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),yield zr(e,n)})).apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e,t,n){const{cordova:r}=yi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),_e()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function wi(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,r.Z)(function*(e){const t=Si(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Si(e){if(w(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}class xi extends jr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ti(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(e){const t=yield Ai()._get(Ii(e));return t&&(yield Ai()._remove(Ii(e))),t})).apply(this,arguments)}function ki(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ai(){return S(kn)}function Ii(e){return de("authEvent",e.config.apiKey,e.name)}function Oi(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,mi.zd)(n.join("?"))}function Pi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Di(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ri(e=(0,mi.z$)()){return!("file:"!==Di()&&"ionic:"!==Di()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fi(){try{const e=self.localStorage,t=On();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,mi.z$)()){return(0,mi.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,mi.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,mi.hl)()}catch(e){return Ni()&&(0,mi.hl)()}return!1}function Ni(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mi(){return("http:"===Di()||"https:"===Di()||(0,mi.ru)()||Ri())&&!((0,mi.b$)()||(0,mi.UG)())&&Fi()&&!Ni()}function Li(){return Ri()&&"undefined"!=typeof document}function Zi(){return(Zi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},qi=_,ji="persistence";function Bi(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=zi(),n=de(ji,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function zi(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Hi=_;class Gi{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=Lr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;w(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(e,t,n,x(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(c=ye(u)?"_blank":n),me(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new oi(null);const d=window.open(t||"",c,h);_(d,e,"popup-blocked");try{d.focus()}catch(p){}return new oi(d)}(e,a,On())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ai(e,t,n,x(),i),Dn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ii.apply(this,arguments)}(e),r=new jr(e);return n.register("authEvent",t=>(_(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ci,{type:ci},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Se()||ge()||Ce()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new xi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=yi();_("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Er.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:ki(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ai()._set(Ii(e),t)}(e,a);const c=yield function(e,t,n){return vi.apply(this,arguments)}(e,a,t),l=yield function(e){const{cordova:t}=yi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(c);return function(e,t,n){return bi.apply(this,arguments)}(e,r,l)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _i.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=yi(),o=setTimeout((0,r.Z)(function*(){yield Ti(e),t.onEvent(Pi())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ti(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Oi(e),n=t.link?decodeURIComponent(t.link):void 0,r=Oi(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Oi(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Oi(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?m(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Pi())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const c=i,l=`${s.packageName.toLowerCase()}://`;yi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof c)try{c(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=Lr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Zi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function $i(e){return e.unwrap()}function Wi(e){const{_tokenResponse:t}=e instanceof mi.ZR?e.customData:e;if(!t)return null;if(!(e instanceof mi.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return pr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=dt;break;case"github.com":r=ft;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof mi.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Yi(e,t){return t.catch(t=>{throw t instanceof mi.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Ji(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return _(t.customData.operationType,r,"argument-error"),_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(e,t));else if(r){const e=Wi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Wi(n)),additionalUserInfo:_n(e),user:Xi.getOrCreate(t)};var n})}function Ki(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Yi(e,n.confirm(t))}})).apply(this,arguments)}class Ji{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Yi($i(this.auth),this.resolver.resolveSignIn(e))}}class Xi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return xn.has(t)||xn.set(t,Sn._fromUser(t)),xn.get(t)}(e)}static getOrCreate(e){return Xi.USER_MAP.has(e)||Xi.USER_MAP.set(e,new Xi(e)),Xi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Yi(t.auth,Lt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return cr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Yi(t.auth,function(e,t,n){return xr.apply(this,arguments)}(t._delegate,e,Gi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Bi(Ee(t.auth)),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Gi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Yi(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return lr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Yi(this.auth,function(e,t,n){return Sr.apply(this,arguments)}(this._delegate,e,Gi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Bi(Ee(t.auth)),function(e,t,n){return function(e,t,n){return Fr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Gi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Et.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return dr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return un.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xi.USER_MAP=new WeakMap;const es=_;let ts=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;es(n,"invalid-api-key",{appName:e.name}),es(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Gi:void 0;this._delegate=t.initialize({options:{persistence:rs(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ee(e);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ie(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ie(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Kt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Yi(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){es(Mi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,Gi);return t?Yi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ee(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ns(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ns(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){qi(Object.values(Ui).includes(t),e,"invalid-persistence-type"),(0,mi.b$)()?qi(t!==Ui.SESSION,e,"unsupported-persistence-type"):(0,mi.UG)()?qi(t===Ui.NONE,e,"unsupported-persistence-type"):Ni()?qi(t===Ui.NONE||t===Ui.LOCAL&&(0,mi.hl)(),e,"unsupported-persistence-type"):qi(t===Ui.NONE||Fi(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Ui.SESSION:n=An;break;case Ui.LOCAL:n=(yield S(Hn)._isAvailable())?Hn:kn;break;case Ui.NONE:n=he;break;default:return f("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Yi(this._delegate,function(e){return Ct.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Yi(this._delegate,Nt(this._delegate,e))}signInWithCustomToken(e){return Yi(this._delegate,function(e,t){return Vt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Yi(this._delegate,function(e,t,n){return Nt((0,s.m9)(e),ct.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Yi(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return ar.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return es(Mi(),t._delegate,"operation-not-supported-in-this-environment"),Yi(t._delegate,function(e,t,n){return Cr.apply(this,arguments)}(t._delegate,e,Gi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return es(Mi(),t._delegate,"operation-not-supported-in-this-environment"),yield Bi(t._delegate),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Gi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Jt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Ui,e})();function ns(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Xi.getOrCreate(e)),error:t,complete:n}}function rs(e,t){const n=function(e,t){const n=zi();if(!n)return[];const r=de(ji,e,t);switch(n.getItem(r)){case Ui.NONE:return[he];case Ui.LOCAL:return[Hn,An];case Ui.SESSION:return[An];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(Hn)||n.push(Hn),"undefined"!=typeof window)for(const r of[kn,An])n.includes(r)||n.push(r);return n.includes(he)||n.push(he),n}class is{constructor(){this.providerId="phone",this._delegate=new pr($i(i.Z.auth()))}static credential(e,t){return pr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}is.PHONE_SIGN_IN_METHOD=pr.PHONE_SIGN_IN_METHOD,is.PROVIDER_ID=pr.PROVIDER_ID;const ss=_;var os;(os=i.Z).INTERNAL.registerComponent(new gi.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ts(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ct,FacebookAuthProvider:dt,GithubAuthProvider:ft,GoogleAuthProvider:pt,OAuthProvider:ht,SAMLAuthProvider:gt,PhoneAuthProvider:is,PhoneMultiFactorGenerator:ui,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;ss(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:ts,AuthCredential:Oe,Error:mi.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),os.registerVersion("@firebase/auth-compat","0.2.9")},7084:(e,t,n)=>{"use strict";var r=n(9397),i=n(6304),s=n(7776),o=n(839),a=n(3343);const c="firebasestorage.googleapis.com";class l extends o.ZR{constructor(e,t){super(u(e),`Firebase Storage: ${t} (${u(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}_codeEquals(e){return u(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function u(e){return"storage/"+e}function h(){return new l("unknown","An unknown error occurred, please check the error payload for server response.")}function d(){return new l("canceled","User canceled the upload/download.")}function p(){return new l("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(e){return new l("invalid-argument",e)}function m(){return new l("app-deleted","The Firebase app was deleted.")}function g(e){return new l("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y(e,t){return new l("invalid-format","String does not match format '"+e+"': "+t)}function v(e){throw new l("internal-error","Internal error: "+e)}class _{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_.makeFromUrl(e,t)}catch(r){return new _(e,"")}if(""===n.path)return n;throw new l("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===c?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){let e=r[t.indices.path];e||(e=""),n=new _(r[t.indices.bucket],e),t.postModify(n);break}}if(null==n)throw function(e){return new l("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class b{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function w(e){return"string"==typeof e||e instanceof String}function C(e){return S()&&e instanceof Blob}function S(){return"undefined"!=typeof Blob}function x(e,t,n,r){if(r<t)throw f(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw f(`Invalid value for '${e}'. Expected ${n} or less.`)}function T(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function E(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}var k=(()=>(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(k||(k={})),k))();class A{constructor(e,t,n,r,i,s,o,a,c,l,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?m():d():new l("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new I(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(p,c())},t)}function d(){s&&clearTimeout(s)}function p(e,...t){if(l)return void d();if(e)return d(),void u.call(null,e,...t);if(c()||o)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((e,t)=>{if(t)return void e(!1,new I(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{null!==this.progressCallback_&&this.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===k.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===k.ABORT;return void e(!1,new I(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new I(s,n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class I{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function O(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function P(...e){const t=O();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(S())return new Blob(e);throw new l("unsupported-environment","This browser doesn't seem to support creating Blobs")}const D={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class R{constructor(e,t){this.data=e,this.contentType=t||null}}function F(e,t){switch(e){case D.RAW:return new R(N(t));case D.BASE64:case D.BASE64URL:return new R(M(e,t));case D.DATA_URL:return new R(function(e){const t=new L(e);return t.base64?M(D.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw y(D.DATA_URL,"Malformed data URL.")}return N(t)}(t.rest)}(t),new L(t).contentType)}throw h()}function N(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function M(e,t){switch(e){case D.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case D.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(i){throw y(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class L{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw y(D.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(r=n).length>=(i=";base64").length&&r.substring(r.length-i.length)===i,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Z{constructor(e,t){let n=0,r="";C(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const s=(r=e,i=t,(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new Z(s)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Z(n,!0)}}static getBlob(...e){if(S()){const t=e.map(e=>e instanceof Z?e.data_:e);return new Z(P.apply(null,t))}{const t=e.map(e=>w(e)?F(D.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Z(r,!0)}}uploadData(){return this.data_}}function U(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function q(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function j(e,t){return t}class B{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||j}}let V=null;function z(){if(V)return V;const e=[];e.push(new B("bucket")),e.push(new B("generation")),e.push(new B("metageneration")),e.push(new B("name","fullPath",!0));const t=new B("name");t.xform=function(e,t){return function(e){return!w(e)||e.length<2?e:q(e)}(t)},e.push(t);const n=new B("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new B("timeCreated")),e.push(new B("updated")),e.push(new B("md5Hash",null,!0)),e.push(new B("cacheControl",null,!0)),e.push(new B("contentDisposition",null,!0)),e.push(new B("contentEncoding",null,!0)),e.push(new B("contentLanguage",null,!0)),e.push(new B("contentType",null,!0)),e.push(new B("metadata","customMetadata",!0)),V=e,V}function H(e,t,n){const r=U(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=new _(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function G(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ${constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function W(e){if(!e)throw h()}function Y(e,t){return function(n,r){const i=H(e,r,t);return W(null!==i),i}}function K(e){return function(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new l("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new l("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new l("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new l("unauthorized","User does not have permission to access '"+e.path+"'."):n,r.serverResponse=n.serverResponse,r}}function Q(e){const t=K(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=new l("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function J(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new $(r,"GET",Y(e,n),i);return s.errorHandler=Q(t),s}function X(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class ee{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function te(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){W(!1)}return W(!!n&&-1!==(t||["active"]).indexOf(n)),n}const ne=262144,re={STATE_CHANGED:"state_changed"},ie={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function se(e){switch(e){case"running":case"pausing":case"canceling":return ie.RUNNING;case"paused":return ie.PAUSED;case"success":return ie.SUCCESS;case"canceled":return ie.CANCELED;case"error":default:return ie.ERROR}}class oe{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function ae(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class ce extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=k.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=k.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=k.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw v("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw v("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw v("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw v("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw v("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function le(){return new ce}class ue{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=z(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=X(t,r,i),a={name:o.fullPath},c=T(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=G(o,n),h=new $(c,"POST",function(e){let t;te(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){W(!1)}return W(w(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=K(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,le,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=new $(n,"POST",function(e){const t=te(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){W(!1)}n||W(!1);const i=Number(n);return W(!isNaN(i)),new ee(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=K(t),i}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,le,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ne*this._chunkMultiplier,t=new ee(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let s;try{s=function(e,t,n,r,i,s,o,a){const c=new ee(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new l("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const u=c.total-c.current;let h=u;i>0&&(h=Math.min(h,i));const d=c.current,f={"X-Goog-Upload-Command":h===u?"upload, finalize":"upload","X-Goog-Upload-Offset":`${c.current}`},m=r.slice(d,d+h);if(null===m)throw p();const g=new $(n,"POST",function(e,n){const i=te(e,["active","final"]),o=c.current+h,a=r.size();let l;return l="final"===i?Y(t,s)(e,n):null,new ee(o,a,"final"===i,l)},t.maxUploadRetryTime);return g.headers=f,g.body=m.uploadData(),g.progressCallback=a||null,g.errorHandler=K(e),g}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,le,r,i);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ne*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=J(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,le,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=X(t,r,i),l=G(c,n),u=Z.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw p();const h={name:c.fullPath},d=T(s,e.host,e._protocol),f=e.maxUploadRetryTime,m=new $(d,"POST",Y(e,n),f);return m.urlParams=h,m.headers=o,m.body=u.uploadData(),m.errorHandler=K(t),m}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,le,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=d(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=se(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new oe(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(se(this._state)){case ie.SUCCESS:ae(this._resolve.bind(null,this.snapshot))();break;case ie.CANCELED:case ie.ERROR:ae(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(se(this._state)){case ie.RUNNING:case ie.PAUSED:e.next&&ae(e.next.bind(e,this.snapshot))();break;case ie.SUCCESS:e.complete&&ae(e.complete.bind(e))();break;case ie.CANCELED:case ie.ERROR:e.error&&ae(e.error.bind(e,this._error))();break;default:e.error&&ae(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class he{constructor(e,t){this._service=e,this._location=t instanceof _?t:_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new he(e,t)}get root(){const e=new _(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _(this._location.bucket,e);return new he(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw g(e)}}function de(e,t,n){return pe.apply(this,arguments)}function pe(){return(pe=(0,i.Z)(function*(e,t,n){const r={pageToken:n},i=yield fe(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield de(e,t,i.nextPageToken))})).apply(this,arguments)}function fe(e,t){null!=t&&"number"==typeof t.maxResults&&x("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=function(e,t,n,r,i){const s={};s.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=T(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new $(o,"GET",function(e,t){return function(n,r){const i=function(e,t,n){const r=U(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new _(t,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new _(t,i.name));r.items.push(n)}return r}(e,t,r)}(e,t,r);return W(null!==i),i}}(e,t.bucket),a);return c.urlParams=s,c.errorHandler=K(t),c}(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,le)}function me(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _(e._location.bucket,n);return new he(e.storage,r)}function ge(e,t){if(e instanceof _e){const n=e;if(null==n._bucket)throw new l("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new he(n,n._bucket);return null!=t?ge(r,t):r}return void 0!==t?me(e,t):e}function ye(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof _e)return new he(e,t);throw f("To use ref(service, url), the first argument must be a Storage instance.")}return ge(e,t)}function ve(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:_.makeFromBucketSpec(n,e)}class _e{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_.makeFromBucketSpec(r,this._host):ve(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_.makeFromBucketSpec(this._url,e):ve(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,i.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const e=yield t.getToken();if(null!==e)return e.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,i.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new he(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new b(m());{const i=function(e,t,n,r,i,s){const o=E(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new A(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(e,t){var n=this;return(0,i.Z)(function*(){const[r,i]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(e,t,r,i).getPromise()})()}}const be="@firebase/storage",we="0.9.2";function Ce(e,t){return ye(e=(0,o.m9)(e),t)}(0,s._registerComponent)(new a.wA("storage",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new _e(n,r,i,t,s.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(be,we,""),(0,s.registerVersion)(be,we,"esm2017");class Se{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xe{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Se(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new Se(t,this,this._ref))},t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new Se(e,this,this._ref)):{next:t.next?e=>t.next(new Se(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Te{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ee(e,this._service))}get items(){return this._delegate.items.map(e=>new Ee(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ee{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return me(e,t)}(this._delegate,e);return new Ee(t,this.storage)}get root(){return new Ee(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ee(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new xe(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ue(e,new Z(t),n)}(e=(0,o.m9)(e),t,n)}(this._delegate,e,t),this)}putString(e,t=D.RAW,n){this._throwIfRoot("putString");const r=F(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new xe(new ue(this._delegate,new Z(r.data,!0),i),this)}listAll(){return function(e){return function(e){const t={prefixes:[],items:[]};return de(e,t).then(()=>t)}(e=(0,o.m9)(e))}(this._delegate).then(e=>new Te(e,this.storage))}list(e){return function(e,t){return fe(e=(0,o.m9)(e),t)}(this._delegate,e||void 0).then(e=>new Te(e,this.storage))}getMetadata(){return function(e){return function(e){e._throwIfRoot("getMetadata");const t=J(e.storage,e._location,z());return e.storage.makeRequestWithTokens(t,le)}(e=(0,o.m9)(e))}(this._delegate)}updateMetadata(e){return function(e,t){return function(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=T(t.fullServerUrl(),e.host,e._protocol),s=G(n,r),o=e.maxOperationRetryTime,a=new $(i,"PATCH",Y(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Q(t),a}(e.storage,e._location,t,z());return e.storage.makeRequestWithTokens(n,le)}(e=(0,o.m9)(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return function(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new $(r,"GET",function(e,t){return function(n,r){const i=H(e,r,t);return W(null!==i),function(e,t,n,r){const i=U(t);if(null===i)return null;if(!w(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(t=>{const i=e.fullPath;return T("/b/"+o(e.bucket)+"/o/"+o(i),n,r)+E({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}(e,n),i);return s.errorHandler=Q(t),s}(e.storage,e._location,z());return e.storage.makeRequestWithTokens(t,le).then(e=>{if(null===e)throw new l("no-download-url","The given file does not have any download URLs.");return e})}(e=(0,o.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return function(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=T(t.fullServerUrl(),e.host,e._protocol),r=new $(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Q(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,le)}(e=(0,o.m9)(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw g(e)}}class ke{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ae(e))throw f("ref() expected a child path but got a URL, use refFromURL instead.");return new Ee(Ce(this._delegate,e),this)}refFromURL(e){if(!Ae(e))throw f("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_.makeFromUrl(e,this._delegate.host)}catch(t){throw f("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ee(Ce(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){!function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:(0,o.Sg)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)}}function Ae(e){return/^[A-Za-z]+:\/\//.test(e)}function Ie(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new ke(n,r)}!function(e){const t={TaskState:ie,TaskEvent:re,StringFormat:D,Storage:ke,Reference:Ee};e.INTERNAL.registerComponent(new a.wA("storage-compat",Ie,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.10")}(r.Z)},5259:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new u(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function f(e){this._db=e}s(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,l].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[l,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new p(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new f(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}n.d(t,{_T:()=>r})}},e=>{"use strict";e(e.s=6850)}]);